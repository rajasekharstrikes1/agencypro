function rI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Jj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var D0={exports:{}},yd={},O0={exports:{}},tr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function nI(){if(p2)return tr;p2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.iterator;function B(ie){return ie===null||typeof ie!="object"?null:(ie=w&&ie[w]||ie["@@iterator"],typeof ie=="function"?ie:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Q={};function k(ie,R,z){this.props=ie,this.context=R,this.refs=Q,this.updater=z||y}k.prototype.isReactComponent={},k.prototype.setState=function(ie,R){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,R,"setState")},k.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function M(){}M.prototype=k.prototype;function D(ie,R,z){this.props=ie,this.context=R,this.refs=Q,this.updater=z||y}var q=D.prototype=new M;q.constructor=D,U(q,k.prototype),q.isPureReactComponent=!0;var ee=Array.isArray,K=Object.prototype.hasOwnProperty,J={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function C(ie,R,z){var re,oe={},de=null,xe=null;if(R!=null)for(re in R.ref!==void 0&&(xe=R.ref),R.key!==void 0&&(de=""+R.key),R)K.call(R,re)&&!O.hasOwnProperty(re)&&(oe[re]=R[re]);var ge=arguments.length-2;if(ge===1)oe.children=z;else if(1<ge){for(var Ce=Array(ge),je=0;je<ge;je++)Ce[je]=arguments[je+2];oe.children=Ce}if(ie&&ie.defaultProps)for(re in ge=ie.defaultProps,ge)oe[re]===void 0&&(oe[re]=ge[re]);return{$$typeof:r,type:ie,key:de,ref:xe,props:oe,_owner:J.current}}function I(ie,R){return{$$typeof:r,type:ie.type,key:R,ref:ie.ref,props:ie.props,_owner:ie._owner}}function j(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===r}function N(ie){var R={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(z){return R[z]})}var T=/\/+/g;function S(ie,R){return typeof ie=="object"&&ie!==null&&ie.key!=null?N(""+ie.key):R.toString(36)}function te(ie,R,z,re,oe){var de=typeof ie;(de==="undefined"||de==="boolean")&&(ie=null);var xe=!1;if(ie===null)xe=!0;else switch(de){case"string":case"number":xe=!0;break;case"object":switch(ie.$$typeof){case r:case e:xe=!0}}if(xe)return xe=ie,oe=oe(xe),ie=re===""?"."+S(xe,0):re,ee(oe)?(z="",ie!=null&&(z=ie.replace(T,"$&/")+"/"),te(oe,R,z,"",function(je){return je})):oe!=null&&(j(oe)&&(oe=I(oe,z+(!oe.key||xe&&xe.key===oe.key?"":(""+oe.key).replace(T,"$&/")+"/")+ie)),R.push(oe)),1;if(xe=0,re=re===""?".":re+":",ee(ie))for(var ge=0;ge<ie.length;ge++){de=ie[ge];var Ce=re+S(de,ge);xe+=te(de,R,z,Ce,oe)}else if(Ce=B(ie),typeof Ce=="function")for(ie=Ce.call(ie),ge=0;!(de=ie.next()).done;)de=de.value,Ce=re+S(de,ge++),xe+=te(de,R,z,Ce,oe);else if(de==="object")throw R=String(ie),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return xe}function Be(ie,R,z){if(ie==null)return ie;var re=[],oe=0;return te(ie,re,"","",function(de){return R.call(z,de,oe++)}),re}function ae(ie){if(ie._status===-1){var R=ie._result;R=R(),R.then(function(z){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=z)},function(z){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=z)}),ie._status===-1&&(ie._status=0,ie._result=R)}if(ie._status===1)return ie._result.default;throw ie._result}var ue={current:null},se={transition:null},ce={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:se,ReactCurrentOwner:J};function fe(){throw Error("act(...) is not supported in production builds of React.")}return tr.Children={map:Be,forEach:function(ie,R,z){Be(ie,function(){R.apply(this,arguments)},z)},count:function(ie){var R=0;return Be(ie,function(){R++}),R},toArray:function(ie){return Be(ie,function(R){return R})||[]},only:function(ie){if(!j(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}},tr.Component=k,tr.Fragment=t,tr.Profiler=i,tr.PureComponent=D,tr.StrictMode=n,tr.Suspense=u,tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,tr.act=fe,tr.cloneElement=function(ie,R,z){if(ie==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ie+".");var re=U({},ie.props),oe=ie.key,de=ie.ref,xe=ie._owner;if(R!=null){if(R.ref!==void 0&&(de=R.ref,xe=J.current),R.key!==void 0&&(oe=""+R.key),ie.type&&ie.type.defaultProps)var ge=ie.type.defaultProps;for(Ce in R)K.call(R,Ce)&&!O.hasOwnProperty(Ce)&&(re[Ce]=R[Ce]===void 0&&ge!==void 0?ge[Ce]:R[Ce])}var Ce=arguments.length-2;if(Ce===1)re.children=z;else if(1<Ce){ge=Array(Ce);for(var je=0;je<Ce;je++)ge[je]=arguments[je+2];re.children=ge}return{$$typeof:r,type:ie.type,key:oe,ref:de,props:re,_owner:xe}},tr.createContext=function(ie){return ie={$$typeof:a,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ie.Provider={$$typeof:s,_context:ie},ie.Consumer=ie},tr.createElement=C,tr.createFactory=function(ie){var R=C.bind(null,ie);return R.type=ie,R},tr.createRef=function(){return{current:null}},tr.forwardRef=function(ie){return{$$typeof:l,render:ie}},tr.isValidElement=j,tr.lazy=function(ie){return{$$typeof:p,_payload:{_status:-1,_result:ie},_init:ae}},tr.memo=function(ie,R){return{$$typeof:d,type:ie,compare:R===void 0?null:R}},tr.startTransition=function(ie){var R=se.transition;se.transition={};try{ie()}finally{se.transition=R}},tr.unstable_act=fe,tr.useCallback=function(ie,R){return ue.current.useCallback(ie,R)},tr.useContext=function(ie){return ue.current.useContext(ie)},tr.useDebugValue=function(){},tr.useDeferredValue=function(ie){return ue.current.useDeferredValue(ie)},tr.useEffect=function(ie,R){return ue.current.useEffect(ie,R)},tr.useId=function(){return ue.current.useId()},tr.useImperativeHandle=function(ie,R,z){return ue.current.useImperativeHandle(ie,R,z)},tr.useInsertionEffect=function(ie,R){return ue.current.useInsertionEffect(ie,R)},tr.useLayoutEffect=function(ie,R){return ue.current.useLayoutEffect(ie,R)},tr.useMemo=function(ie,R){return ue.current.useMemo(ie,R)},tr.useReducer=function(ie,R,z){return ue.current.useReducer(ie,R,z)},tr.useRef=function(ie){return ue.current.useRef(ie)},tr.useState=function(ie){return ue.current.useState(ie)},tr.useSyncExternalStore=function(ie,R,z){return ue.current.useSyncExternalStore(ie,R,z)},tr.useTransition=function(){return ue.current.useTransition()},tr.version="18.3.1",tr}var g2;function zv(){return g2||(g2=1,O0.exports=nI()),O0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function iI(){if(m2)return yd;m2=1;var r=zv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,d){var p,w={},B=null,y=null;d!==void 0&&(B=""+d),u.key!==void 0&&(B=""+u.key),u.ref!==void 0&&(y=u.ref);for(p in u)n.call(u,p)&&!s.hasOwnProperty(p)&&(w[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)w[p]===void 0&&(w[p]=u[p]);return{$$typeof:e,type:l,key:B,ref:y,props:w,_owner:i.current}}return yd.Fragment=t,yd.jsx=a,yd.jsxs=a,yd}var w2;function sI(){return w2||(w2=1,D0.exports=iI()),D0.exports}var g=sI(),Se=zv();const AI=qx(Se),aI=rI({__proto__:null,default:AI},[Se]);var xp={},M0={exports:{}},Ys={},j0={exports:{}},H0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function oI(){return v2||(v2=1,function(r){function e(se,ce){var fe=se.length;se.push(ce);e:for(;0<fe;){var ie=fe-1>>>1,R=se[ie];if(0<i(R,ce))se[ie]=ce,se[fe]=R,fe=ie;else break e}}function t(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var ce=se[0],fe=se.pop();if(fe!==ce){se[0]=fe;e:for(var ie=0,R=se.length,z=R>>>1;ie<z;){var re=2*(ie+1)-1,oe=se[re],de=re+1,xe=se[de];if(0>i(oe,fe))de<R&&0>i(xe,oe)?(se[ie]=xe,se[de]=fe,ie=de):(se[ie]=oe,se[re]=fe,ie=re);else if(de<R&&0>i(xe,fe))se[ie]=xe,se[de]=fe,ie=de;else break e}}return ce}function i(se,ce){var fe=se.sortIndex-ce.sortIndex;return fe!==0?fe:se.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var u=[],d=[],p=1,w=null,B=3,y=!1,U=!1,Q=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(se){for(var ce=t(d);ce!==null;){if(ce.callback===null)n(d);else if(ce.startTime<=se)n(d),ce.sortIndex=ce.expirationTime,e(u,ce);else break;ce=t(d)}}function ee(se){if(Q=!1,q(se),!U)if(t(u)!==null)U=!0,ae(K);else{var ce=t(d);ce!==null&&ue(ee,ce.startTime-se)}}function K(se,ce){U=!1,Q&&(Q=!1,M(C),C=-1),y=!0;var fe=B;try{for(q(ce),w=t(u);w!==null&&(!(w.expirationTime>ce)||se&&!N());){var ie=w.callback;if(typeof ie=="function"){w.callback=null,B=w.priorityLevel;var R=ie(w.expirationTime<=ce);ce=r.unstable_now(),typeof R=="function"?w.callback=R:w===t(u)&&n(u),q(ce)}else n(u);w=t(u)}if(w!==null)var z=!0;else{var re=t(d);re!==null&&ue(ee,re.startTime-ce),z=!1}return z}finally{w=null,B=fe,y=!1}}var J=!1,O=null,C=-1,I=5,j=-1;function N(){return!(r.unstable_now()-j<I)}function T(){if(O!==null){var se=r.unstable_now();j=se;var ce=!0;try{ce=O(!0,se)}finally{ce?S():(J=!1,O=null)}}else J=!1}var S;if(typeof D=="function")S=function(){D(T)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Be=te.port2;te.port1.onmessage=T,S=function(){Be.postMessage(null)}}else S=function(){k(T,0)};function ae(se){O=se,J||(J=!0,S())}function ue(se,ce){C=k(function(){se(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){U||y||(U=!0,ae(K))},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return B},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(se){switch(B){case 1:case 2:case 3:var ce=3;break;default:ce=B}var fe=B;B=ce;try{return se()}finally{B=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,ce){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var fe=B;B=se;try{return ce()}finally{B=fe}},r.unstable_scheduleCallback=function(se,ce,fe){var ie=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ie+fe:ie):fe=ie,se){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=fe+R,se={id:p++,callback:ce,priorityLevel:se,startTime:fe,expirationTime:R,sortIndex:-1},fe>ie?(se.sortIndex=fe,e(d,se),t(u)===null&&se===t(d)&&(Q?(M(C),C=-1):Q=!0,ue(ee,fe-ie))):(se.sortIndex=R,e(u,se),U||y||(U=!0,ae(K))),se},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(se){var ce=B;return function(){var fe=B;B=ce;try{return se.apply(this,arguments)}finally{B=fe}}}}(H0)),H0}var y2;function lI(){return y2||(y2=1,j0.exports=oI()),j0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function uI(){if(B2)return Ys;B2=1;var r=zv(),e=lI();function t(A){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+A,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+A+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(A,o){a(A,o),a(A+"Capture",o)}function a(A,o){for(i[A]=o,A=0;A<o.length;A++)n.add(o[A])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},w={};function B(A){return u.call(w,A)?!0:u.call(p,A)?!1:d.test(A)?w[A]=!0:(p[A]=!0,!1)}function y(A,o,c,m){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function U(A,o,c,m){if(o===null||typeof o>"u"||y(A,o,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function Q(A,o,c,m,_,F,W){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=_,this.mustUseProperty=c,this.propertyName=A,this.type=o,this.sanitizeURL=F,this.removeEmptyString=W}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){k[A]=new Q(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var o=A[0];k[o]=new Q(o,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){k[A]=new Q(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){k[A]=new Q(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){k[A]=new Q(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){k[A]=new Q(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){k[A]=new Q(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){k[A]=new Q(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){k[A]=new Q(A,5,!1,A.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function D(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var o=A.replace(M,D);k[o]=new Q(o,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var o=A.replace(M,D);k[o]=new Q(o,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var o=A.replace(M,D);k[o]=new Q(o,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){k[A]=new Q(A,1,!1,A.toLowerCase(),null,!1,!1)}),k.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){k[A]=new Q(A,1,!1,A.toLowerCase(),null,!0,!0)});function q(A,o,c,m){var _=k.hasOwnProperty(o)?k[o]:null;(_!==null?_.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(U(o,c,_,m)&&(c=null),m||_===null?B(o)&&(c===null?A.removeAttribute(o):A.setAttribute(o,""+c)):_.mustUseProperty?A[_.propertyName]=c===null?_.type===3?!1:"":c:(o=_.attributeName,m=_.attributeNamespace,c===null?A.removeAttribute(o):(_=_.type,c=_===3||_===4&&c===!0?"":""+c,m?A.setAttributeNS(m,o,c):A.setAttribute(o,c))))}var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),J=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),se=Symbol.iterator;function ce(A){return A===null||typeof A!="object"?null:(A=se&&A[se]||A["@@iterator"],typeof A=="function"?A:null)}var fe=Object.assign,ie;function R(A){if(ie===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||""}return`
`+ie+A}var z=!1;function re(A,o){if(!A||z)return"";z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Pe){var m=Pe}Reflect.construct(A,[],o)}else{try{o.call()}catch(Pe){m=Pe}A.call(o.prototype)}else{try{throw Error()}catch(Pe){m=Pe}A()}}catch(Pe){if(Pe&&m&&typeof Pe.stack=="string"){for(var _=Pe.stack.split(`
`),F=m.stack.split(`
`),W=_.length-1,he=F.length-1;1<=W&&0<=he&&_[W]!==F[he];)he--;for(;1<=W&&0<=he;W--,he--)if(_[W]!==F[he]){if(W!==1||he!==1)do if(W--,he--,0>he||_[W]!==F[he]){var we=`
`+_[W].replace(" at new "," at ");return A.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",A.displayName)),we}while(1<=W&&0<=he);break}}}finally{z=!1,Error.prepareStackTrace=c}return(A=A?A.displayName||A.name:"")?R(A):""}function oe(A){switch(A.tag){case 5:return R(A.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return A=re(A.type,!1),A;case 11:return A=re(A.type.render,!1),A;case 1:return A=re(A.type,!0),A;default:return""}}function de(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case O:return"Fragment";case J:return"Portal";case I:return"Profiler";case C:return"StrictMode";case S:return"Suspense";case te:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case N:return(A.displayName||"Context")+".Consumer";case j:return(A._context.displayName||"Context")+".Provider";case T:var o=A.render;return A=A.displayName,A||(A=o.displayName||o.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case Be:return o=A.displayName||null,o!==null?o:de(A.type)||"Memo";case ae:o=A._payload,A=A._init;try{return de(A(o))}catch{}}return null}function xe(A){var o=A.type;switch(A.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=o.render,A=A.displayName||A.name||"",o.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Ce(A){var o=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function je(A){var o=Ce(A)?"checked":"value",c=Object.getOwnPropertyDescriptor(A.constructor.prototype,o),m=""+A[o];if(!A.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var _=c.get,F=c.set;return Object.defineProperty(A,o,{configurable:!0,get:function(){return _.call(this)},set:function(W){m=""+W,F.call(this,W)}}),Object.defineProperty(A,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(W){m=""+W},stopTracking:function(){A._valueTracker=null,delete A[o]}}}}function ke(A){A._valueTracker||(A._valueTracker=je(A))}function Xe(A){if(!A)return!1;var o=A._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return A&&(m=Ce(A)?A.checked?"true":"false":A.value),A=m,A!==c?(o.setValue(A),!0):!1}function $e(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function At(A,o){var c=o.checked;return fe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??A._wrapperState.initialChecked})}function Te(A,o){var c=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;c=ge(o.value!=null?o.value:c),A._wrapperState={initialChecked:m,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ae(A,o){o=o.checked,o!=null&&q(A,"checked",o,!1)}function bt(A,o){Ae(A,o);var c=ge(o.value),m=o.type;if(c!=null)m==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+c):A.value!==""+c&&(A.value=""+c);else if(m==="submit"||m==="reset"){A.removeAttribute("value");return}o.hasOwnProperty("value")?Ve(A,o.type,c):o.hasOwnProperty("defaultValue")&&Ve(A,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(A.defaultChecked=!!o.defaultChecked)}function ze(A,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+A._wrapperState.initialValue,c||o===A.value||(A.value=o),A.defaultValue=o}c=A.name,c!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,c!==""&&(A.name=c)}function Ve(A,o,c){(o!=="number"||$e(A.ownerDocument)!==A)&&(c==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+c&&(A.defaultValue=""+c))}var et=Array.isArray;function nt(A,o,c,m){if(A=A.options,o){o={};for(var _=0;_<c.length;_++)o["$"+c[_]]=!0;for(c=0;c<A.length;c++)_=o.hasOwnProperty("$"+A[c].value),A[c].selected!==_&&(A[c].selected=_),_&&m&&(A[c].defaultSelected=!0)}else{for(c=""+ge(c),o=null,_=0;_<A.length;_++){if(A[_].value===c){A[_].selected=!0,m&&(A[_].defaultSelected=!0);return}o!==null||A[_].disabled||(o=A[_])}o!==null&&(o.selected=!0)}}function rt(A,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},o,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function wt(A,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(et(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}A._wrapperState={initialValue:ge(c)}}function vt(A,o){var c=ge(o.value),m=ge(o.defaultValue);c!=null&&(c=""+c,c!==A.value&&(A.value=c),o.defaultValue==null&&A.defaultValue!==c&&(A.defaultValue=c)),m!=null&&(A.defaultValue=""+m)}function St(A){var o=A.textContent;o===A._wrapperState.initialValue&&o!==""&&o!==null&&(A.value=o)}function ct(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(A,o){return A==null||A==="http://www.w3.org/1999/xhtml"?ct(o):A==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var Ht,Ft=function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,m,_){MSApp.execUnsafeLocalFunction(function(){return A(o,c,m,_)})}:A}(function(A,o){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=o;else{for(Ht=Ht||document.createElement("div"),Ht.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ht.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;o.firstChild;)A.appendChild(o.firstChild)}});function Dt(A,o){if(o){var c=A.firstChild;if(c&&c===A.lastChild&&c.nodeType===3){c.nodeValue=o;return}}A.textContent=o}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(A){ar.forEach(function(o){o=o+A.charAt(0).toUpperCase()+A.substring(1),st[o]=st[A]})});function Wt(A,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||st.hasOwnProperty(A)&&st[A]?(""+o).trim():o+"px"}function jn(A,o){A=A.style;for(var c in o)if(o.hasOwnProperty(c)){var m=c.indexOf("--")===0,_=Wt(c,o[c],m);c==="float"&&(c="cssFloat"),m?A.setProperty(c,_):A[c]=_}}var fr=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fr(A,o){if(o){if(fr[A]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,A));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Hi(A,o){if(A.indexOf("-")===-1)return typeof o.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zt=null;function Ls(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Qr=null,An=null,Hn=null;function kr(A){if(A=Pl(A)){if(typeof Qr!="function")throw Error(t(280));var o=A.stateNode;o&&(o=ec(o),Qr(A.stateNode,A.type,o))}}function Tt(A){An?Hn?Hn.push(A):Hn=[A]:An=A}function rr(){if(An){var A=An,o=Hn;if(Hn=An=null,kr(A),o)for(A=0;A<o.length;A++)kr(o[A])}}function fs(A,o){return A(o)}function fn(){}var Vn=!1;function Vi(A,o,c){if(Vn)return A(o,c);Vn=!0;try{return fs(A,o,c)}finally{Vn=!1,(An!==null||Hn!==null)&&(fn(),rr())}}function dt(A,o){var c=A.stateNode;if(c===null)return null;var m=ec(c);if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var oi=!1;if(l)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){oi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{oi=!1}function Bn(A,o,c,m,_,F,W,he,we){var Pe=Array.prototype.slice.call(arguments,3);try{o.apply(c,Pe)}catch(Ze){this.onError(Ze)}}var Hr=!1,Vr=null,Yr=!1,IA=null,tA={onError:function(A){Hr=!0,Vr=A}};function li(A,o,c,m,_,F,W,he,we){Hr=!1,Vr=null,Bn.apply(tA,arguments)}function Ki(A,o,c,m,_,F,W,he,we){if(li.apply(this,arguments),Hr){if(Hr){var Pe=Vr;Hr=!1,Vr=null}else throw Error(t(198));Yr||(Yr=!0,IA=Pe)}}function pn(A){var o=A,c=A;if(A.alternate)for(;o.return;)o=o.return;else{A=o;do o=A,(o.flags&4098)!==0&&(c=o.return),A=o.return;while(A)}return o.tag===3?c:null}function ui(A){if(A.tag===13){var o=A.memoizedState;if(o===null&&(A=A.alternate,A!==null&&(o=A.memoizedState)),o!==null)return o.dehydrated}return null}function an(A){if(pn(A)!==A)throw Error(t(188))}function ps(A){var o=A.alternate;if(!o){if(o=pn(A),o===null)throw Error(t(188));return o!==A?null:A}for(var c=A,m=o;;){var _=c.return;if(_===null)break;var F=_.alternate;if(F===null){if(m=_.return,m!==null){c=m;continue}break}if(_.child===F.child){for(F=_.child;F;){if(F===c)return an(_),A;if(F===m)return an(_),o;F=F.sibling}throw Error(t(188))}if(c.return!==m.return)c=_,m=F;else{for(var W=!1,he=_.child;he;){if(he===c){W=!0,c=_,m=F;break}if(he===m){W=!0,m=_,c=F;break}he=he.sibling}if(!W){for(he=F.child;he;){if(he===c){W=!0,c=F,m=_;break}if(he===m){W=!0,m=F,c=_;break}he=he.sibling}if(!W)throw Error(t(189))}}if(c.alternate!==m)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?A:o}function rA(A){return A=ps(A),A!==null?nA(A):null}function nA(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var o=nA(A);if(o!==null)return o;A=A.sibling}return null}var iA=e.unstable_scheduleCallback,SA=e.unstable_cancelCallback,na=e.unstable_shouldYield,pl=e.unstable_requestPaint,Nr=e.unstable_now,gl=e.unstable_getCurrentPriorityLevel,Qs=e.unstable_ImmediatePriority,sA=e.unstable_UserBlockingPriority,qi=e.unstable_NormalPriority,ia=e.unstable_LowPriority,ml=e.unstable_IdlePriority,FA=null,bi=null;function sa(A){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(FA,A,void 0,(A.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:No,Kr=Math.log,Fo=Math.LN2;function No(A){return A>>>=0,A===0?32:31-(Kr(A)/Fo|0)|0}var Aa=64,NA=4194304;function UA(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function Yn(A,o){var c=A.pendingLanes;if(c===0)return 0;var m=0,_=A.suspendedLanes,F=A.pingedLanes,W=c&268435455;if(W!==0){var he=W&~_;he!==0?m=UA(he):(F&=W,F!==0&&(m=UA(F)))}else W=c&~_,W!==0?m=UA(W):F!==0&&(m=UA(F));if(m===0)return 0;if(o!==0&&o!==m&&(o&_)===0&&(_=m&-m,F=o&-o,_>=F||_===16&&(F&4194240)!==0))return o;if((m&4)!==0&&(m|=c&16),o=A.entangledLanes,o!==0)for(A=A.entanglements,o&=m;0<o;)c=31-Xn(o),_=1<<c,m|=A[c],o&=~_;return m}function Ha(A,o){switch(A){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(A,o){for(var c=A.suspendedLanes,m=A.pingedLanes,_=A.expirationTimes,F=A.pendingLanes;0<F;){var W=31-Xn(F),he=1<<W,we=_[W];we===-1?((he&c)===0||(he&m)!==0)&&(_[W]=Ha(he,o)):we<=o&&(A.expiredLanes|=he),F&=~he}}function Jn(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function TA(){var A=Aa;return Aa<<=1,(Aa&4194240)===0&&(Aa=64),A}function LA(A){for(var o=[],c=0;31>c;c++)o.push(A);return o}function AA(A,o,c){A.pendingLanes|=o,o!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,o=31-Xn(o),A[o]=c}function xr(A,o){var c=A.pendingLanes&~o;A.pendingLanes=o,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=o,A.mutableReadLanes&=o,A.entangledLanes&=o,o=A.entanglements;var m=A.eventTimes;for(A=A.expirationTimes;0<c;){var _=31-Xn(c),F=1<<_;o[_]=0,m[_]=-1,A[_]=-1,c&=~F}}function aA(A,o){var c=A.entangledLanes|=o;for(A=A.entanglements;c;){var m=31-Xn(c),_=1<<m;_&o|A[m]&o&&(A[m]|=o),c&=~_}}var Yt=0;function ks(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var wl,Va,vl,Ps,aa,QA=!1,gs=[],or=null,ms=null,Gi=null,Lt=new Map,zi=new Map,Rs=[],Ds="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uo(A,o){switch(A){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Lt.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(o.pointerId)}}function Zn(A,o,c,m,_,F){return A===null||A.nativeEvent!==F?(A={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:F,targetContainers:[_]},o!==null&&(o=Pl(o),o!==null&&Va(o)),A):(A.eventSystemFlags|=m,o=A.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),A)}function Ka(A,o,c,m,_){switch(o){case"focusin":return or=Zn(or,A,o,c,m,_),!0;case"dragenter":return ms=Zn(ms,A,o,c,m,_),!0;case"mouseover":return Gi=Zn(Gi,A,o,c,m,_),!0;case"pointerover":var F=_.pointerId;return Lt.set(F,Zn(Lt.get(F)||null,A,o,c,m,_)),!0;case"gotpointercapture":return F=_.pointerId,zi.set(F,Zn(zi.get(F)||null,A,o,c,m,_)),!0}return!1}function qa(A){var o=eo(A.target);if(o!==null){var c=pn(o);if(c!==null){if(o=c.tag,o===13){if(o=ui(c),o!==null){A.blockedOn=o,aa(A.priority,function(){vl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){A.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}A.blockedOn=null}function oA(A){if(A.blockedOn!==null)return!1;for(var o=A.targetContainers;0<o.length;){var c=la(A.domEventName,A.eventSystemFlags,o[0],A.nativeEvent);if(c===null){c=A.nativeEvent;var m=new c.constructor(c.type,c);Zt=m,c.target.dispatchEvent(m),Zt=null}else return o=Pl(c),o!==null&&Va(o),A.blockedOn=c,!1;o.shift()}return!0}function oa(A,o,c){oA(A)&&c.delete(o)}function yl(){QA=!1,or!==null&&oA(or)&&(or=null),ms!==null&&oA(ms)&&(ms=null),Gi!==null&&oA(Gi)&&(Gi=null),Lt.forEach(oa),zi.forEach(oa)}function Ei(A,o){A.blockedOn===o&&(A.blockedOn=null,QA||(QA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yl)))}function ei(A){function o(_){return Ei(_,A)}if(0<gs.length){Ei(gs[0],A);for(var c=1;c<gs.length;c++){var m=gs[c];m.blockedOn===A&&(m.blockedOn=null)}}for(or!==null&&Ei(or,A),ms!==null&&Ei(ms,A),Gi!==null&&Ei(Gi,A),Lt.forEach(o),zi.forEach(o),c=0;c<Rs.length;c++)m=Rs[c],m.blockedOn===A&&(m.blockedOn=null);for(;0<Rs.length&&(c=Rs[0],c.blockedOn===null);)qa(c),c.blockedOn===null&&Rs.shift()}var ci=ee.ReactCurrentBatchConfig,kA=!0;function mr(A,o,c,m){var _=Yt,F=ci.transition;ci.transition=null;try{Yt=1,PA(A,o,c,m)}finally{Yt=_,ci.transition=F}}function To(A,o,c,m){var _=Yt,F=ci.transition;ci.transition=null;try{Yt=4,PA(A,o,c,m)}finally{Yt=_,ci.transition=F}}function PA(A,o,c,m){if(kA){var _=la(A,o,c,m);if(_===null)Yu(A,o,m,RA,c),Uo(A,m);else if(Ka(_,A,o,c,m))m.stopPropagation();else if(Uo(A,m),o&4&&-1<Ds.indexOf(A)){for(;_!==null;){var F=Pl(_);if(F!==null&&wl(F),F=la(A,o,c,m),F===null&&Yu(A,o,m,RA,c),F===_)break;_=F}_!==null&&m.stopPropagation()}else Yu(A,o,m,null,c)}}var RA=null;function la(A,o,c,m){if(RA=null,A=Ls(m),A=eo(A),A!==null)if(o=pn(A),o===null)A=null;else if(c=o.tag,c===13){if(A=ui(o),A!==null)return A;A=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;A=null}else o!==A&&(A=null);return RA=A,null}function Ga(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gl()){case Qs:return 1;case sA:return 4;case qi:case ia:return 16;case ml:return 536870912;default:return 16}default:return 16}}var hi=null,Ii=null,ln=null;function Lo(){if(ln)return ln;var A,o=Ii,c=o.length,m,_="value"in hi?hi.value:hi.textContent,F=_.length;for(A=0;A<c&&o[A]===_[A];A++);var W=c-A;for(m=1;m<=W&&o[c-m]===_[F-m];m++);return ln=_.slice(A,1<m?1-m:void 0)}function ws(A){var o=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&o===13&&(A=13)):A=o,A===10&&(A=13),32<=A||A===13?A:0}function xn(){return!0}function ua(){return!1}function Jr(A){function o(c,m,_,F,W){this._reactName=c,this._targetInst=_,this.type=m,this.nativeEvent=F,this.target=W,this.currentTarget=null;for(var he in A)A.hasOwnProperty(he)&&(c=A[he],this[he]=c?c(F):F[he]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?xn:ua,this.isPropagationStopped=ua,this}return fe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),o}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lA=Jr(vs),Os=fe({},vs,{view:0,detail:0}),Qo=Jr(Os),DA,Ms,ys,uA=fe({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:at,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==ys&&(ys&&A.type==="mousemove"?(DA=A.screenX-ys.screenX,Ms=A.screenY-ys.screenY):Ms=DA=0,ys=A),DA)},movementY:function(A){return"movementY"in A?A.movementY:Ms}}),OA=Jr(uA),za=fe({},uA,{dataTransfer:0}),Bl=Jr(za),cA=fe({},Os,{relatedTarget:0}),js=Jr(cA),Wa=fe({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),di=Jr(Wa),$a=fe({},vs,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),x=Jr($a),V=fe({},vs,{data:0}),le=Jr(V),pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},De={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function We(A){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(A):(A=De[A])?!!o[A]:!1}function at(){return We}var f=fe({},Os,{key:function(A){if(A.key){var o=pe[A.key]||A.key;if(o!=="Unidentified")return o}return A.type==="keypress"?(A=ws(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?Ie[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:at,charCode:function(A){return A.type==="keypress"?ws(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?ws(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),E=Jr(f),P=fe({},uA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y=Jr(P),be=fe({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:at}),Le=Jr(be),Ye=fe({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qt=Jr(Ye),er=fe({},uA,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Gt=Jr(er),wr=[9,13,27,32],Cr=l&&"CompositionEvent"in window,Si=null;l&&"documentMode"in document&&(Si=document.documentMode);var ti=l&&"TextEvent"in window&&!Si,hA=l&&(!Cr||Si&&8<Si&&11>=Si),dA=" ",xl=!1;function Cl(A,o){switch(A){case"keyup":return wr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ko(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var un=!1;function _l(A,o){switch(A){case"compositionend":return ko(o);case"keypress":return o.which!==32?null:(xl=!0,dA);case"textInput":return A=o.data,A===dA&&xl?null:A;default:return null}}function bl(A,o){if(un)return A==="compositionend"||!Cr&&Cl(A,o)?(A=Lo(),ln=Ii=hi=null,un=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hA&&o.locale!=="ko"?null:o.data;default:return null}}var El={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Il(A){var o=A&&A.nodeName&&A.nodeName.toLowerCase();return o==="input"?!!El[A.type]:o==="textarea"}function Fi(A,o,c,m){Tt(m),o=jc(o,"onChange"),0<o.length&&(c=new lA("onChange","change",null,c,m),A.push({event:c,listeners:o}))}var Po=null,ca=null;function Dc(A){$u(A,0)}function Ni(A){var o=qo(A);if(Xe(o))return A}function Sl(A,o){if(A==="change")return o}var qu=!1;if(l){var Fl;if(l){var MA="oninput"in document;if(!MA){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),MA=typeof Xa.oninput=="function"}Fl=MA}else Fl=!1;qu=Fl&&(!document.documentMode||9<document.documentMode)}function Ui(){Po&&(Po.detachEvent("onpropertychange",fi),ca=Po=null)}function fi(A){if(A.propertyName==="value"&&Ni(ca)){var o=[];Fi(o,ca,A,Ls(A)),Vi(Dc,o)}}function Ya(A,o,c){A==="focusin"?(Ui(),Po=o,ca=c,Po.attachEvent("onpropertychange",fi)):A==="focusout"&&Ui()}function ha(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Ni(ca)}function da(A,o){if(A==="click")return Ni(o)}function Nl(A,o){if(A==="input"||A==="change")return Ni(o)}function fa(A,o){return A===o&&(A!==0||1/A===1/o)||A!==A&&o!==o}var pr=typeof Object.is=="function"?Object.is:fa;function pa(A,o){if(pr(A,o))return!0;if(typeof A!="object"||A===null||typeof o!="object"||o===null)return!1;var c=Object.keys(A),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var _=c[m];if(!u.call(o,_)||!pr(A[_],o[_]))return!1}return!0}function pi(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Bs(A,o){var c=pi(A);A=0;for(var m;c;){if(c.nodeType===3){if(m=A+c.textContent.length,A<=o&&m>=o)return{node:c,offset:o-A};A=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=pi(c)}}function Ro(A,o){return A&&o?A===o?!0:A&&A.nodeType===3?!1:o&&o.nodeType===3?Ro(A,o.parentNode):"contains"in A?A.contains(o):A.compareDocumentPosition?!!(A.compareDocumentPosition(o)&16):!1:!1}function Gu(){for(var A=window,o=$e();o instanceof A.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)A=o.contentWindow;else break;o=$e(A.document)}return o}function Do(A){var o=A&&A.nodeName&&A.nodeName.toLowerCase();return o&&(o==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||o==="textarea"||A.contentEditable==="true")}function Oo(A){var o=Gu(),c=A.focusedElem,m=A.selectionRange;if(o!==c&&c&&c.ownerDocument&&Ro(c.ownerDocument.documentElement,c)){if(m!==null&&Do(c)){if(o=m.start,A=m.end,A===void 0&&(A=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(A,c.value.length);else if(A=(o=c.ownerDocument||document)&&o.defaultView||window,A.getSelection){A=A.getSelection();var _=c.textContent.length,F=Math.min(m.start,_);m=m.end===void 0?F:Math.min(m.end,_),!A.extend&&F>m&&(_=m,m=F,F=_),_=Bs(c,F);var W=Bs(c,m);_&&W&&(A.rangeCount!==1||A.anchorNode!==_.node||A.anchorOffset!==_.offset||A.focusNode!==W.node||A.focusOffset!==W.offset)&&(o=o.createRange(),o.setStart(_.node,_.offset),A.removeAllRanges(),F>m?(A.addRange(o),A.extend(W.node,W.offset)):(o.setEnd(W.node,W.offset),A.addRange(o)))}}for(o=[],A=c;A=A.parentNode;)A.nodeType===1&&o.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)A=o[c],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var Mo=l&&"documentMode"in document&&11>=document.documentMode,xs=null,ga=null,jA=null,ma=!1;function wa(A,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ma||xs==null||xs!==$e(m)||(m=xs,"selectionStart"in m&&Do(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),jA&&pa(jA,m)||(jA=m,m=jc(ga,"onSelect"),0<m.length&&(o=new lA("onSelect","select",null,o,c),A.push({event:o,listeners:m}),o.target=xs)))}function Ja(A,o){var c={};return c[A.toLowerCase()]=o.toLowerCase(),c["Webkit"+A]="webkit"+o,c["Moz"+A]="moz"+o,c}var ri={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionend:Ja("Transition","TransitionEnd")},Wi={},Pr={};l&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function _r(A){if(Wi[A])return Wi[A];if(!ri[A])return A;var o=ri[A],c;for(c in o)if(o.hasOwnProperty(c)&&c in Pr)return Wi[A]=o[c];return A}var cn=_r("animationend"),Cn=_r("animationiteration"),HA=_r("animationstart"),Ul=_r("transitionend"),jo=new Map,zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function VA(A,o){jo.set(A,o),s(o,[A])}for(var Tl=0;Tl<zu.length;Tl++){var Ti=zu[Tl],Hs=Ti.toLowerCase(),Oc=Ti[0].toUpperCase()+Ti.slice(1);VA(Hs,"on"+Oc)}VA(cn,"onAnimationEnd"),VA(Cn,"onAnimationIteration"),VA(HA,"onAnimationStart"),VA("dblclick","onDoubleClick"),VA("focusin","onFocus"),VA("focusout","onBlur"),VA(Ul,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Wu(A,o,c){var m=A.type||"unknown-event";A.currentTarget=c,Ki(m,o,void 0,A),A.currentTarget=null}function $u(A,o){o=(o&4)!==0;for(var c=0;c<A.length;c++){var m=A[c],_=m.event;m=m.listeners;e:{var F=void 0;if(o)for(var W=m.length-1;0<=W;W--){var he=m[W],we=he.instance,Pe=he.currentTarget;if(he=he.listener,we!==F&&_.isPropagationStopped())break e;Wu(_,he,Pe),F=we}else for(W=0;W<m.length;W++){if(he=m[W],we=he.instance,Pe=he.currentTarget,he=he.listener,we!==F&&_.isPropagationStopped())break e;Wu(_,he,Pe),F=we}}}if(Yr)throw A=IA,Yr=!1,IA=null,A}function Rr(A,o){var c=o[Xi];c===void 0&&(c=o[Xi]=new Set);var m=A+"__bubble";c.has(m)||(Xu(o,A,2,!1),c.add(m))}function Mc(A,o,c){var m=0;o&&(m|=4),Xu(c,A,m,o)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Ho(A){if(!A[Ll]){A[Ll]=!0,n.forEach(function(c){c!=="selectionchange"&&(Hf.has(c)||Mc(c,!1,A),Mc(c,!0,A))});var o=A.nodeType===9?A:A.ownerDocument;o===null||o[Ll]||(o[Ll]=!0,Mc("selectionchange",!1,o))}}function Xu(A,o,c,m){switch(Ga(o)){case 1:var _=mr;break;case 4:_=To;break;default:_=PA}c=_.bind(null,o,c,A),_=void 0,!oi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),m?_!==void 0?A.addEventListener(o,c,{capture:!0,passive:_}):A.addEventListener(o,c,!0):_!==void 0?A.addEventListener(o,c,{passive:_}):A.addEventListener(o,c,!1)}function Yu(A,o,c,m,_){var F=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var W=m.tag;if(W===3||W===4){var he=m.stateNode.containerInfo;if(he===_||he.nodeType===8&&he.parentNode===_)break;if(W===4)for(W=m.return;W!==null;){var we=W.tag;if((we===3||we===4)&&(we=W.stateNode.containerInfo,we===_||we.nodeType===8&&we.parentNode===_))return;W=W.return}for(;he!==null;){if(W=eo(he),W===null)return;if(we=W.tag,we===5||we===6){m=F=W;continue e}he=he.parentNode}}m=m.return}Vi(function(){var Pe=F,Ze=Ls(c),tt=[];e:{var Je=jo.get(A);if(Je!==void 0){var pt=lA,xt=A;switch(A){case"keypress":if(ws(c)===0)break e;case"keydown":case"keyup":pt=E;break;case"focusin":xt="focus",pt=js;break;case"focusout":xt="blur",pt=js;break;case"beforeblur":case"afterblur":pt=js;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=OA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Le;break;case cn:case Cn:case HA:pt=di;break;case Ul:pt=qt;break;case"scroll":pt=Qo;break;case"wheel":pt=Gt;break;case"copy":case"cut":case"paste":pt=x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Y}var _t=(o&4)!==0,Qn=!_t&&A==="scroll",Ue=_t?Je!==null?Je+"Capture":null:Je;_t=[];for(var _e=Pe,Qe;_e!==null;){Qe=_e;var it=Qe.stateNode;if(Qe.tag===5&&it!==null&&(Qe=it,Ue!==null&&(it=dt(_e,Ue),it!=null&&_t.push(Ju(_e,it,Qe)))),Qn)break;_e=_e.return}0<_t.length&&(Je=new pt(Je,xt,null,c,Ze),tt.push({event:Je,listeners:_t}))}}if((o&7)===0){e:{if(Je=A==="mouseover"||A==="pointerover",pt=A==="mouseout"||A==="pointerout",Je&&c!==Zt&&(xt=c.relatedTarget||c.fromElement)&&(eo(xt)||xt[gi]))break e;if((pt||Je)&&(Je=Ze.window===Ze?Ze:(Je=Ze.ownerDocument)?Je.defaultView||Je.parentWindow:window,pt?(xt=c.relatedTarget||c.toElement,pt=Pe,xt=xt?eo(xt):null,xt!==null&&(Qn=pn(xt),xt!==Qn||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(pt=null,xt=Pe),pt!==xt)){if(_t=OA,it="onMouseLeave",Ue="onMouseEnter",_e="mouse",(A==="pointerout"||A==="pointerover")&&(_t=Y,it="onPointerLeave",Ue="onPointerEnter",_e="pointer"),Qn=pt==null?Je:qo(pt),Qe=xt==null?Je:qo(xt),Je=new _t(it,_e+"leave",pt,c,Ze),Je.target=Qn,Je.relatedTarget=Qe,it=null,eo(Ze)===Pe&&(_t=new _t(Ue,_e+"enter",xt,c,Ze),_t.target=Qe,_t.relatedTarget=Qn,it=_t),Qn=it,pt&&xt)t:{for(_t=pt,Ue=xt,_e=0,Qe=_t;Qe;Qe=Vo(Qe))_e++;for(Qe=0,it=Ue;it;it=Vo(it))Qe++;for(;0<_e-Qe;)_t=Vo(_t),_e--;for(;0<Qe-_e;)Ue=Vo(Ue),Qe--;for(;_e--;){if(_t===Ue||Ue!==null&&_t===Ue.alternate)break t;_t=Vo(_t),Ue=Vo(Ue)}_t=null}else _t=null;pt!==null&&Vf(tt,Je,pt,_t,!1),xt!==null&&Qn!==null&&Vf(tt,Qn,xt,_t,!0)}}e:{if(Je=Pe?qo(Pe):window,pt=Je.nodeName&&Je.nodeName.toLowerCase(),pt==="select"||pt==="input"&&Je.type==="file")var It=Sl;else if(Il(Je))if(qu)It=Nl;else{It=ha;var kt=Ya}else(pt=Je.nodeName)&&pt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(It=da);if(It&&(It=It(A,Pe))){Fi(tt,It,c,Ze);break e}kt&&kt(A,Je,Pe),A==="focusout"&&(kt=Je._wrapperState)&&kt.controlled&&Je.type==="number"&&Ve(Je,"number",Je.value)}switch(kt=Pe?qo(Pe):window,A){case"focusin":(Il(kt)||kt.contentEditable==="true")&&(xs=kt,ga=Pe,jA=null);break;case"focusout":jA=ga=xs=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,wa(tt,c,Ze);break;case"selectionchange":if(Mo)break;case"keydown":case"keyup":wa(tt,c,Ze)}var Pt;if(Cr)e:{switch(A){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else un?Cl(A,c)&&(Kt="onCompositionEnd"):A==="keydown"&&c.keyCode===229&&(Kt="onCompositionStart");Kt&&(hA&&c.locale!=="ko"&&(un||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&un&&(Pt=Lo()):(hi=Ze,Ii="value"in hi?hi.value:hi.textContent,un=!0)),kt=jc(Pe,Kt),0<kt.length&&(Kt=new le(Kt,A,null,c,Ze),tt.push({event:Kt,listeners:kt}),Pt?Kt.data=Pt:(Pt=ko(c),Pt!==null&&(Kt.data=Pt)))),(Pt=ti?_l(A,c):bl(A,c))&&(Pe=jc(Pe,"onBeforeInput"),0<Pe.length&&(Ze=new le("onBeforeInput","beforeinput",null,c,Ze),tt.push({event:Ze,listeners:Pe}),Ze.data=Pt))}$u(tt,o)})}function Ju(A,o,c){return{instance:A,listener:o,currentTarget:c}}function jc(A,o){for(var c=o+"Capture",m=[];A!==null;){var _=A,F=_.stateNode;_.tag===5&&F!==null&&(_=F,F=dt(A,c),F!=null&&m.unshift(Ju(A,F,_)),F=dt(A,o),F!=null&&m.push(Ju(A,F,_))),A=A.return}return m}function Vo(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function Vf(A,o,c,m,_){for(var F=o._reactName,W=[];c!==null&&c!==m;){var he=c,we=he.alternate,Pe=he.stateNode;if(we!==null&&we===m)break;he.tag===5&&Pe!==null&&(he=Pe,_?(we=dt(c,F),we!=null&&W.unshift(Ju(c,we,he))):_||(we=dt(c,F),we!=null&&W.push(Ju(c,we,he)))),c=c.return}W.length!==0&&A.push({event:o,listeners:W})}var Jm=/\r\n?/g,Zm=/\u0000|\uFFFD/g;function Kf(A){return(typeof A=="string"?A:""+A).replace(Jm,`
`).replace(Zm,"")}function Hc(A,o,c){if(o=Kf(o),Kf(A)!==o&&c)throw Error(t(425))}function Ql(){}var Zu=null,Ko=null;function nd(A,o){return A==="textarea"||A==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,qf=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,e0=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(A){return Gf.resolve(null).then(A).catch(t0)}:id;function t0(A){setTimeout(function(){throw A})}function sd(A,o){var c=o,m=0;do{var _=c.nextSibling;if(A.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(m===0){A.removeChild(_),ei(o);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=_}while(c);ei(o)}function Li(A){for(;A!=null;A=A.nextSibling){var o=A.nodeType;if(o===1||o===3)break;if(o===8){if(o=A.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return A}function Vs(A){A=A.previousSibling;for(var o=0;A;){if(A.nodeType===8){var c=A.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return A;o--}else c==="/$"&&o++}A=A.previousSibling}return null}var $i=Math.random().toString(36).slice(2),KA="__reactFiber$"+$i,kl="__reactProps$"+$i,gi="__reactContainer$"+$i,Xi="__reactEvents$"+$i,r0="__reactListeners$"+$i,n0="__reactHandles$"+$i;function eo(A){var o=A[KA];if(o)return o;for(var c=A.parentNode;c;){if(o=c[gi]||c[KA]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(A=Vs(A);A!==null;){if(c=A[KA])return c;A=Vs(A)}return o}A=c,c=A.parentNode}return null}function Pl(A){return A=A[KA]||A[gi],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function qo(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(t(33))}function ec(A){return A[kl]||null}var Ad=[],va=-1;function fA(A){return{current:A}}function br(A){0>va||(A.current=Ad[va],Ad[va]=null,va--)}function Ur(A,o){va++,Ad[va]=A.current,A.current=o}var to={},ni=fA(to),Yi=fA(!1),Go=to;function Rl(A,o){var c=A.type.contextTypes;if(!c)return to;var m=A.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var _={},F;for(F in c)_[F]=o[F];return m&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=o,A.__reactInternalMemoizedMaskedChildContext=_),_}function Ji(A){return A=A.childContextTypes,A!=null}function Vc(){br(Yi),br(ni)}function zf(A,o,c){if(ni.current!==to)throw Error(t(168));Ur(ni,o),Ur(Yi,c)}function ad(A,o,c){var m=A.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var _ in m)if(!(_ in o))throw Error(t(108,xe(A)||"Unknown",_));return fe({},c,m)}function zo(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||to,Go=ni.current,Ur(ni,A),Ur(Yi,Yi.current),!0}function Wf(A,o,c){var m=A.stateNode;if(!m)throw Error(t(169));c?(A=ad(A,o,Go),m.__reactInternalMemoizedMergedChildContext=A,br(Yi),br(ni),Ur(ni,A)):br(Yi),Ur(Yi,c)}var ya=null,tc=!1,h=!1;function v(A){ya===null?ya=[A]:ya.push(A)}function b(A){tc=!0,v(A)}function L(){if(!h&&ya!==null){h=!0;var A=0,o=Yt;try{var c=ya;for(Yt=1;A<c.length;A++){var m=c[A];do m=m(!0);while(m!==null)}ya=null,tc=!1}catch(_){throw ya!==null&&(ya=ya.slice(A+1)),iA(Qs,L),_}finally{Yt=o,h=!1}}return null}var H=[],G=0,$=null,X=0,Z=[],ne=0,me=null,Fe=1,Ne="";function Ee(A,o){H[G++]=X,H[G++]=$,$=A,X=o}function qe(A,o,c){Z[ne++]=Fe,Z[ne++]=Ne,Z[ne++]=me,me=A;var m=Fe;A=Ne;var _=32-Xn(m)-1;m&=~(1<<_),c+=1;var F=32-Xn(o)+_;if(30<F){var W=_-_%5;F=(m&(1<<W)-1).toString(32),m>>=W,_-=W,Fe=1<<32-Xn(o)+_|c<<_|m,Ne=F+A}else Fe=1<<F|c<<_|m,Ne=A}function Re(A){A.return!==null&&(Ee(A,1),qe(A,1,0))}function ve(A){for(;A===$;)$=H[--G],H[G]=null,X=H[--G],H[G]=null;for(;A===me;)me=Z[--ne],Z[ne]=null,Ne=Z[--ne],Z[ne]=null,Fe=Z[--ne],Z[ne]=null}var ye=null,Me=null,Oe=!1,He=null;function ht(A,o){var c=XA(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=A,o=A.deletions,o===null?(A.deletions=[c],A.flags|=16):o.push(c)}function ot(A,o){switch(A.tag){case 5:var c=A.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(A.stateNode=o,ye=A,Me=Li(o.firstChild),!0):!1;case 6:return o=A.pendingProps===""||o.nodeType!==3?null:o,o!==null?(A.stateNode=o,ye=A,Me=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=me!==null?{id:Fe,overflow:Ne}:null,A.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=XA(18,null,null,0),c.stateNode=o,c.return=A,A.child=c,ye=A,Me=null,!0):!1;default:return!1}}function Nt(A){return(A.mode&1)!==0&&(A.flags&128)===0}function lt(A){if(Oe){var o=Me;if(o){var c=o;if(!ot(A,o)){if(Nt(A))throw Error(t(418));o=Li(c.nextSibling);var m=ye;o&&ot(A,o)?ht(m,c):(A.flags=A.flags&-4097|2,Oe=!1,ye=A)}}else{if(Nt(A))throw Error(t(418));A.flags=A.flags&-4097|2,Oe=!1,ye=A}}}function lr(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;ye=A}function ur(A){if(A!==ye)return!1;if(!Oe)return lr(A),Oe=!0,!1;var o;if((o=A.tag!==3)&&!(o=A.tag!==5)&&(o=A.type,o=o!=="head"&&o!=="body"&&!nd(A.type,A.memoizedProps)),o&&(o=Me)){if(Nt(A))throw nr(),Error(t(418));for(;o;)ht(A,o),o=Li(o.nextSibling)}if(lr(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));e:{for(A=A.nextSibling,o=0;A;){if(A.nodeType===8){var c=A.data;if(c==="/$"){if(o===0){Me=Li(A.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}A=A.nextSibling}Me=null}}else Me=ye?Li(A.stateNode.nextSibling):null;return!0}function nr(){for(var A=Me;A;)A=Li(A.nextSibling)}function Xt(){Me=ye=null,Oe=!1}function Er(A){He===null?He=[A]:He.push(A)}var Tr=ee.ReactCurrentBatchConfig;function Vt(A,o,c){if(A=c.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var m=c.stateNode}if(!m)throw Error(t(147,A));var _=m,F=""+A;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===F?o.ref:(o=function(W){var he=_.refs;W===null?delete he[F]:he[F]=W},o._stringRef=F,o)}if(typeof A!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,A))}return A}function Zr(A,o){throw A=Object.prototype.toString.call(o),Error(t(31,A==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":A))}function Qi(A){var o=A._init;return o(A._payload)}function gn(A){function o(Ue,_e){if(A){var Qe=Ue.deletions;Qe===null?(Ue.deletions=[_e],Ue.flags|=16):Qe.push(_e)}}function c(Ue,_e){if(!A)return null;for(;_e!==null;)o(Ue,_e),_e=_e.sibling;return null}function m(Ue,_e){for(Ue=new Map;_e!==null;)_e.key!==null?Ue.set(_e.key,_e):Ue.set(_e.index,_e),_e=_e.sibling;return Ue}function _(Ue,_e){return Ue=$l(Ue,_e),Ue.index=0,Ue.sibling=null,Ue}function F(Ue,_e,Qe){return Ue.index=Qe,A?(Qe=Ue.alternate,Qe!==null?(Qe=Qe.index,Qe<_e?(Ue.flags|=2,_e):Qe):(Ue.flags|=2,_e)):(Ue.flags|=1048576,_e)}function W(Ue){return A&&Ue.alternate===null&&(Ue.flags|=2),Ue}function he(Ue,_e,Qe,it){return _e===null||_e.tag!==6?(_e=T0(Qe,Ue.mode,it),_e.return=Ue,_e):(_e=_(_e,Qe),_e.return=Ue,_e)}function we(Ue,_e,Qe,it){var It=Qe.type;return It===O?Ze(Ue,_e,Qe.props.children,it,Qe.key):_e!==null&&(_e.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ae&&Qi(It)===_e.type)?(it=_(_e,Qe.props),it.ref=Vt(Ue,_e,Qe),it.return=Ue,it):(it=fp(Qe.type,Qe.key,Qe.props,null,Ue.mode,it),it.ref=Vt(Ue,_e,Qe),it.return=Ue,it)}function Pe(Ue,_e,Qe,it){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Qe.containerInfo||_e.stateNode.implementation!==Qe.implementation?(_e=L0(Qe,Ue.mode,it),_e.return=Ue,_e):(_e=_(_e,Qe.children||[]),_e.return=Ue,_e)}function Ze(Ue,_e,Qe,it,It){return _e===null||_e.tag!==7?(_e=lc(Qe,Ue.mode,it,It),_e.return=Ue,_e):(_e=_(_e,Qe),_e.return=Ue,_e)}function tt(Ue,_e,Qe){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=T0(""+_e,Ue.mode,Qe),_e.return=Ue,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case K:return Qe=fp(_e.type,_e.key,_e.props,null,Ue.mode,Qe),Qe.ref=Vt(Ue,null,_e),Qe.return=Ue,Qe;case J:return _e=L0(_e,Ue.mode,Qe),_e.return=Ue,_e;case ae:var it=_e._init;return tt(Ue,it(_e._payload),Qe)}if(et(_e)||ce(_e))return _e=lc(_e,Ue.mode,Qe,null),_e.return=Ue,_e;Zr(Ue,_e)}return null}function Je(Ue,_e,Qe,it){var It=_e!==null?_e.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return It!==null?null:he(Ue,_e,""+Qe,it);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case K:return Qe.key===It?we(Ue,_e,Qe,it):null;case J:return Qe.key===It?Pe(Ue,_e,Qe,it):null;case ae:return It=Qe._init,Je(Ue,_e,It(Qe._payload),it)}if(et(Qe)||ce(Qe))return It!==null?null:Ze(Ue,_e,Qe,it,null);Zr(Ue,Qe)}return null}function pt(Ue,_e,Qe,it,It){if(typeof it=="string"&&it!==""||typeof it=="number")return Ue=Ue.get(Qe)||null,he(_e,Ue,""+it,It);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case K:return Ue=Ue.get(it.key===null?Qe:it.key)||null,we(_e,Ue,it,It);case J:return Ue=Ue.get(it.key===null?Qe:it.key)||null,Pe(_e,Ue,it,It);case ae:var kt=it._init;return pt(Ue,_e,Qe,kt(it._payload),It)}if(et(it)||ce(it))return Ue=Ue.get(Qe)||null,Ze(_e,Ue,it,It,null);Zr(_e,it)}return null}function xt(Ue,_e,Qe,it){for(var It=null,kt=null,Pt=_e,Kt=_e=0,yi=null;Pt!==null&&Kt<Qe.length;Kt++){Pt.index>Kt?(yi=Pt,Pt=null):yi=Pt.sibling;var Br=Je(Ue,Pt,Qe[Kt],it);if(Br===null){Pt===null&&(Pt=yi);break}A&&Pt&&Br.alternate===null&&o(Ue,Pt),_e=F(Br,_e,Kt),kt===null?It=Br:kt.sibling=Br,kt=Br,Pt=yi}if(Kt===Qe.length)return c(Ue,Pt),Oe&&Ee(Ue,Kt),It;if(Pt===null){for(;Kt<Qe.length;Kt++)Pt=tt(Ue,Qe[Kt],it),Pt!==null&&(_e=F(Pt,_e,Kt),kt===null?It=Pt:kt.sibling=Pt,kt=Pt);return Oe&&Ee(Ue,Kt),It}for(Pt=m(Ue,Pt);Kt<Qe.length;Kt++)yi=pt(Pt,Ue,Kt,Qe[Kt],it),yi!==null&&(A&&yi.alternate!==null&&Pt.delete(yi.key===null?Kt:yi.key),_e=F(yi,_e,Kt),kt===null?It=yi:kt.sibling=yi,kt=yi);return A&&Pt.forEach(function(Xl){return o(Ue,Xl)}),Oe&&Ee(Ue,Kt),It}function _t(Ue,_e,Qe,it){var It=ce(Qe);if(typeof It!="function")throw Error(t(150));if(Qe=It.call(Qe),Qe==null)throw Error(t(151));for(var kt=It=null,Pt=_e,Kt=_e=0,yi=null,Br=Qe.next();Pt!==null&&!Br.done;Kt++,Br=Qe.next()){Pt.index>Kt?(yi=Pt,Pt=null):yi=Pt.sibling;var Xl=Je(Ue,Pt,Br.value,it);if(Xl===null){Pt===null&&(Pt=yi);break}A&&Pt&&Xl.alternate===null&&o(Ue,Pt),_e=F(Xl,_e,Kt),kt===null?It=Xl:kt.sibling=Xl,kt=Xl,Pt=yi}if(Br.done)return c(Ue,Pt),Oe&&Ee(Ue,Kt),It;if(Pt===null){for(;!Br.done;Kt++,Br=Qe.next())Br=tt(Ue,Br.value,it),Br!==null&&(_e=F(Br,_e,Kt),kt===null?It=Br:kt.sibling=Br,kt=Br);return Oe&&Ee(Ue,Kt),It}for(Pt=m(Ue,Pt);!Br.done;Kt++,Br=Qe.next())Br=pt(Pt,Ue,Kt,Br.value,it),Br!==null&&(A&&Br.alternate!==null&&Pt.delete(Br.key===null?Kt:Br.key),_e=F(Br,_e,Kt),kt===null?It=Br:kt.sibling=Br,kt=Br);return A&&Pt.forEach(function(tI){return o(Ue,tI)}),Oe&&Ee(Ue,Kt),It}function Qn(Ue,_e,Qe,it){if(typeof Qe=="object"&&Qe!==null&&Qe.type===O&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case K:e:{for(var It=Qe.key,kt=_e;kt!==null;){if(kt.key===It){if(It=Qe.type,It===O){if(kt.tag===7){c(Ue,kt.sibling),_e=_(kt,Qe.props.children),_e.return=Ue,Ue=_e;break e}}else if(kt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ae&&Qi(It)===kt.type){c(Ue,kt.sibling),_e=_(kt,Qe.props),_e.ref=Vt(Ue,kt,Qe),_e.return=Ue,Ue=_e;break e}c(Ue,kt);break}else o(Ue,kt);kt=kt.sibling}Qe.type===O?(_e=lc(Qe.props.children,Ue.mode,it,Qe.key),_e.return=Ue,Ue=_e):(it=fp(Qe.type,Qe.key,Qe.props,null,Ue.mode,it),it.ref=Vt(Ue,_e,Qe),it.return=Ue,Ue=it)}return W(Ue);case J:e:{for(kt=Qe.key;_e!==null;){if(_e.key===kt)if(_e.tag===4&&_e.stateNode.containerInfo===Qe.containerInfo&&_e.stateNode.implementation===Qe.implementation){c(Ue,_e.sibling),_e=_(_e,Qe.children||[]),_e.return=Ue,Ue=_e;break e}else{c(Ue,_e);break}else o(Ue,_e);_e=_e.sibling}_e=L0(Qe,Ue.mode,it),_e.return=Ue,Ue=_e}return W(Ue);case ae:return kt=Qe._init,Qn(Ue,_e,kt(Qe._payload),it)}if(et(Qe))return xt(Ue,_e,Qe,it);if(ce(Qe))return _t(Ue,_e,Qe,it);Zr(Ue,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"?(Qe=""+Qe,_e!==null&&_e.tag===6?(c(Ue,_e.sibling),_e=_(_e,Qe),_e.return=Ue,Ue=_e):(c(Ue,_e),_e=T0(Qe,Ue.mode,it),_e.return=Ue,Ue=_e),W(Ue)):c(Ue,_e)}return Qn}var Un=gn(!0),vr=gn(!1),mi=fA(null),wi=null,en=null,Tn=null;function ii(){Tn=en=wi=null}function Zi(A){var o=mi.current;br(mi),A._currentValue=o}function Ks(A,o,c){for(;A!==null;){var m=A.alternate;if((A.childLanes&o)!==o?(A.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),A===c)break;A=A.return}}function tn(A,o){wi=A,Tn=en=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&o)!==0&&(Ws=!0),A.firstContext=null)}function _n(A){var o=A._currentValue;if(Tn!==A)if(A={context:A,memoizedValue:o,next:null},en===null){if(wi===null)throw Error(t(308));en=A,wi.dependencies={lanes:0,firstContext:A}}else en=en.next=A;return o}var Cs=null;function ro(A){Cs===null?Cs=[A]:Cs.push(A)}function Ba(A,o,c,m){var _=o.interleaved;return _===null?(c.next=c,ro(o)):(c.next=_.next,_.next=c),o.interleaved=c,yr(A,m)}function yr(A,o){A.lanes|=o;var c=A.alternate;for(c!==null&&(c.lanes|=o),c=A,A=A.return;A!==null;)A.childLanes|=o,c=A.alternate,c!==null&&(c.childLanes|=o),c=A,A=A.return;return c.tag===3?c.stateNode:null}var qA=!1;function Kc(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function od(A,o){A=A.updateQueue,o.updateQueue===A&&(o.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function qs(A,o){return{eventTime:A,lane:o,tag:0,payload:null,callback:null,next:null}}function Gs(A,o,c){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(gr&2)!==0){var _=m.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),m.pending=o,yr(A,c)}return _=m.interleaved,_===null?(o.next=o,ro(m)):(o.next=_.next,_.next=o),m.interleaved=o,yr(A,c)}function Wo(A,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var m=o.lanes;m&=A.pendingLanes,c|=m,o.lanes=c,aA(A,c)}}function zs(A,o){var c=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var _=null,F=null;if(c=c.firstBaseUpdate,c!==null){do{var W={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};F===null?_=F=W:F=F.next=W,c=c.next}while(c!==null);F===null?_=F=o:F=F.next=o}else _=F=o;c={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:F,shared:m.shared,effects:m.effects},A.updateQueue=c;return}A=c.lastBaseUpdate,A===null?c.firstBaseUpdate=o:A.next=o,c.lastBaseUpdate=o}function xa(A,o,c,m){var _=A.updateQueue;qA=!1;var F=_.firstBaseUpdate,W=_.lastBaseUpdate,he=_.shared.pending;if(he!==null){_.shared.pending=null;var we=he,Pe=we.next;we.next=null,W===null?F=Pe:W.next=Pe,W=we;var Ze=A.alternate;Ze!==null&&(Ze=Ze.updateQueue,he=Ze.lastBaseUpdate,he!==W&&(he===null?Ze.firstBaseUpdate=Pe:he.next=Pe,Ze.lastBaseUpdate=we))}if(F!==null){var tt=_.baseState;W=0,Ze=Pe=we=null,he=F;do{var Je=he.lane,pt=he.eventTime;if((m&Je)===Je){Ze!==null&&(Ze=Ze.next={eventTime:pt,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var xt=A,_t=he;switch(Je=o,pt=c,_t.tag){case 1:if(xt=_t.payload,typeof xt=="function"){tt=xt.call(pt,tt,Je);break e}tt=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=_t.payload,Je=typeof xt=="function"?xt.call(pt,tt,Je):xt,Je==null)break e;tt=fe({},tt,Je);break e;case 2:qA=!0}}he.callback!==null&&he.lane!==0&&(A.flags|=64,Je=_.effects,Je===null?_.effects=[he]:Je.push(he))}else pt={eventTime:pt,lane:Je,tag:he.tag,payload:he.payload,callback:he.callback,next:null},Ze===null?(Pe=Ze=pt,we=tt):Ze=Ze.next=pt,W|=Je;if(he=he.next,he===null){if(he=_.shared.pending,he===null)break;Je=he,he=Je.next,Je.next=null,_.lastBaseUpdate=Je,_.shared.pending=null}}while(!0);if(Ze===null&&(we=tt),_.baseState=we,_.firstBaseUpdate=Pe,_.lastBaseUpdate=Ze,o=_.shared.interleaved,o!==null){_=o;do W|=_.lane,_=_.next;while(_!==o)}else F===null&&(_.shared.lanes=0);sc|=W,A.lanes=W,A.memoizedState=tt}}function $o(A,o,c){if(A=o.effects,o.effects=null,A!==null)for(o=0;o<A.length;o++){var m=A[o],_=m.callback;if(_!==null){if(m.callback=null,m=c,typeof _!="function")throw Error(t(191,_));_.call(m)}}}var Dl={},_s=fA(Dl),Ol=fA(Dl),no=fA(Dl);function Ca(A){if(A===Dl)throw Error(t(174));return A}function Ml(A,o){switch(Ur(no,o),Ur(Ol,A),Ur(_s,Dl),A=o.nodeType,A){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yt(null,"");break;default:A=A===8?o.parentNode:o,o=A.namespaceURI||null,A=A.tagName,o=yt(o,A)}br(_s),Ur(_s,o)}function GA(){br(_s),br(Ol),br(no)}function $f(A){Ca(no.current);var o=Ca(_s.current),c=yt(o,A.type);o!==c&&(Ur(Ol,A),Ur(_s,c))}function ld(A){Ol.current===A&&(br(_s),br(Ol))}var qr=fA(0);function pA(A){for(var o=A;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===A)break;for(;o.sibling===null;){if(o.return===null||o.return===A)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ud=[];function cd(){for(var A=0;A<ud.length;A++)ud[A]._workInProgressVersionPrimary=null;ud.length=0}var qc=ee.ReactCurrentDispatcher,Gc=ee.ReactCurrentBatchConfig,zA=0,Wr=null,bn=null,mn=null,jl=!1,_a=!1,Hl=0,i0=0;function Ln(){throw Error(t(321))}function zc(A,o){if(o===null)return!1;for(var c=0;c<o.length&&c<A.length;c++)if(!pr(A[c],o[c]))return!1;return!0}function rc(A,o,c,m,_,F){if(zA=F,Wr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,qc.current=A===null||A.memoizedState===null?I4:S4,A=c(m,_),_a){F=0;do{if(_a=!1,Hl=0,25<=F)throw Error(t(301));F+=1,mn=bn=null,o.updateQueue=null,qc.current=F4,A=c(m,_)}while(_a)}if(qc.current=ep,o=bn!==null&&bn.next!==null,zA=0,mn=bn=Wr=null,jl=!1,o)throw Error(t(300));return A}function WA(){var A=Hl!==0;return Hl=0,A}function gA(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Wr.memoizedState=mn=A:mn=mn.next=A,mn}function bs(){if(bn===null){var A=Wr.alternate;A=A!==null?A.memoizedState:null}else A=bn.next;var o=mn===null?Wr.memoizedState:mn.next;if(o!==null)mn=o,bn=A;else{if(A===null)throw Error(t(310));bn=A,A={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},mn===null?Wr.memoizedState=mn=A:mn=mn.next=A}return mn}function nc(A,o){return typeof o=="function"?o(A):o}function Wc(A){var o=bs(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=A;var m=bn,_=m.baseQueue,F=c.pending;if(F!==null){if(_!==null){var W=_.next;_.next=F.next,F.next=W}m.baseQueue=_=F,c.pending=null}if(_!==null){F=_.next,m=m.baseState;var he=W=null,we=null,Pe=F;do{var Ze=Pe.lane;if((zA&Ze)===Ze)we!==null&&(we=we.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),m=Pe.hasEagerState?Pe.eagerState:A(m,Pe.action);else{var tt={lane:Ze,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};we===null?(he=we=tt,W=m):we=we.next=tt,Wr.lanes|=Ze,sc|=Ze}Pe=Pe.next}while(Pe!==null&&Pe!==F);we===null?W=m:we.next=he,pr(m,o.memoizedState)||(Ws=!0),o.memoizedState=m,o.baseState=W,o.baseQueue=we,c.lastRenderedState=m}if(A=c.interleaved,A!==null){_=A;do F=_.lane,Wr.lanes|=F,sc|=F,_=_.next;while(_!==A)}else _===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function io(A){var o=bs(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=A;var m=c.dispatch,_=c.pending,F=o.memoizedState;if(_!==null){c.pending=null;var W=_=_.next;do F=A(F,W.action),W=W.next;while(W!==_);pr(F,o.memoizedState)||(Ws=!0),o.memoizedState=F,o.baseQueue===null&&(o.baseState=F),c.lastRenderedState=F}return[F,m]}function Xf(){}function hd(A,o){var c=Wr,m=bs(),_=o(),F=!pr(m.memoizedState,_);if(F&&(m.memoizedState=_,Ws=!0),m=m.queue,Yc(Jf.bind(null,c,m,A),[A]),m.getSnapshot!==o||F||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,Es(9,dd.bind(null,c,m,_,o),void 0,null),vi===null)throw Error(t(349));(zA&30)!==0||Yf(c,o,_)}return _}function Yf(A,o,c){A.flags|=16384,A={getSnapshot:o,value:c},o=Wr.updateQueue,o===null?(o={lastEffect:null,stores:null},Wr.updateQueue=o,o.stores=[A]):(c=o.stores,c===null?o.stores=[A]:c.push(A))}function dd(A,o,c,m){o.value=c,o.getSnapshot=m,Vl(o)&&$c(A)}function Jf(A,o,c){return c(function(){Vl(o)&&$c(A)})}function Vl(A){var o=A.getSnapshot;A=A.value;try{var c=o();return!pr(A,c)}catch{return!0}}function $c(A){var o=yr(A,1);o!==null&&Fa(o,A,1,-1)}function ic(A){var o=gA();return typeof A=="function"&&(A=A()),o.memoizedState=o.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:A},o.queue=A,A=A.dispatch=E4.bind(null,Wr,A),[o.memoizedState,A]}function Es(A,o,c,m){return A={tag:A,create:o,destroy:c,deps:m,next:null},o=Wr.updateQueue,o===null?(o={lastEffect:null,stores:null},Wr.updateQueue=o,o.lastEffect=A.next=A):(c=o.lastEffect,c===null?o.lastEffect=A.next=A:(m=c.next,c.next=A,A.next=m,o.lastEffect=A)),A}function ba(){return bs().memoizedState}function mA(A,o,c,m){var _=gA();Wr.flags|=A,_.memoizedState=Es(1|o,c,void 0,m===void 0?null:m)}function Xo(A,o,c,m){var _=bs();m=m===void 0?null:m;var F=void 0;if(bn!==null){var W=bn.memoizedState;if(F=W.destroy,m!==null&&zc(m,W.deps)){_.memoizedState=Es(o,c,F,m);return}}Wr.flags|=A,_.memoizedState=Es(1|o,c,F,m)}function Xc(A,o){return mA(8390656,8,A,o)}function Yc(A,o){return Xo(2048,8,A,o)}function Zf(A,o){return Xo(4,2,A,o)}function Jc(A,o){return Xo(4,4,A,o)}function Zc(A,o){if(typeof o=="function")return A=A(),o(A),function(){o(null)};if(o!=null)return A=A(),o.current=A,function(){o.current=null}}function dy(A,o,c){return c=c!=null?c.concat([A]):null,Xo(4,4,Zc.bind(null,o,A),c)}function s0(){}function fy(A,o){var c=bs();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&zc(o,m[1])?m[0]:(c.memoizedState=[A,o],A)}function py(A,o){var c=bs();o=o===void 0?null:o;var m=c.memoizedState;return m!==null&&o!==null&&zc(o,m[1])?m[0]:(A=A(),c.memoizedState=[A,o],A)}function gy(A,o,c){return(zA&21)===0?(A.baseState&&(A.baseState=!1,Ws=!0),A.memoizedState=c):(pr(c,o)||(c=TA(),Wr.lanes|=c,sc|=c,A.baseState=!0),o)}function _4(A,o){var c=Yt;Yt=c!==0&&4>c?c:4,A(!0);var m=Gc.transition;Gc.transition={};try{A(!1),o()}finally{Yt=c,Gc.transition=m}}function my(){return bs().memoizedState}function b4(A,o,c){var m=zl(A);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},wy(A))vy(o,c);else if(c=Ba(A,o,c,m),c!==null){var _=Ss();Fa(c,A,m,_),yy(c,o,m)}}function E4(A,o,c){var m=zl(A),_={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(wy(A))vy(o,_);else{var F=A.alternate;if(A.lanes===0&&(F===null||F.lanes===0)&&(F=o.lastRenderedReducer,F!==null))try{var W=o.lastRenderedState,he=F(W,c);if(_.hasEagerState=!0,_.eagerState=he,pr(he,W)){var we=o.interleaved;we===null?(_.next=_,ro(o)):(_.next=we.next,we.next=_),o.interleaved=_;return}}catch{}finally{}c=Ba(A,o,_,m),c!==null&&(_=Ss(),Fa(c,A,m,_),yy(c,o,m))}}function wy(A){var o=A.alternate;return A===Wr||o!==null&&o===Wr}function vy(A,o){_a=jl=!0;var c=A.pending;c===null?o.next=o:(o.next=c.next,c.next=o),A.pending=o}function yy(A,o,c){if((c&4194240)!==0){var m=o.lanes;m&=A.pendingLanes,c|=m,o.lanes=c,aA(A,c)}}var ep={readContext:_n,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},I4={readContext:_n,useCallback:function(A,o){return gA().memoizedState=[A,o===void 0?null:o],A},useContext:_n,useEffect:Xc,useImperativeHandle:function(A,o,c){return c=c!=null?c.concat([A]):null,mA(4194308,4,Zc.bind(null,o,A),c)},useLayoutEffect:function(A,o){return mA(4194308,4,A,o)},useInsertionEffect:function(A,o){return mA(4,2,A,o)},useMemo:function(A,o){var c=gA();return o=o===void 0?null:o,A=A(),c.memoizedState=[A,o],A},useReducer:function(A,o,c){var m=gA();return o=c!==void 0?c(o):o,m.memoizedState=m.baseState=o,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:o},m.queue=A,A=A.dispatch=b4.bind(null,Wr,A),[m.memoizedState,A]},useRef:function(A){var o=gA();return A={current:A},o.memoizedState=A},useState:ic,useDebugValue:s0,useDeferredValue:function(A){return gA().memoizedState=A},useTransition:function(){var A=ic(!1),o=A[0];return A=_4.bind(null,A[1]),gA().memoizedState=A,[o,A]},useMutableSource:function(){},useSyncExternalStore:function(A,o,c){var m=Wr,_=gA();if(Oe){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),vi===null)throw Error(t(349));(zA&30)!==0||Yf(m,o,c)}_.memoizedState=c;var F={value:c,getSnapshot:o};return _.queue=F,Xc(Jf.bind(null,m,F,A),[A]),m.flags|=2048,Es(9,dd.bind(null,m,F,c,o),void 0,null),c},useId:function(){var A=gA(),o=vi.identifierPrefix;if(Oe){var c=Ne,m=Fe;c=(m&~(1<<32-Xn(m)-1)).toString(32)+c,o=":"+o+"R"+c,c=Hl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=i0++,o=":"+o+"r"+c.toString(32)+":";return A.memoizedState=o},unstable_isNewReconciler:!1},S4={readContext:_n,useCallback:fy,useContext:_n,useEffect:Yc,useImperativeHandle:dy,useInsertionEffect:Zf,useLayoutEffect:Jc,useMemo:py,useReducer:Wc,useRef:ba,useState:function(){return Wc(nc)},useDebugValue:s0,useDeferredValue:function(A){var o=bs();return gy(o,bn.memoizedState,A)},useTransition:function(){var A=Wc(nc)[0],o=bs().memoizedState;return[A,o]},useMutableSource:Xf,useSyncExternalStore:hd,useId:my,unstable_isNewReconciler:!1},F4={readContext:_n,useCallback:fy,useContext:_n,useEffect:Yc,useImperativeHandle:dy,useInsertionEffect:Zf,useLayoutEffect:Jc,useMemo:py,useReducer:io,useRef:ba,useState:function(){return io(nc)},useDebugValue:s0,useDeferredValue:function(A){var o=bs();return bn===null?o.memoizedState=A:gy(o,bn.memoizedState,A)},useTransition:function(){var A=io(nc)[0],o=bs().memoizedState;return[A,o]},useMutableSource:Xf,useSyncExternalStore:hd,useId:my,unstable_isNewReconciler:!1};function Ea(A,o){if(A&&A.defaultProps){o=fe({},o),A=A.defaultProps;for(var c in A)o[c]===void 0&&(o[c]=A[c]);return o}return o}function A0(A,o,c,m){o=A.memoizedState,c=c(m,o),c=c==null?o:fe({},o,c),A.memoizedState=c,A.lanes===0&&(A.updateQueue.baseState=c)}var tp={isMounted:function(A){return(A=A._reactInternals)?pn(A)===A:!1},enqueueSetState:function(A,o,c){A=A._reactInternals;var m=Ss(),_=zl(A),F=qs(m,_);F.payload=o,c!=null&&(F.callback=c),o=Gs(A,F,_),o!==null&&(Fa(o,A,_,m),Wo(o,A,_))},enqueueReplaceState:function(A,o,c){A=A._reactInternals;var m=Ss(),_=zl(A),F=qs(m,_);F.tag=1,F.payload=o,c!=null&&(F.callback=c),o=Gs(A,F,_),o!==null&&(Fa(o,A,_,m),Wo(o,A,_))},enqueueForceUpdate:function(A,o){A=A._reactInternals;var c=Ss(),m=zl(A),_=qs(c,m);_.tag=2,o!=null&&(_.callback=o),o=Gs(A,_,m),o!==null&&(Fa(o,A,m,c),Wo(o,A,m))}};function By(A,o,c,m,_,F,W){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,F,W):o.prototype&&o.prototype.isPureReactComponent?!pa(c,m)||!pa(_,F):!0}function xy(A,o,c){var m=!1,_=to,F=o.contextType;return typeof F=="object"&&F!==null?F=_n(F):(_=Ji(o)?Go:ni.current,m=o.contextTypes,F=(m=m!=null)?Rl(A,_):to),o=new o(c,F),A.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=tp,A.stateNode=o,o._reactInternals=A,m&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=_,A.__reactInternalMemoizedMaskedChildContext=F),o}function Cy(A,o,c,m){A=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==A&&tp.enqueueReplaceState(o,o.state,null)}function a0(A,o,c,m){var _=A.stateNode;_.props=c,_.state=A.memoizedState,_.refs={},Kc(A);var F=o.contextType;typeof F=="object"&&F!==null?_.context=_n(F):(F=Ji(o)?Go:ni.current,_.context=Rl(A,F)),_.state=A.memoizedState,F=o.getDerivedStateFromProps,typeof F=="function"&&(A0(A,o,F,c),_.state=A.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(o=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),o!==_.state&&tp.enqueueReplaceState(_,_.state,null),xa(A,c,_,m),_.state=A.memoizedState),typeof _.componentDidMount=="function"&&(A.flags|=4194308)}function eh(A,o){try{var c="",m=o;do c+=oe(m),m=m.return;while(m);var _=c}catch(F){_=`
Error generating stack: `+F.message+`
`+F.stack}return{value:A,source:o,stack:_,digest:null}}function o0(A,o,c){return{value:A,source:null,stack:c??null,digest:o??null}}function l0(A,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var N4=typeof WeakMap=="function"?WeakMap:Map;function _y(A,o,c){c=qs(-1,c),c.tag=3,c.payload={element:null};var m=o.value;return c.callback=function(){op||(op=!0,_0=m),l0(A,o)},c}function by(A,o,c){c=qs(-1,c),c.tag=3;var m=A.type.getDerivedStateFromError;if(typeof m=="function"){var _=o.value;c.payload=function(){return m(_)},c.callback=function(){l0(A,o)}}var F=A.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(c.callback=function(){l0(A,o),typeof m!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var W=o.stack;this.componentDidCatch(o.value,{componentStack:W!==null?W:""})}),c}function Ey(A,o,c){var m=A.pingCache;if(m===null){m=A.pingCache=new N4;var _=new Set;m.set(o,_)}else _=m.get(o),_===void 0&&(_=new Set,m.set(o,_));_.has(c)||(_.add(c),A=K4.bind(null,A,o,c),o.then(A,A))}function Iy(A){do{var o;if((o=A.tag===13)&&(o=A.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return A;A=A.return}while(A!==null);return null}function Sy(A,o,c,m,_){return(A.mode&1)===0?(A===o?A.flags|=65536:(A.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=qs(-1,1),o.tag=2,Gs(c,o,1))),c.lanes|=1),A):(A.flags|=65536,A.lanes=_,A)}var U4=ee.ReactCurrentOwner,Ws=!1;function Is(A,o,c,m){o.child=A===null?vr(o,null,c,m):Un(o,A.child,c,m)}function Fy(A,o,c,m,_){c=c.render;var F=o.ref;return tn(o,_),m=rc(A,o,c,m,F,_),c=WA(),A!==null&&!Ws?(o.updateQueue=A.updateQueue,o.flags&=-2053,A.lanes&=~_,Yo(A,o,_)):(Oe&&c&&Re(o),o.flags|=1,Is(A,o,m,_),o.child)}function Ny(A,o,c,m,_){if(A===null){var F=c.type;return typeof F=="function"&&!U0(F)&&F.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=F,Uy(A,o,F,m,_)):(A=fp(c.type,null,m,o,o.mode,_),A.ref=o.ref,A.return=o,o.child=A)}if(F=A.child,(A.lanes&_)===0){var W=F.memoizedProps;if(c=c.compare,c=c!==null?c:pa,c(W,m)&&A.ref===o.ref)return Yo(A,o,_)}return o.flags|=1,A=$l(F,m),A.ref=o.ref,A.return=o,o.child=A}function Uy(A,o,c,m,_){if(A!==null){var F=A.memoizedProps;if(pa(F,m)&&A.ref===o.ref)if(Ws=!1,o.pendingProps=m=F,(A.lanes&_)!==0)(A.flags&131072)!==0&&(Ws=!0);else return o.lanes=A.lanes,Yo(A,o,_)}return u0(A,o,c,m,_)}function Ty(A,o,c){var m=o.pendingProps,_=m.children,F=A!==null?A.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(rh,wA),wA|=c;else{if((c&1073741824)===0)return A=F!==null?F.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:A,cachePool:null,transitions:null},o.updateQueue=null,Ur(rh,wA),wA|=A,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=F!==null?F.baseLanes:c,Ur(rh,wA),wA|=m}else F!==null?(m=F.baseLanes|c,o.memoizedState=null):m=c,Ur(rh,wA),wA|=m;return Is(A,o,_,c),o.child}function Ly(A,o){var c=o.ref;(A===null&&c!==null||A!==null&&A.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function u0(A,o,c,m,_){var F=Ji(c)?Go:ni.current;return F=Rl(o,F),tn(o,_),c=rc(A,o,c,m,F,_),m=WA(),A!==null&&!Ws?(o.updateQueue=A.updateQueue,o.flags&=-2053,A.lanes&=~_,Yo(A,o,_)):(Oe&&m&&Re(o),o.flags|=1,Is(A,o,c,_),o.child)}function Qy(A,o,c,m,_){if(Ji(c)){var F=!0;zo(o)}else F=!1;if(tn(o,_),o.stateNode===null)np(A,o),xy(o,c,m),a0(o,c,m,_),m=!0;else if(A===null){var W=o.stateNode,he=o.memoizedProps;W.props=he;var we=W.context,Pe=c.contextType;typeof Pe=="object"&&Pe!==null?Pe=_n(Pe):(Pe=Ji(c)?Go:ni.current,Pe=Rl(o,Pe));var Ze=c.getDerivedStateFromProps,tt=typeof Ze=="function"||typeof W.getSnapshotBeforeUpdate=="function";tt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(he!==m||we!==Pe)&&Cy(o,W,m,Pe),qA=!1;var Je=o.memoizedState;W.state=Je,xa(o,m,W,_),we=o.memoizedState,he!==m||Je!==we||Yi.current||qA?(typeof Ze=="function"&&(A0(o,c,Ze,m),we=o.memoizedState),(he=qA||By(o,c,he,m,Je,we,Pe))?(tt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(o.flags|=4194308)):(typeof W.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=we),W.props=m,W.state=we,W.context=Pe,m=he):(typeof W.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{W=o.stateNode,od(A,o),he=o.memoizedProps,Pe=o.type===o.elementType?he:Ea(o.type,he),W.props=Pe,tt=o.pendingProps,Je=W.context,we=c.contextType,typeof we=="object"&&we!==null?we=_n(we):(we=Ji(c)?Go:ni.current,we=Rl(o,we));var pt=c.getDerivedStateFromProps;(Ze=typeof pt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(he!==tt||Je!==we)&&Cy(o,W,m,we),qA=!1,Je=o.memoizedState,W.state=Je,xa(o,m,W,_);var xt=o.memoizedState;he!==tt||Je!==xt||Yi.current||qA?(typeof pt=="function"&&(A0(o,c,pt,m),xt=o.memoizedState),(Pe=qA||By(o,c,Pe,m,Je,xt,we)||!1)?(Ze||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(m,xt,we),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(m,xt,we)),typeof W.componentDidUpdate=="function"&&(o.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof W.componentDidUpdate!="function"||he===A.memoizedProps&&Je===A.memoizedState||(o.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||he===A.memoizedProps&&Je===A.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=xt),W.props=m,W.state=xt,W.context=we,m=Pe):(typeof W.componentDidUpdate!="function"||he===A.memoizedProps&&Je===A.memoizedState||(o.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||he===A.memoizedProps&&Je===A.memoizedState||(o.flags|=1024),m=!1)}return c0(A,o,c,m,F,_)}function c0(A,o,c,m,_,F){Ly(A,o);var W=(o.flags&128)!==0;if(!m&&!W)return _&&Wf(o,c,!1),Yo(A,o,F);m=o.stateNode,U4.current=o;var he=W&&typeof c.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,A!==null&&W?(o.child=Un(o,A.child,null,F),o.child=Un(o,null,he,F)):Is(A,o,he,F),o.memoizedState=m.state,_&&Wf(o,c,!0),o.child}function ky(A){var o=A.stateNode;o.pendingContext?zf(A,o.pendingContext,o.pendingContext!==o.context):o.context&&zf(A,o.context,!1),Ml(A,o.containerInfo)}function Py(A,o,c,m,_){return Xt(),Er(_),o.flags|=256,Is(A,o,c,m),o.child}var h0={dehydrated:null,treeContext:null,retryLane:0};function d0(A){return{baseLanes:A,cachePool:null,transitions:null}}function Ry(A,o,c){var m=o.pendingProps,_=qr.current,F=!1,W=(o.flags&128)!==0,he;if((he=W)||(he=A!==null&&A.memoizedState===null?!1:(_&2)!==0),he?(F=!0,o.flags&=-129):(A===null||A.memoizedState!==null)&&(_|=1),Ur(qr,_&1),A===null)return lt(o),A=o.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((o.mode&1)===0?o.lanes=1:A.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(W=m.children,A=m.fallback,F?(m=o.mode,F=o.child,W={mode:"hidden",children:W},(m&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=W):F=pp(W,m,0,null),A=lc(A,m,c,null),F.return=o,A.return=o,F.sibling=A,o.child=F,o.child.memoizedState=d0(c),o.memoizedState=h0,A):f0(o,W));if(_=A.memoizedState,_!==null&&(he=_.dehydrated,he!==null))return T4(A,o,W,m,he,_,c);if(F){F=m.fallback,W=o.mode,_=A.child,he=_.sibling;var we={mode:"hidden",children:m.children};return(W&1)===0&&o.child!==_?(m=o.child,m.childLanes=0,m.pendingProps=we,o.deletions=null):(m=$l(_,we),m.subtreeFlags=_.subtreeFlags&14680064),he!==null?F=$l(he,F):(F=lc(F,W,c,null),F.flags|=2),F.return=o,m.return=o,m.sibling=F,o.child=m,m=F,F=o.child,W=A.child.memoizedState,W=W===null?d0(c):{baseLanes:W.baseLanes|c,cachePool:null,transitions:W.transitions},F.memoizedState=W,F.childLanes=A.childLanes&~c,o.memoizedState=h0,m}return F=A.child,A=F.sibling,m=$l(F,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=c),m.return=o,m.sibling=null,A!==null&&(c=o.deletions,c===null?(o.deletions=[A],o.flags|=16):c.push(A)),o.child=m,o.memoizedState=null,m}function f0(A,o){return o=pp({mode:"visible",children:o},A.mode,0,null),o.return=A,A.child=o}function rp(A,o,c,m){return m!==null&&Er(m),Un(o,A.child,null,c),A=f0(o,o.pendingProps.children),A.flags|=2,o.memoizedState=null,A}function T4(A,o,c,m,_,F,W){if(c)return o.flags&256?(o.flags&=-257,m=o0(Error(t(422))),rp(A,o,W,m)):o.memoizedState!==null?(o.child=A.child,o.flags|=128,null):(F=m.fallback,_=o.mode,m=pp({mode:"visible",children:m.children},_,0,null),F=lc(F,_,W,null),F.flags|=2,m.return=o,F.return=o,m.sibling=F,o.child=m,(o.mode&1)!==0&&Un(o,A.child,null,W),o.child.memoizedState=d0(W),o.memoizedState=h0,F);if((o.mode&1)===0)return rp(A,o,W,null);if(_.data==="$!"){if(m=_.nextSibling&&_.nextSibling.dataset,m)var he=m.dgst;return m=he,F=Error(t(419)),m=o0(F,m,void 0),rp(A,o,W,m)}if(he=(W&A.childLanes)!==0,Ws||he){if(m=vi,m!==null){switch(W&-W){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(m.suspendedLanes|W))!==0?0:_,_!==0&&_!==F.retryLane&&(F.retryLane=_,yr(A,_),Fa(m,A,_,-1))}return N0(),m=o0(Error(t(421))),rp(A,o,W,m)}return _.data==="$?"?(o.flags|=128,o.child=A.child,o=q4.bind(null,A),_._reactRetry=o,null):(A=F.treeContext,Me=Li(_.nextSibling),ye=o,Oe=!0,He=null,A!==null&&(Z[ne++]=Fe,Z[ne++]=Ne,Z[ne++]=me,Fe=A.id,Ne=A.overflow,me=o),o=f0(o,m.children),o.flags|=4096,o)}function Dy(A,o,c){A.lanes|=o;var m=A.alternate;m!==null&&(m.lanes|=o),Ks(A.return,o,c)}function p0(A,o,c,m,_){var F=A.memoizedState;F===null?A.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:_}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=m,F.tail=c,F.tailMode=_)}function Oy(A,o,c){var m=o.pendingProps,_=m.revealOrder,F=m.tail;if(Is(A,o,m.children,c),m=qr.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=o.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&Dy(A,c,o);else if(A.tag===19)Dy(A,c,o);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}m&=1}if(Ur(qr,m),(o.mode&1)===0)o.memoizedState=null;else switch(_){case"forwards":for(c=o.child,_=null;c!==null;)A=c.alternate,A!==null&&pA(A)===null&&(_=c),c=c.sibling;c=_,c===null?(_=o.child,o.child=null):(_=c.sibling,c.sibling=null),p0(o,!1,_,c,F);break;case"backwards":for(c=null,_=o.child,o.child=null;_!==null;){if(A=_.alternate,A!==null&&pA(A)===null){o.child=_;break}A=_.sibling,_.sibling=c,c=_,_=A}p0(o,!0,c,null,F);break;case"together":p0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function np(A,o){(o.mode&1)===0&&A!==null&&(A.alternate=null,o.alternate=null,o.flags|=2)}function Yo(A,o,c){if(A!==null&&(o.dependencies=A.dependencies),sc|=o.lanes,(c&o.childLanes)===0)return null;if(A!==null&&o.child!==A.child)throw Error(t(153));if(o.child!==null){for(A=o.child,c=$l(A,A.pendingProps),o.child=c,c.return=o;A.sibling!==null;)A=A.sibling,c=c.sibling=$l(A,A.pendingProps),c.return=o;c.sibling=null}return o.child}function L4(A,o,c){switch(o.tag){case 3:ky(o),Xt();break;case 5:$f(o);break;case 1:Ji(o.type)&&zo(o);break;case 4:Ml(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,_=o.memoizedProps.value;Ur(mi,m._currentValue),m._currentValue=_;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Ur(qr,qr.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Ry(A,o,c):(Ur(qr,qr.current&1),A=Yo(A,o,c),A!==null?A.sibling:null);Ur(qr,qr.current&1);break;case 19:if(m=(c&o.childLanes)!==0,(A.flags&128)!==0){if(m)return Oy(A,o,c);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ur(qr,qr.current),m)break;return null;case 22:case 23:return o.lanes=0,Ty(A,o,c)}return Yo(A,o,c)}var My,g0,jy,Hy;My=function(A,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)A.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},g0=function(){},jy=function(A,o,c,m){var _=A.memoizedProps;if(_!==m){A=o.stateNode,Ca(_s.current);var F=null;switch(c){case"input":_=At(A,_),m=At(A,m),F=[];break;case"select":_=fe({},_,{value:void 0}),m=fe({},m,{value:void 0}),F=[];break;case"textarea":_=rt(A,_),m=rt(A,m),F=[];break;default:typeof _.onClick!="function"&&typeof m.onClick=="function"&&(A.onclick=Ql)}Fr(c,m);var W;c=null;for(Pe in _)if(!m.hasOwnProperty(Pe)&&_.hasOwnProperty(Pe)&&_[Pe]!=null)if(Pe==="style"){var he=_[Pe];for(W in he)he.hasOwnProperty(W)&&(c||(c={}),c[W]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(i.hasOwnProperty(Pe)?F||(F=[]):(F=F||[]).push(Pe,null));for(Pe in m){var we=m[Pe];if(he=_?.[Pe],m.hasOwnProperty(Pe)&&we!==he&&(we!=null||he!=null))if(Pe==="style")if(he){for(W in he)!he.hasOwnProperty(W)||we&&we.hasOwnProperty(W)||(c||(c={}),c[W]="");for(W in we)we.hasOwnProperty(W)&&he[W]!==we[W]&&(c||(c={}),c[W]=we[W])}else c||(F||(F=[]),F.push(Pe,c)),c=we;else Pe==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,he=he?he.__html:void 0,we!=null&&he!==we&&(F=F||[]).push(Pe,we)):Pe==="children"?typeof we!="string"&&typeof we!="number"||(F=F||[]).push(Pe,""+we):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Pe)?(we!=null&&Pe==="onScroll"&&Rr("scroll",A),F||he===we||(F=[])):(F=F||[]).push(Pe,we))}c&&(F=F||[]).push("style",c);var Pe=F;(o.updateQueue=Pe)&&(o.flags|=4)}},Hy=function(A,o,c,m){c!==m&&(o.flags|=4)};function fd(A,o){if(!Oe)switch(A.tailMode){case"hidden":o=A.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?A.tail=null:c.sibling=null;break;case"collapsed":c=A.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function es(A){var o=A.alternate!==null&&A.alternate.child===A.child,c=0,m=0;if(o)for(var _=A.child;_!==null;)c|=_.lanes|_.childLanes,m|=_.subtreeFlags&14680064,m|=_.flags&14680064,_.return=A,_=_.sibling;else for(_=A.child;_!==null;)c|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=A,_=_.sibling;return A.subtreeFlags|=m,A.childLanes=c,o}function Q4(A,o,c){var m=o.pendingProps;switch(ve(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(o),null;case 1:return Ji(o.type)&&Vc(),es(o),null;case 3:return m=o.stateNode,GA(),br(Yi),br(ni),cd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(A===null||A.child===null)&&(ur(o)?o.flags|=4:A===null||A.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,He!==null&&(I0(He),He=null))),g0(A,o),es(o),null;case 5:ld(o);var _=Ca(no.current);if(c=o.type,A!==null&&o.stateNode!=null)jy(A,o,c,m,_),A.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return es(o),null}if(A=Ca(_s.current),ur(o)){m=o.stateNode,c=o.type;var F=o.memoizedProps;switch(m[KA]=o,m[kl]=F,A=(o.mode&1)!==0,c){case"dialog":Rr("cancel",m),Rr("close",m);break;case"iframe":case"object":case"embed":Rr("load",m);break;case"video":case"audio":for(_=0;_<Za.length;_++)Rr(Za[_],m);break;case"source":Rr("error",m);break;case"img":case"image":case"link":Rr("error",m),Rr("load",m);break;case"details":Rr("toggle",m);break;case"input":Te(m,F),Rr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!F.multiple},Rr("invalid",m);break;case"textarea":wt(m,F),Rr("invalid",m)}Fr(c,F),_=null;for(var W in F)if(F.hasOwnProperty(W)){var he=F[W];W==="children"?typeof he=="string"?m.textContent!==he&&(F.suppressHydrationWarning!==!0&&Hc(m.textContent,he,A),_=["children",he]):typeof he=="number"&&m.textContent!==""+he&&(F.suppressHydrationWarning!==!0&&Hc(m.textContent,he,A),_=["children",""+he]):i.hasOwnProperty(W)&&he!=null&&W==="onScroll"&&Rr("scroll",m)}switch(c){case"input":ke(m),ze(m,F,!0);break;case"textarea":ke(m),St(m);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(m.onclick=Ql)}m=_,o.updateQueue=m,m!==null&&(o.flags|=4)}else{W=_.nodeType===9?_:_.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=ct(c)),A==="http://www.w3.org/1999/xhtml"?c==="script"?(A=W.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof m.is=="string"?A=W.createElement(c,{is:m.is}):(A=W.createElement(c),c==="select"&&(W=A,m.multiple?W.multiple=!0:m.size&&(W.size=m.size))):A=W.createElementNS(A,c),A[KA]=o,A[kl]=m,My(A,o,!1,!1),o.stateNode=A;e:{switch(W=Hi(c,m),c){case"dialog":Rr("cancel",A),Rr("close",A),_=m;break;case"iframe":case"object":case"embed":Rr("load",A),_=m;break;case"video":case"audio":for(_=0;_<Za.length;_++)Rr(Za[_],A);_=m;break;case"source":Rr("error",A),_=m;break;case"img":case"image":case"link":Rr("error",A),Rr("load",A),_=m;break;case"details":Rr("toggle",A),_=m;break;case"input":Te(A,m),_=At(A,m),Rr("invalid",A);break;case"option":_=m;break;case"select":A._wrapperState={wasMultiple:!!m.multiple},_=fe({},m,{value:void 0}),Rr("invalid",A);break;case"textarea":wt(A,m),_=rt(A,m),Rr("invalid",A);break;default:_=m}Fr(c,_),he=_;for(F in he)if(he.hasOwnProperty(F)){var we=he[F];F==="style"?jn(A,we):F==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&Ft(A,we)):F==="children"?typeof we=="string"?(c!=="textarea"||we!=="")&&Dt(A,we):typeof we=="number"&&Dt(A,""+we):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?we!=null&&F==="onScroll"&&Rr("scroll",A):we!=null&&q(A,F,we,W))}switch(c){case"input":ke(A),ze(A,m,!1);break;case"textarea":ke(A),St(A);break;case"option":m.value!=null&&A.setAttribute("value",""+ge(m.value));break;case"select":A.multiple=!!m.multiple,F=m.value,F!=null?nt(A,!!m.multiple,F,!1):m.defaultValue!=null&&nt(A,!!m.multiple,m.defaultValue,!0);break;default:typeof _.onClick=="function"&&(A.onclick=Ql)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return es(o),null;case 6:if(A&&o.stateNode!=null)Hy(A,o,A.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(c=Ca(no.current),Ca(_s.current),ur(o)){if(m=o.stateNode,c=o.memoizedProps,m[KA]=o,(F=m.nodeValue!==c)&&(A=ye,A!==null))switch(A.tag){case 3:Hc(m.nodeValue,c,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&Hc(m.nodeValue,c,(A.mode&1)!==0)}F&&(o.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[KA]=o,o.stateNode=m}return es(o),null;case 13:if(br(qr),m=o.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(Oe&&Me!==null&&(o.mode&1)!==0&&(o.flags&128)===0)nr(),Xt(),o.flags|=98560,F=!1;else if(F=ur(o),m!==null&&m.dehydrated!==null){if(A===null){if(!F)throw Error(t(318));if(F=o.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(t(317));F[KA]=o}else Xt(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;es(o),F=!1}else He!==null&&(I0(He),He=null),F=!0;if(!F)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(m=m!==null,m!==(A!==null&&A.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(A===null||(qr.current&1)!==0?si===0&&(si=3):N0())),o.updateQueue!==null&&(o.flags|=4),es(o),null);case 4:return GA(),g0(A,o),A===null&&Ho(o.stateNode.containerInfo),es(o),null;case 10:return Zi(o.type._context),es(o),null;case 17:return Ji(o.type)&&Vc(),es(o),null;case 19:if(br(qr),F=o.memoizedState,F===null)return es(o),null;if(m=(o.flags&128)!==0,W=F.rendering,W===null)if(m)fd(F,!1);else{if(si!==0||A!==null&&(A.flags&128)!==0)for(A=o.child;A!==null;){if(W=pA(A),W!==null){for(o.flags|=128,fd(F,!1),m=W.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=c,c=o.child;c!==null;)F=c,A=m,F.flags&=14680066,W=F.alternate,W===null?(F.childLanes=0,F.lanes=A,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=W.childLanes,F.lanes=W.lanes,F.child=W.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=W.memoizedProps,F.memoizedState=W.memoizedState,F.updateQueue=W.updateQueue,F.type=W.type,A=W.dependencies,F.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),c=c.sibling;return Ur(qr,qr.current&1|2),o.child}A=A.sibling}F.tail!==null&&Nr()>nh&&(o.flags|=128,m=!0,fd(F,!1),o.lanes=4194304)}else{if(!m)if(A=pA(W),A!==null){if(o.flags|=128,m=!0,c=A.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),fd(F,!0),F.tail===null&&F.tailMode==="hidden"&&!W.alternate&&!Oe)return es(o),null}else 2*Nr()-F.renderingStartTime>nh&&c!==1073741824&&(o.flags|=128,m=!0,fd(F,!1),o.lanes=4194304);F.isBackwards?(W.sibling=o.child,o.child=W):(c=F.last,c!==null?c.sibling=W:o.child=W,F.last=W)}return F.tail!==null?(o=F.tail,F.rendering=o,F.tail=o.sibling,F.renderingStartTime=Nr(),o.sibling=null,c=qr.current,Ur(qr,m?c&1|2:c&1),o):(es(o),null);case 22:case 23:return F0(),m=o.memoizedState!==null,A!==null&&A.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(wA&1073741824)!==0&&(es(o),o.subtreeFlags&6&&(o.flags|=8192)):es(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function k4(A,o){switch(ve(o),o.tag){case 1:return Ji(o.type)&&Vc(),A=o.flags,A&65536?(o.flags=A&-65537|128,o):null;case 3:return GA(),br(Yi),br(ni),cd(),A=o.flags,(A&65536)!==0&&(A&128)===0?(o.flags=A&-65537|128,o):null;case 5:return ld(o),null;case 13:if(br(qr),A=o.memoizedState,A!==null&&A.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Xt()}return A=o.flags,A&65536?(o.flags=A&-65537|128,o):null;case 19:return br(qr),null;case 4:return GA(),null;case 10:return Zi(o.type._context),null;case 22:case 23:return F0(),null;case 24:return null;default:return null}}var ip=!1,ts=!1,P4=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function th(A,o){var c=A.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){En(A,o,m)}else c.current=null}function m0(A,o,c){try{c()}catch(m){En(A,o,m)}}var Vy=!1;function R4(A,o){if(Zu=kA,A=Gu(),Do(A)){if("selectionStart"in A)var c={start:A.selectionStart,end:A.selectionEnd};else e:{c=(c=A.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var _=m.anchorOffset,F=m.focusNode;m=m.focusOffset;try{c.nodeType,F.nodeType}catch{c=null;break e}var W=0,he=-1,we=-1,Pe=0,Ze=0,tt=A,Je=null;t:for(;;){for(var pt;tt!==c||_!==0&&tt.nodeType!==3||(he=W+_),tt!==F||m!==0&&tt.nodeType!==3||(we=W+m),tt.nodeType===3&&(W+=tt.nodeValue.length),(pt=tt.firstChild)!==null;)Je=tt,tt=pt;for(;;){if(tt===A)break t;if(Je===c&&++Pe===_&&(he=W),Je===F&&++Ze===m&&(we=W),(pt=tt.nextSibling)!==null)break;tt=Je,Je=tt.parentNode}tt=pt}c=he===-1||we===-1?null:{start:he,end:we}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ko={focusedElem:A,selectionRange:c},kA=!1,Bt=o;Bt!==null;)if(o=Bt,A=o.child,(o.subtreeFlags&1028)!==0&&A!==null)A.return=o,Bt=A;else for(;Bt!==null;){o=Bt;try{var xt=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var _t=xt.memoizedProps,Qn=xt.memoizedState,Ue=o.stateNode,_e=Ue.getSnapshotBeforeUpdate(o.elementType===o.type?_t:Ea(o.type,_t),Qn);Ue.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Qe=o.stateNode.containerInfo;Qe.nodeType===1?Qe.textContent="":Qe.nodeType===9&&Qe.documentElement&&Qe.removeChild(Qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(it){En(o,o.return,it)}if(A=o.sibling,A!==null){A.return=o.return,Bt=A;break}Bt=o.return}return xt=Vy,Vy=!1,xt}function pd(A,o,c){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&A)===A){var F=_.destroy;_.destroy=void 0,F!==void 0&&m0(o,c,F)}_=_.next}while(_!==m)}}function sp(A,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&A)===A){var m=c.create;c.destroy=m()}c=c.next}while(c!==o)}}function w0(A){var o=A.ref;if(o!==null){var c=A.stateNode;switch(A.tag){case 5:A=c;break;default:A=c}typeof o=="function"?o(A):o.current=A}}function Ky(A){var o=A.alternate;o!==null&&(A.alternate=null,Ky(o)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(o=A.stateNode,o!==null&&(delete o[KA],delete o[kl],delete o[Xi],delete o[r0],delete o[n0])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function qy(A){return A.tag===5||A.tag===3||A.tag===4}function Gy(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||qy(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function v0(A,o,c){var m=A.tag;if(m===5||m===6)A=A.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(A,o):c.insertBefore(A,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(A,c)):(o=c,o.appendChild(A)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ql));else if(m!==4&&(A=A.child,A!==null))for(v0(A,o,c),A=A.sibling;A!==null;)v0(A,o,c),A=A.sibling}function y0(A,o,c){var m=A.tag;if(m===5||m===6)A=A.stateNode,o?c.insertBefore(A,o):c.appendChild(A);else if(m!==4&&(A=A.child,A!==null))for(y0(A,o,c),A=A.sibling;A!==null;)y0(A,o,c),A=A.sibling}var ki=null,Ia=!1;function Kl(A,o,c){for(c=c.child;c!==null;)zy(A,o,c),c=c.sibling}function zy(A,o,c){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(FA,c)}catch{}switch(c.tag){case 5:ts||th(c,o);case 6:var m=ki,_=Ia;ki=null,Kl(A,o,c),ki=m,Ia=_,ki!==null&&(Ia?(A=ki,c=c.stateNode,A.nodeType===8?A.parentNode.removeChild(c):A.removeChild(c)):ki.removeChild(c.stateNode));break;case 18:ki!==null&&(Ia?(A=ki,c=c.stateNode,A.nodeType===8?sd(A.parentNode,c):A.nodeType===1&&sd(A,c),ei(A)):sd(ki,c.stateNode));break;case 4:m=ki,_=Ia,ki=c.stateNode.containerInfo,Ia=!0,Kl(A,o,c),ki=m,Ia=_;break;case 0:case 11:case 14:case 15:if(!ts&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){_=m=m.next;do{var F=_,W=F.destroy;F=F.tag,W!==void 0&&((F&2)!==0||(F&4)!==0)&&m0(c,o,W),_=_.next}while(_!==m)}Kl(A,o,c);break;case 1:if(!ts&&(th(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(he){En(c,o,he)}Kl(A,o,c);break;case 21:Kl(A,o,c);break;case 22:c.mode&1?(ts=(m=ts)||c.memoizedState!==null,Kl(A,o,c),ts=m):Kl(A,o,c);break;default:Kl(A,o,c)}}function Wy(A){var o=A.updateQueue;if(o!==null){A.updateQueue=null;var c=A.stateNode;c===null&&(c=A.stateNode=new P4),o.forEach(function(m){var _=G4.bind(null,A,m);c.has(m)||(c.add(m),m.then(_,_))})}}function Sa(A,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var _=c[m];try{var F=A,W=o,he=W;e:for(;he!==null;){switch(he.tag){case 5:ki=he.stateNode,Ia=!1;break e;case 3:ki=he.stateNode.containerInfo,Ia=!0;break e;case 4:ki=he.stateNode.containerInfo,Ia=!0;break e}he=he.return}if(ki===null)throw Error(t(160));zy(F,W,_),ki=null,Ia=!1;var we=_.alternate;we!==null&&(we.return=null),_.return=null}catch(Pe){En(_,o,Pe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$y(o,A),o=o.sibling}function $y(A,o){var c=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(Sa(o,A),so(A),m&4){try{pd(3,A,A.return),sp(3,A)}catch(_t){En(A,A.return,_t)}try{pd(5,A,A.return)}catch(_t){En(A,A.return,_t)}}break;case 1:Sa(o,A),so(A),m&512&&c!==null&&th(c,c.return);break;case 5:if(Sa(o,A),so(A),m&512&&c!==null&&th(c,c.return),A.flags&32){var _=A.stateNode;try{Dt(_,"")}catch(_t){En(A,A.return,_t)}}if(m&4&&(_=A.stateNode,_!=null)){var F=A.memoizedProps,W=c!==null?c.memoizedProps:F,he=A.type,we=A.updateQueue;if(A.updateQueue=null,we!==null)try{he==="input"&&F.type==="radio"&&F.name!=null&&Ae(_,F),Hi(he,W);var Pe=Hi(he,F);for(W=0;W<we.length;W+=2){var Ze=we[W],tt=we[W+1];Ze==="style"?jn(_,tt):Ze==="dangerouslySetInnerHTML"?Ft(_,tt):Ze==="children"?Dt(_,tt):q(_,Ze,tt,Pe)}switch(he){case"input":bt(_,F);break;case"textarea":vt(_,F);break;case"select":var Je=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!F.multiple;var pt=F.value;pt!=null?nt(_,!!F.multiple,pt,!1):Je!==!!F.multiple&&(F.defaultValue!=null?nt(_,!!F.multiple,F.defaultValue,!0):nt(_,!!F.multiple,F.multiple?[]:"",!1))}_[kl]=F}catch(_t){En(A,A.return,_t)}}break;case 6:if(Sa(o,A),so(A),m&4){if(A.stateNode===null)throw Error(t(162));_=A.stateNode,F=A.memoizedProps;try{_.nodeValue=F}catch(_t){En(A,A.return,_t)}}break;case 3:if(Sa(o,A),so(A),m&4&&c!==null&&c.memoizedState.isDehydrated)try{ei(o.containerInfo)}catch(_t){En(A,A.return,_t)}break;case 4:Sa(o,A),so(A);break;case 13:Sa(o,A),so(A),_=A.child,_.flags&8192&&(F=_.memoizedState!==null,_.stateNode.isHidden=F,!F||_.alternate!==null&&_.alternate.memoizedState!==null||(C0=Nr())),m&4&&Wy(A);break;case 22:if(Ze=c!==null&&c.memoizedState!==null,A.mode&1?(ts=(Pe=ts)||Ze,Sa(o,A),ts=Pe):Sa(o,A),so(A),m&8192){if(Pe=A.memoizedState!==null,(A.stateNode.isHidden=Pe)&&!Ze&&(A.mode&1)!==0)for(Bt=A,Ze=A.child;Ze!==null;){for(tt=Bt=Ze;Bt!==null;){switch(Je=Bt,pt=Je.child,Je.tag){case 0:case 11:case 14:case 15:pd(4,Je,Je.return);break;case 1:th(Je,Je.return);var xt=Je.stateNode;if(typeof xt.componentWillUnmount=="function"){m=Je,c=Je.return;try{o=m,xt.props=o.memoizedProps,xt.state=o.memoizedState,xt.componentWillUnmount()}catch(_t){En(m,c,_t)}}break;case 5:th(Je,Je.return);break;case 22:if(Je.memoizedState!==null){Jy(tt);continue}}pt!==null?(pt.return=Je,Bt=pt):Jy(tt)}Ze=Ze.sibling}e:for(Ze=null,tt=A;;){if(tt.tag===5){if(Ze===null){Ze=tt;try{_=tt.stateNode,Pe?(F=_.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(he=tt.stateNode,we=tt.memoizedProps.style,W=we!=null&&we.hasOwnProperty("display")?we.display:null,he.style.display=Wt("display",W))}catch(_t){En(A,A.return,_t)}}}else if(tt.tag===6){if(Ze===null)try{tt.stateNode.nodeValue=Pe?"":tt.memoizedProps}catch(_t){En(A,A.return,_t)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===A)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===A)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===A)break e;Ze===tt&&(Ze=null),tt=tt.return}Ze===tt&&(Ze=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:Sa(o,A),so(A),m&4&&Wy(A);break;case 21:break;default:Sa(o,A),so(A)}}function so(A){var o=A.flags;if(o&2){try{e:{for(var c=A.return;c!==null;){if(qy(c)){var m=c;break e}c=c.return}throw Error(t(160))}switch(m.tag){case 5:var _=m.stateNode;m.flags&32&&(Dt(_,""),m.flags&=-33);var F=Gy(A);y0(A,F,_);break;case 3:case 4:var W=m.stateNode.containerInfo,he=Gy(A);v0(A,he,W);break;default:throw Error(t(161))}}catch(we){En(A,A.return,we)}A.flags&=-3}o&4096&&(A.flags&=-4097)}function D4(A,o,c){Bt=A,Xy(A)}function Xy(A,o,c){for(var m=(A.mode&1)!==0;Bt!==null;){var _=Bt,F=_.child;if(_.tag===22&&m){var W=_.memoizedState!==null||ip;if(!W){var he=_.alternate,we=he!==null&&he.memoizedState!==null||ts;he=ip;var Pe=ts;if(ip=W,(ts=we)&&!Pe)for(Bt=_;Bt!==null;)W=Bt,we=W.child,W.tag===22&&W.memoizedState!==null?Zy(_):we!==null?(we.return=W,Bt=we):Zy(_);for(;F!==null;)Bt=F,Xy(F),F=F.sibling;Bt=_,ip=he,ts=Pe}Yy(A)}else(_.subtreeFlags&8772)!==0&&F!==null?(F.return=_,Bt=F):Yy(A)}}function Yy(A){for(;Bt!==null;){var o=Bt;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:ts||sp(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!ts)if(c===null)m.componentDidMount();else{var _=o.elementType===o.type?c.memoizedProps:Ea(o.type,c.memoizedProps);m.componentDidUpdate(_,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var F=o.updateQueue;F!==null&&$o(o,F,m);break;case 3:var W=o.updateQueue;if(W!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}$o(o,W,c)}break;case 5:var he=o.stateNode;if(c===null&&o.flags&4){c=he;var we=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&c.focus();break;case"img":we.src&&(c.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Pe=o.alternate;if(Pe!==null){var Ze=Pe.memoizedState;if(Ze!==null){var tt=Ze.dehydrated;tt!==null&&ei(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ts||o.flags&512&&w0(o)}catch(Je){En(o,o.return,Je)}}if(o===A){Bt=null;break}if(c=o.sibling,c!==null){c.return=o.return,Bt=c;break}Bt=o.return}}function Jy(A){for(;Bt!==null;){var o=Bt;if(o===A){Bt=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Bt=c;break}Bt=o.return}}function Zy(A){for(;Bt!==null;){var o=Bt;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{sp(4,o)}catch(we){En(o,c,we)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var _=o.return;try{m.componentDidMount()}catch(we){En(o,_,we)}}var F=o.return;try{w0(o)}catch(we){En(o,F,we)}break;case 5:var W=o.return;try{w0(o)}catch(we){En(o,W,we)}}}catch(we){En(o,o.return,we)}if(o===A){Bt=null;break}var he=o.sibling;if(he!==null){he.return=o.return,Bt=he;break}Bt=o.return}}var O4=Math.ceil,Ap=ee.ReactCurrentDispatcher,B0=ee.ReactCurrentOwner,$A=ee.ReactCurrentBatchConfig,gr=0,vi=null,Kn=null,Pi=0,wA=0,rh=fA(0),si=0,gd=null,sc=0,ap=0,x0=0,md=null,$s=null,C0=0,nh=1/0,Jo=null,op=!1,_0=null,ql=null,lp=!1,Gl=null,up=0,wd=0,b0=null,cp=-1,hp=0;function Ss(){return(gr&6)!==0?Nr():cp!==-1?cp:cp=Nr()}function zl(A){return(A.mode&1)===0?1:(gr&2)!==0&&Pi!==0?Pi&-Pi:Tr.transition!==null?(hp===0&&(hp=TA()),hp):(A=Yt,A!==0||(A=window.event,A=A===void 0?16:Ga(A.type)),A)}function Fa(A,o,c,m){if(50<wd)throw wd=0,b0=null,Error(t(185));AA(A,c,m),((gr&2)===0||A!==vi)&&(A===vi&&((gr&2)===0&&(ap|=c),si===4&&Wl(A,Pi)),Xs(A,m),c===1&&gr===0&&(o.mode&1)===0&&(nh=Nr()+500,tc&&L()))}function Xs(A,o){var c=A.callbackNode;on(A,o);var m=Yn(A,A===vi?Pi:0);if(m===0)c!==null&&SA(c),A.callbackNode=null,A.callbackPriority=0;else if(o=m&-m,A.callbackPriority!==o){if(c!=null&&SA(c),o===1)A.tag===0?b(t2.bind(null,A)):v(t2.bind(null,A)),e0(function(){(gr&6)===0&&L()}),c=null;else{switch(ks(m)){case 1:c=Qs;break;case 4:c=sA;break;case 16:c=qi;break;case 536870912:c=ml;break;default:c=qi}c=l2(c,e2.bind(null,A))}A.callbackPriority=o,A.callbackNode=c}}function e2(A,o){if(cp=-1,hp=0,(gr&6)!==0)throw Error(t(327));var c=A.callbackNode;if(ih()&&A.callbackNode!==c)return null;var m=Yn(A,A===vi?Pi:0);if(m===0)return null;if((m&30)!==0||(m&A.expiredLanes)!==0||o)o=dp(A,m);else{o=m;var _=gr;gr|=2;var F=n2();(vi!==A||Pi!==o)&&(Jo=null,nh=Nr()+500,ac(A,o));do try{H4();break}catch(he){r2(A,he)}while(!0);ii(),Ap.current=F,gr=_,Kn!==null?o=0:(vi=null,Pi=0,o=si)}if(o!==0){if(o===2&&(_=Jn(A),_!==0&&(m=_,o=E0(A,_))),o===1)throw c=gd,ac(A,0),Wl(A,m),Xs(A,Nr()),c;if(o===6)Wl(A,m);else{if(_=A.current.alternate,(m&30)===0&&!M4(_)&&(o=dp(A,m),o===2&&(F=Jn(A),F!==0&&(m=F,o=E0(A,F))),o===1))throw c=gd,ac(A,0),Wl(A,m),Xs(A,Nr()),c;switch(A.finishedWork=_,A.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:oc(A,$s,Jo);break;case 3:if(Wl(A,m),(m&130023424)===m&&(o=C0+500-Nr(),10<o)){if(Yn(A,0)!==0)break;if(_=A.suspendedLanes,(_&m)!==m){Ss(),A.pingedLanes|=A.suspendedLanes&_;break}A.timeoutHandle=id(oc.bind(null,A,$s,Jo),o);break}oc(A,$s,Jo);break;case 4:if(Wl(A,m),(m&4194240)===m)break;for(o=A.eventTimes,_=-1;0<m;){var W=31-Xn(m);F=1<<W,W=o[W],W>_&&(_=W),m&=~F}if(m=_,m=Nr()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*O4(m/1960))-m,10<m){A.timeoutHandle=id(oc.bind(null,A,$s,Jo),m);break}oc(A,$s,Jo);break;case 5:oc(A,$s,Jo);break;default:throw Error(t(329))}}}return Xs(A,Nr()),A.callbackNode===c?e2.bind(null,A):null}function E0(A,o){var c=md;return A.current.memoizedState.isDehydrated&&(ac(A,o).flags|=256),A=dp(A,o),A!==2&&(o=$s,$s=c,o!==null&&I0(o)),A}function I0(A){$s===null?$s=A:$s.push.apply($s,A)}function M4(A){for(var o=A;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var _=c[m],F=_.getSnapshot;_=_.value;try{if(!pr(F(),_))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===A)break;for(;o.sibling===null;){if(o.return===null||o.return===A)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Wl(A,o){for(o&=~x0,o&=~ap,A.suspendedLanes|=o,A.pingedLanes&=~o,A=A.expirationTimes;0<o;){var c=31-Xn(o),m=1<<c;A[c]=-1,o&=~m}}function t2(A){if((gr&6)!==0)throw Error(t(327));ih();var o=Yn(A,0);if((o&1)===0)return Xs(A,Nr()),null;var c=dp(A,o);if(A.tag!==0&&c===2){var m=Jn(A);m!==0&&(o=m,c=E0(A,m))}if(c===1)throw c=gd,ac(A,0),Wl(A,o),Xs(A,Nr()),c;if(c===6)throw Error(t(345));return A.finishedWork=A.current.alternate,A.finishedLanes=o,oc(A,$s,Jo),Xs(A,Nr()),null}function S0(A,o){var c=gr;gr|=1;try{return A(o)}finally{gr=c,gr===0&&(nh=Nr()+500,tc&&L())}}function Ac(A){Gl!==null&&Gl.tag===0&&(gr&6)===0&&ih();var o=gr;gr|=1;var c=$A.transition,m=Yt;try{if($A.transition=null,Yt=1,A)return A()}finally{Yt=m,$A.transition=c,gr=o,(gr&6)===0&&L()}}function F0(){wA=rh.current,br(rh)}function ac(A,o){A.finishedWork=null,A.finishedLanes=0;var c=A.timeoutHandle;if(c!==-1&&(A.timeoutHandle=-1,qf(c)),Kn!==null)for(c=Kn.return;c!==null;){var m=c;switch(ve(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Vc();break;case 3:GA(),br(Yi),br(ni),cd();break;case 5:ld(m);break;case 4:GA();break;case 13:br(qr);break;case 19:br(qr);break;case 10:Zi(m.type._context);break;case 22:case 23:F0()}c=c.return}if(vi=A,Kn=A=$l(A.current,null),Pi=wA=o,si=0,gd=null,x0=ap=sc=0,$s=md=null,Cs!==null){for(o=0;o<Cs.length;o++)if(c=Cs[o],m=c.interleaved,m!==null){c.interleaved=null;var _=m.next,F=c.pending;if(F!==null){var W=F.next;F.next=_,m.next=W}c.pending=m}Cs=null}return A}function r2(A,o){do{var c=Kn;try{if(ii(),qc.current=ep,jl){for(var m=Wr.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}jl=!1}if(zA=0,mn=bn=Wr=null,_a=!1,Hl=0,B0.current=null,c===null||c.return===null){si=1,gd=o,Kn=null;break}e:{var F=A,W=c.return,he=c,we=o;if(o=Pi,he.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Pe=we,Ze=he,tt=Ze.tag;if((Ze.mode&1)===0&&(tt===0||tt===11||tt===15)){var Je=Ze.alternate;Je?(Ze.updateQueue=Je.updateQueue,Ze.memoizedState=Je.memoizedState,Ze.lanes=Je.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var pt=Iy(W);if(pt!==null){pt.flags&=-257,Sy(pt,W,he,F,o),pt.mode&1&&Ey(F,Pe,o),o=pt,we=Pe;var xt=o.updateQueue;if(xt===null){var _t=new Set;_t.add(we),o.updateQueue=_t}else xt.add(we);break e}else{if((o&1)===0){Ey(F,Pe,o),N0();break e}we=Error(t(426))}}else if(Oe&&he.mode&1){var Qn=Iy(W);if(Qn!==null){(Qn.flags&65536)===0&&(Qn.flags|=256),Sy(Qn,W,he,F,o),Er(eh(we,he));break e}}F=we=eh(we,he),si!==4&&(si=2),md===null?md=[F]:md.push(F),F=W;do{switch(F.tag){case 3:F.flags|=65536,o&=-o,F.lanes|=o;var Ue=_y(F,we,o);zs(F,Ue);break e;case 1:he=we;var _e=F.type,Qe=F.stateNode;if((F.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||Qe!==null&&typeof Qe.componentDidCatch=="function"&&(ql===null||!ql.has(Qe)))){F.flags|=65536,o&=-o,F.lanes|=o;var it=by(F,he,o);zs(F,it);break e}}F=F.return}while(F!==null)}s2(c)}catch(It){o=It,Kn===c&&c!==null&&(Kn=c=c.return);continue}break}while(!0)}function n2(){var A=Ap.current;return Ap.current=ep,A===null?ep:A}function N0(){(si===0||si===3||si===2)&&(si=4),vi===null||(sc&268435455)===0&&(ap&268435455)===0||Wl(vi,Pi)}function dp(A,o){var c=gr;gr|=2;var m=n2();(vi!==A||Pi!==o)&&(Jo=null,ac(A,o));do try{j4();break}catch(_){r2(A,_)}while(!0);if(ii(),gr=c,Ap.current=m,Kn!==null)throw Error(t(261));return vi=null,Pi=0,si}function j4(){for(;Kn!==null;)i2(Kn)}function H4(){for(;Kn!==null&&!na();)i2(Kn)}function i2(A){var o=o2(A.alternate,A,wA);A.memoizedProps=A.pendingProps,o===null?s2(A):Kn=o,B0.current=null}function s2(A){var o=A;do{var c=o.alternate;if(A=o.return,(o.flags&32768)===0){if(c=Q4(c,o,wA),c!==null){Kn=c;return}}else{if(c=k4(c,o),c!==null){c.flags&=32767,Kn=c;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{si=6,Kn=null;return}}if(o=o.sibling,o!==null){Kn=o;return}Kn=o=A}while(o!==null);si===0&&(si=5)}function oc(A,o,c){var m=Yt,_=$A.transition;try{$A.transition=null,Yt=1,V4(A,o,c,m)}finally{$A.transition=_,Yt=m}return null}function V4(A,o,c,m){do ih();while(Gl!==null);if((gr&6)!==0)throw Error(t(327));c=A.finishedWork;var _=A.finishedLanes;if(c===null)return null;if(A.finishedWork=null,A.finishedLanes=0,c===A.current)throw Error(t(177));A.callbackNode=null,A.callbackPriority=0;var F=c.lanes|c.childLanes;if(xr(A,F),A===vi&&(Kn=vi=null,Pi=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||lp||(lp=!0,l2(qi,function(){return ih(),null})),F=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||F){F=$A.transition,$A.transition=null;var W=Yt;Yt=1;var he=gr;gr|=4,B0.current=null,R4(A,c),$y(c,A),Oo(Ko),kA=!!Zu,Ko=Zu=null,A.current=c,D4(c),pl(),gr=he,Yt=W,$A.transition=F}else A.current=c;if(lp&&(lp=!1,Gl=A,up=_),F=A.pendingLanes,F===0&&(ql=null),sa(c.stateNode),Xs(A,Nr()),o!==null)for(m=A.onRecoverableError,c=0;c<o.length;c++)_=o[c],m(_.value,{componentStack:_.stack,digest:_.digest});if(op)throw op=!1,A=_0,_0=null,A;return(up&1)!==0&&A.tag!==0&&ih(),F=A.pendingLanes,(F&1)!==0?A===b0?wd++:(wd=0,b0=A):wd=0,L(),null}function ih(){if(Gl!==null){var A=ks(up),o=$A.transition,c=Yt;try{if($A.transition=null,Yt=16>A?16:A,Gl===null)var m=!1;else{if(A=Gl,Gl=null,up=0,(gr&6)!==0)throw Error(t(331));var _=gr;for(gr|=4,Bt=A.current;Bt!==null;){var F=Bt,W=F.child;if((Bt.flags&16)!==0){var he=F.deletions;if(he!==null){for(var we=0;we<he.length;we++){var Pe=he[we];for(Bt=Pe;Bt!==null;){var Ze=Bt;switch(Ze.tag){case 0:case 11:case 15:pd(8,Ze,F)}var tt=Ze.child;if(tt!==null)tt.return=Ze,Bt=tt;else for(;Bt!==null;){Ze=Bt;var Je=Ze.sibling,pt=Ze.return;if(Ky(Ze),Ze===Pe){Bt=null;break}if(Je!==null){Je.return=pt,Bt=Je;break}Bt=pt}}}var xt=F.alternate;if(xt!==null){var _t=xt.child;if(_t!==null){xt.child=null;do{var Qn=_t.sibling;_t.sibling=null,_t=Qn}while(_t!==null)}}Bt=F}}if((F.subtreeFlags&2064)!==0&&W!==null)W.return=F,Bt=W;else e:for(;Bt!==null;){if(F=Bt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:pd(9,F,F.return)}var Ue=F.sibling;if(Ue!==null){Ue.return=F.return,Bt=Ue;break e}Bt=F.return}}var _e=A.current;for(Bt=_e;Bt!==null;){W=Bt;var Qe=W.child;if((W.subtreeFlags&2064)!==0&&Qe!==null)Qe.return=W,Bt=Qe;else e:for(W=_e;Bt!==null;){if(he=Bt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:sp(9,he)}}catch(It){En(he,he.return,It)}if(he===W){Bt=null;break e}var it=he.sibling;if(it!==null){it.return=he.return,Bt=it;break e}Bt=he.return}}if(gr=_,L(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(FA,A)}catch{}m=!0}return m}finally{Yt=c,$A.transition=o}}return!1}function A2(A,o,c){o=eh(c,o),o=_y(A,o,1),A=Gs(A,o,1),o=Ss(),A!==null&&(AA(A,1,o),Xs(A,o))}function En(A,o,c){if(A.tag===3)A2(A,A,c);else for(;o!==null;){if(o.tag===3){A2(o,A,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ql===null||!ql.has(m))){A=eh(c,A),A=by(o,A,1),o=Gs(o,A,1),A=Ss(),o!==null&&(AA(o,1,A),Xs(o,A));break}}o=o.return}}function K4(A,o,c){var m=A.pingCache;m!==null&&m.delete(o),o=Ss(),A.pingedLanes|=A.suspendedLanes&c,vi===A&&(Pi&c)===c&&(si===4||si===3&&(Pi&130023424)===Pi&&500>Nr()-C0?ac(A,0):x0|=c),Xs(A,o)}function a2(A,o){o===0&&((A.mode&1)===0?o=1:(o=NA,NA<<=1,(NA&130023424)===0&&(NA=4194304)));var c=Ss();A=yr(A,o),A!==null&&(AA(A,o,c),Xs(A,c))}function q4(A){var o=A.memoizedState,c=0;o!==null&&(c=o.retryLane),a2(A,c)}function G4(A,o){var c=0;switch(A.tag){case 13:var m=A.stateNode,_=A.memoizedState;_!==null&&(c=_.retryLane);break;case 19:m=A.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),a2(A,c)}var o2;o2=function(A,o,c){if(A!==null)if(A.memoizedProps!==o.pendingProps||Yi.current)Ws=!0;else{if((A.lanes&c)===0&&(o.flags&128)===0)return Ws=!1,L4(A,o,c);Ws=(A.flags&131072)!==0}else Ws=!1,Oe&&(o.flags&1048576)!==0&&qe(o,X,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;np(A,o),A=o.pendingProps;var _=Rl(o,ni.current);tn(o,c),_=rc(null,o,m,A,_,c);var F=WA();return o.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ji(m)?(F=!0,zo(o)):F=!1,o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Kc(o),_.updater=tp,o.stateNode=_,_._reactInternals=o,a0(o,m,A,c),o=c0(null,o,m,!0,F,c)):(o.tag=0,Oe&&F&&Re(o),Is(null,o,_,c),o=o.child),o;case 16:m=o.elementType;e:{switch(np(A,o),A=o.pendingProps,_=m._init,m=_(m._payload),o.type=m,_=o.tag=W4(m),A=Ea(m,A),_){case 0:o=u0(null,o,m,A,c);break e;case 1:o=Qy(null,o,m,A,c);break e;case 11:o=Fy(null,o,m,A,c);break e;case 14:o=Ny(null,o,m,Ea(m.type,A),c);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Ea(m,_),u0(A,o,m,_,c);case 1:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Ea(m,_),Qy(A,o,m,_,c);case 3:e:{if(ky(o),A===null)throw Error(t(387));m=o.pendingProps,F=o.memoizedState,_=F.element,od(A,o),xa(o,m,null,c);var W=o.memoizedState;if(m=W.element,F.isDehydrated)if(F={element:m,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},o.updateQueue.baseState=F,o.memoizedState=F,o.flags&256){_=eh(Error(t(423)),o),o=Py(A,o,m,c,_);break e}else if(m!==_){_=eh(Error(t(424)),o),o=Py(A,o,m,c,_);break e}else for(Me=Li(o.stateNode.containerInfo.firstChild),ye=o,Oe=!0,He=null,c=vr(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Xt(),m===_){o=Yo(A,o,c);break e}Is(A,o,m,c)}o=o.child}return o;case 5:return $f(o),A===null&&lt(o),m=o.type,_=o.pendingProps,F=A!==null?A.memoizedProps:null,W=_.children,nd(m,_)?W=null:F!==null&&nd(m,F)&&(o.flags|=32),Ly(A,o),Is(A,o,W,c),o.child;case 6:return A===null&&lt(o),null;case 13:return Ry(A,o,c);case 4:return Ml(o,o.stateNode.containerInfo),m=o.pendingProps,A===null?o.child=Un(o,null,m,c):Is(A,o,m,c),o.child;case 11:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Ea(m,_),Fy(A,o,m,_,c);case 7:return Is(A,o,o.pendingProps,c),o.child;case 8:return Is(A,o,o.pendingProps.children,c),o.child;case 12:return Is(A,o,o.pendingProps.children,c),o.child;case 10:e:{if(m=o.type._context,_=o.pendingProps,F=o.memoizedProps,W=_.value,Ur(mi,m._currentValue),m._currentValue=W,F!==null)if(pr(F.value,W)){if(F.children===_.children&&!Yi.current){o=Yo(A,o,c);break e}}else for(F=o.child,F!==null&&(F.return=o);F!==null;){var he=F.dependencies;if(he!==null){W=F.child;for(var we=he.firstContext;we!==null;){if(we.context===m){if(F.tag===1){we=qs(-1,c&-c),we.tag=2;var Pe=F.updateQueue;if(Pe!==null){Pe=Pe.shared;var Ze=Pe.pending;Ze===null?we.next=we:(we.next=Ze.next,Ze.next=we),Pe.pending=we}}F.lanes|=c,we=F.alternate,we!==null&&(we.lanes|=c),Ks(F.return,c,o),he.lanes|=c;break}we=we.next}}else if(F.tag===10)W=F.type===o.type?null:F.child;else if(F.tag===18){if(W=F.return,W===null)throw Error(t(341));W.lanes|=c,he=W.alternate,he!==null&&(he.lanes|=c),Ks(W,c,o),W=F.sibling}else W=F.child;if(W!==null)W.return=F;else for(W=F;W!==null;){if(W===o){W=null;break}if(F=W.sibling,F!==null){F.return=W.return,W=F;break}W=W.return}F=W}Is(A,o,_.children,c),o=o.child}return o;case 9:return _=o.type,m=o.pendingProps.children,tn(o,c),_=_n(_),m=m(_),o.flags|=1,Is(A,o,m,c),o.child;case 14:return m=o.type,_=Ea(m,o.pendingProps),_=Ea(m.type,_),Ny(A,o,m,_,c);case 15:return Uy(A,o,o.type,o.pendingProps,c);case 17:return m=o.type,_=o.pendingProps,_=o.elementType===m?_:Ea(m,_),np(A,o),o.tag=1,Ji(m)?(A=!0,zo(o)):A=!1,tn(o,c),xy(o,m,_),a0(o,m,_,c),c0(null,o,m,!0,A,c);case 19:return Oy(A,o,c);case 22:return Ty(A,o,c)}throw Error(t(156,o.tag))};function l2(A,o){return iA(A,o)}function z4(A,o,c,m){this.tag=A,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function XA(A,o,c,m){return new z4(A,o,c,m)}function U0(A){return A=A.prototype,!(!A||!A.isReactComponent)}function W4(A){if(typeof A=="function")return U0(A)?1:0;if(A!=null){if(A=A.$$typeof,A===T)return 11;if(A===Be)return 14}return 2}function $l(A,o){var c=A.alternate;return c===null?(c=XA(A.tag,o,A.key,A.mode),c.elementType=A.elementType,c.type=A.type,c.stateNode=A.stateNode,c.alternate=A,A.alternate=c):(c.pendingProps=o,c.type=A.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=A.flags&14680064,c.childLanes=A.childLanes,c.lanes=A.lanes,c.child=A.child,c.memoizedProps=A.memoizedProps,c.memoizedState=A.memoizedState,c.updateQueue=A.updateQueue,o=A.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=A.sibling,c.index=A.index,c.ref=A.ref,c}function fp(A,o,c,m,_,F){var W=2;if(m=A,typeof A=="function")U0(A)&&(W=1);else if(typeof A=="string")W=5;else e:switch(A){case O:return lc(c.children,_,F,o);case C:W=8,_|=8;break;case I:return A=XA(12,c,o,_|2),A.elementType=I,A.lanes=F,A;case S:return A=XA(13,c,o,_),A.elementType=S,A.lanes=F,A;case te:return A=XA(19,c,o,_),A.elementType=te,A.lanes=F,A;case ue:return pp(c,_,F,o);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case j:W=10;break e;case N:W=9;break e;case T:W=11;break e;case Be:W=14;break e;case ae:W=16,m=null;break e}throw Error(t(130,A==null?A:typeof A,""))}return o=XA(W,c,o,_),o.elementType=A,o.type=m,o.lanes=F,o}function lc(A,o,c,m){return A=XA(7,A,m,o),A.lanes=c,A}function pp(A,o,c,m){return A=XA(22,A,m,o),A.elementType=ue,A.lanes=c,A.stateNode={isHidden:!1},A}function T0(A,o,c){return A=XA(6,A,null,o),A.lanes=c,A}function L0(A,o,c){return o=XA(4,A.children!==null?A.children:[],A.key,o),o.lanes=c,o.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},o}function $4(A,o,c,m,_){this.tag=o,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=LA(0),this.expirationTimes=LA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LA(0),this.identifierPrefix=m,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Q0(A,o,c,m,_,F,W,he,we){return A=new $4(A,o,c,he,we),o===1?(o=1,F===!0&&(o|=8)):o=0,F=XA(3,null,null,o),A.current=F,F.stateNode=A,F.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kc(F),A}function X4(A,o,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:m==null?null:""+m,children:A,containerInfo:o,implementation:c}}function u2(A){if(!A)return to;A=A._reactInternals;e:{if(pn(A)!==A||A.tag!==1)throw Error(t(170));var o=A;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ji(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(A.tag===1){var c=A.type;if(Ji(c))return ad(A,c,o)}return o}function c2(A,o,c,m,_,F,W,he,we){return A=Q0(c,m,!0,A,_,F,W,he,we),A.context=u2(null),c=A.current,m=Ss(),_=zl(c),F=qs(m,_),F.callback=o??null,Gs(c,F,_),A.current.lanes=_,AA(A,_,m),Xs(A,m),A}function gp(A,o,c,m){var _=o.current,F=Ss(),W=zl(_);return c=u2(c),o.context===null?o.context=c:o.pendingContext=c,o=qs(F,W),o.payload={element:A},m=m===void 0?null:m,m!==null&&(o.callback=m),A=Gs(_,o,W),A!==null&&(Fa(A,_,W,F),Wo(A,_,W)),W}function mp(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function h2(A,o){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var c=A.retryLane;A.retryLane=c!==0&&c<o?c:o}}function k0(A,o){h2(A,o),(A=A.alternate)&&h2(A,o)}function Y4(){return null}var d2=typeof reportError=="function"?reportError:function(A){console.error(A)};function P0(A){this._internalRoot=A}wp.prototype.render=P0.prototype.render=function(A){var o=this._internalRoot;if(o===null)throw Error(t(409));gp(A,o,null,null)},wp.prototype.unmount=P0.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var o=A.containerInfo;Ac(function(){gp(null,A,null,null)}),o[gi]=null}};function wp(A){this._internalRoot=A}wp.prototype.unstable_scheduleHydration=function(A){if(A){var o=Ps();A={blockedOn:null,target:A,priority:o};for(var c=0;c<Rs.length&&o!==0&&o<Rs[c].priority;c++);Rs.splice(c,0,A),c===0&&qa(A)}};function R0(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function vp(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function f2(){}function J4(A,o,c,m,_){if(_){if(typeof m=="function"){var F=m;m=function(){var Pe=mp(W);F.call(Pe)}}var W=c2(o,m,A,0,null,!1,!1,"",f2);return A._reactRootContainer=W,A[gi]=W.current,Ho(A.nodeType===8?A.parentNode:A),Ac(),W}for(;_=A.lastChild;)A.removeChild(_);if(typeof m=="function"){var he=m;m=function(){var Pe=mp(we);he.call(Pe)}}var we=Q0(A,0,!1,null,null,!1,!1,"",f2);return A._reactRootContainer=we,A[gi]=we.current,Ho(A.nodeType===8?A.parentNode:A),Ac(function(){gp(o,we,c,m)}),we}function yp(A,o,c,m,_){var F=c._reactRootContainer;if(F){var W=F;if(typeof _=="function"){var he=_;_=function(){var we=mp(W);he.call(we)}}gp(o,W,A,_)}else W=J4(c,o,A,_,m);return mp(W)}wl=function(A){switch(A.tag){case 3:var o=A.stateNode;if(o.current.memoizedState.isDehydrated){var c=UA(o.pendingLanes);c!==0&&(aA(o,c|1),Xs(o,Nr()),(gr&6)===0&&(nh=Nr()+500,L()))}break;case 13:Ac(function(){var m=yr(A,1);if(m!==null){var _=Ss();Fa(m,A,1,_)}}),k0(A,1)}},Va=function(A){if(A.tag===13){var o=yr(A,134217728);if(o!==null){var c=Ss();Fa(o,A,134217728,c)}k0(A,134217728)}},vl=function(A){if(A.tag===13){var o=zl(A),c=yr(A,o);if(c!==null){var m=Ss();Fa(c,A,o,m)}k0(A,o)}},Ps=function(){return Yt},aa=function(A,o){var c=Yt;try{return Yt=A,o()}finally{Yt=c}},Qr=function(A,o,c){switch(o){case"input":if(bt(A,c),o=c.name,c.type==="radio"&&o!=null){for(c=A;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==A&&m.form===A.form){var _=ec(m);if(!_)throw Error(t(90));Xe(m),bt(m,_)}}}break;case"textarea":vt(A,c);break;case"select":o=c.value,o!=null&&nt(A,!!c.multiple,o,!1)}},fs=S0,fn=Ac;var Z4={usingClientEntryPoint:!1,Events:[Pl,qo,ec,Tt,rr,S0]},vd={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eI={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=rA(A),A===null?null:A.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||Y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{FA=Bp.inject(eI),bi=Bp}catch{}}return Ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z4,Ys.createPortal=function(A,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R0(o))throw Error(t(200));return X4(A,o,null,c)},Ys.createRoot=function(A,o){if(!R0(A))throw Error(t(299));var c=!1,m="",_=d2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=Q0(A,1,!1,null,null,c,!1,m,_),A[gi]=o.current,Ho(A.nodeType===8?A.parentNode:A),new P0(o)},Ys.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var o=A._reactInternals;if(o===void 0)throw typeof A.render=="function"?Error(t(188)):(A=Object.keys(A).join(","),Error(t(268,A)));return A=rA(o),A=A===null?null:A.stateNode,A},Ys.flushSync=function(A){return Ac(A)},Ys.hydrate=function(A,o,c){if(!vp(o))throw Error(t(200));return yp(null,A,o,!0,c)},Ys.hydrateRoot=function(A,o,c){if(!R0(A))throw Error(t(405));var m=c!=null&&c.hydratedSources||null,_=!1,F="",W=d2;if(c!=null&&(c.unstable_strictMode===!0&&(_=!0),c.identifierPrefix!==void 0&&(F=c.identifierPrefix),c.onRecoverableError!==void 0&&(W=c.onRecoverableError)),o=c2(o,null,A,1,c??null,_,!1,F,W),A[gi]=o.current,Ho(A),m)for(A=0;A<m.length;A++)c=m[A],_=c._getVersion,_=_(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,_]:o.mutableSourceEagerHydrationData.push(c,_);return new wp(o)},Ys.render=function(A,o,c){if(!vp(o))throw Error(t(200));return yp(null,A,o,!1,c)},Ys.unmountComponentAtNode=function(A){if(!vp(A))throw Error(t(40));return A._reactRootContainer?(Ac(function(){yp(null,null,A,!1,function(){A._reactRootContainer=null,A[gi]=null})}),!0):!1},Ys.unstable_batchedUpdates=S0,Ys.unstable_renderSubtreeIntoContainer=function(A,o,c,m){if(!vp(c))throw Error(t(200));if(A==null||A._reactInternals===void 0)throw Error(t(38));return yp(A,o,c,!1,m)},Ys.version="18.3.1-next-f1338f8080-20240426",Ys}var x2;function Gx(){if(x2)return M0.exports;x2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),M0.exports=uI(),M0.exports}var C2;function cI(){if(C2)return xp;C2=1;var r=Gx();return xp.createRoot=r.createRoot,xp.hydrateRoot=r.hydrateRoot,xp}var hI=cI();Gx();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},nf.apply(this,arguments)}var uu;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(uu||(uu={}));const _2="popstate";function dI(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:a,hash:l}=n.location;return Lw("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Eg(i)}return pI(e,t,null,r)}function wn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zx(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substr(2,8)}function b2(r,e){return{usr:r.state,key:r.key,idx:e}}function Lw(r,e,t,n){return t===void 0&&(t=null),nf({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?qh(e):e,{state:t,key:e&&e.key||n||fI()})}function Eg(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function pI(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l=uu.Pop,u=null,d=p();d==null&&(d=0,a.replaceState(nf({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function w(){l=uu.Pop;let k=p(),M=k==null?null:k-d;d=k,u&&u({action:l,location:Q.location,delta:M})}function B(k,M){l=uu.Push;let D=Lw(Q.location,k,M);d=p()+1;let q=b2(D,d),ee=Q.createHref(D);try{a.pushState(q,"",ee)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(ee)}s&&u&&u({action:l,location:Q.location,delta:1})}function y(k,M){l=uu.Replace;let D=Lw(Q.location,k,M);d=p();let q=b2(D,d),ee=Q.createHref(D);a.replaceState(q,"",ee),s&&u&&u({action:l,location:Q.location,delta:0})}function U(k){let M=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof k=="string"?k:Eg(k);return D=D.replace(/ $/,"%20"),wn(M,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,M)}let Q={get action(){return l},get location(){return r(i,a)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(_2,w),u=k,()=>{i.removeEventListener(_2,w),u=null}},createHref(k){return e(i,k)},createURL:U,encodeLocation(k){let M=U(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:B,replace:y,go(k){return a.go(k)}};return Q}var E2;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(E2||(E2={}));function gI(r,e,t){return t===void 0&&(t="/"),mI(r,e,t)}function mI(r,e,t,n){let i=typeof e=="string"?qh(e):e,s=Rh(i.pathname||"/",t);if(s==null)return null;let a=Wx(r);wI(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=FI(s);l=II(a[u],d)}return l}function Wx(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(wn(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=mu([n,u.relativePath]),p=t.concat(u);s.children&&s.children.length>0&&(wn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Wx(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:bI(d,s.index),routesMeta:p})};return r.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of $x(s.path))i(s,a,u)}),e}function $x(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=$x(n.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function wI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:EI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const vI=/^:[\w-]+$/,yI=3,BI=2,xI=1,CI=10,_I=-2,I2=r=>r==="*";function bI(r,e){let t=r.split("/"),n=t.length;return t.some(I2)&&(n+=_I),e&&(n+=BI),t.filter(i=>!I2(i)).reduce((i,s)=>i+(vI.test(s)?yI:s===""?xI:CI),n)}function EI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function II(r,e,t){let{routesMeta:n}=r,i={},s="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",w=Qw({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),B=u.route;if(!w)return null;Object.assign(i,w.params),a.push({params:i,pathname:mu([s,w.pathname]),pathnameBase:LI(mu([s,w.pathnameBase])),route:B}),w.pathnameBase!=="/"&&(s=mu([s,w.pathnameBase]))}return a}function Qw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=SI(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,p,w)=>{let{paramName:B,isOptional:y}=p;if(B==="*"){let Q=l[w]||"";a=s.slice(0,s.length-Q.length).replace(/(.)\/+$/,"$1")}const U=l[w];return y&&!U?d[B]=void 0:d[B]=(U||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:r}}function SI(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),zx(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function FI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zx(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Rh(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function NI(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?qh(r):r;return{pathname:t?t.startsWith("/")?t:UI(t,e):e,search:QI(n),hash:kI(i)}}function UI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function V0(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wv(r,e){let t=TI(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function $v(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=qh(r):(i=nf({},r),wn(!i.pathname||!i.pathname.includes("?"),V0("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),V0("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),V0("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=t;else{let w=e.length-1;if(!n&&a.startsWith("..")){let B=a.split("/");for(;B[0]==="..";)B.shift(),w-=1;i.pathname=B.join("/")}l=w>=0?e[w]:"/"}let u=NI(i,l),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const mu=r=>r.join("/").replace(/\/\/+/g,"/"),LI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function PI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Xx=["post","put","patch","delete"];new Set(Xx);const RI=["get",...Xx];new Set(RI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},sf.apply(this,arguments)}const cm=Se.createContext(null),Yx=Se.createContext(null),dl=Se.createContext(null),hm=Se.createContext(null),Du=Se.createContext({outlet:null,matches:[],isDataRoute:!1}),Jx=Se.createContext(null);function DI(r,e){let{relative:t}=e===void 0?{}:e;Gh()||wn(!1);let{basename:n,navigator:i}=Se.useContext(dl),{hash:s,pathname:a,search:l}=dm(r,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:mu([n,a])),i.createHref({pathname:u,search:l,hash:s})}function Gh(){return Se.useContext(hm)!=null}function Uc(){return Gh()||wn(!1),Se.useContext(hm).location}function Zx(r){Se.useContext(dl).static||Se.useLayoutEffect(r)}function zh(){let{isDataRoute:r}=Se.useContext(Du);return r?YI():OI()}function OI(){Gh()||wn(!1);let r=Se.useContext(cm),{basename:e,future:t,navigator:n}=Se.useContext(dl),{matches:i}=Se.useContext(Du),{pathname:s}=Uc(),a=JSON.stringify(Wv(i,t.v7_relativeSplatPath)),l=Se.useRef(!1);return Zx(()=>{l.current=!0}),Se.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let w=$v(d,JSON.parse(a),s,p.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:mu([e,w.pathname])),(p.replace?n.replace:n.push)(w,p.state,p)},[e,n,a,s,r])}function dm(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=Se.useContext(dl),{matches:i}=Se.useContext(Du),{pathname:s}=Uc(),a=JSON.stringify(Wv(i,n.v7_relativeSplatPath));return Se.useMemo(()=>$v(r,JSON.parse(a),s,t==="path"),[r,a,s,t])}function MI(r,e){return jI(r,e)}function jI(r,e,t,n){Gh()||wn(!1);let{navigator:i}=Se.useContext(dl),{matches:s}=Se.useContext(Du),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Uc(),p;if(e){var w;let k=typeof e=="string"?qh(e):e;u==="/"||(w=k.pathname)!=null&&w.startsWith(u)||wn(!1),p=k}else p=d;let B=p.pathname||"/",y=B;if(u!=="/"){let k=u.replace(/^\//,"").split("/");y="/"+B.replace(/^\//,"").split("/").slice(k.length).join("/")}let U=gI(r,{pathname:y}),Q=GI(U&&U.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:mu([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:mu([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,t,n);return e&&Q?Se.createElement(hm.Provider,{value:{location:sf({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:uu.Pop}},Q):Q}function HI(){let r=XI(),e=PI(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Se.createElement(Se.Fragment,null,Se.createElement("h2",null,"Unexpected Application Error!"),Se.createElement("h3",{style:{fontStyle:"italic"}},e),t?Se.createElement("pre",{style:i},t):null,null)}const VI=Se.createElement(HI,null);class KI extends Se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Se.createElement(Du.Provider,{value:this.props.routeContext},Se.createElement(Jx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qI(r){let{routeContext:e,match:t,children:n}=r,i=Se.useContext(cm);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Se.createElement(Du.Provider,{value:e},n)}function GI(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var s;if(!t)return null;if(t.errors)r=t.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,l=(i=t)==null?void 0:i.errors;if(l!=null){let p=a.findIndex(w=>w.route.id&&l?.[w.route.id]!==void 0);p>=0||wn(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let p=0;p<a.length;p++){let w=a[p];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(d=p),w.route.id){let{loaderData:B,errors:y}=t,U=w.route.loader&&B[w.route.id]===void 0&&(!y||y[w.route.id]===void 0);if(w.route.lazy||U){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,w,B)=>{let y,U=!1,Q=null,k=null;t&&(y=l&&w.route.id?l[w.route.id]:void 0,Q=w.route.errorElement||VI,u&&(d<0&&B===0?(JI("route-fallback"),U=!0,k=null):d===B&&(U=!0,k=w.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,B+1)),D=()=>{let q;return y?q=Q:U?q=k:w.route.Component?q=Se.createElement(w.route.Component,null):w.route.element?q=w.route.element:q=p,Se.createElement(qI,{match:w,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:q})};return t&&(w.route.ErrorBoundary||w.route.errorElement||B===0)?Se.createElement(KI,{location:t.location,revalidation:t.revalidation,component:Q,error:y,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}var eC=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(eC||{}),tC=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(tC||{});function zI(r){let e=Se.useContext(cm);return e||wn(!1),e}function WI(r){let e=Se.useContext(Yx);return e||wn(!1),e}function $I(r){let e=Se.useContext(Du);return e||wn(!1),e}function rC(r){let e=$I(),t=e.matches[e.matches.length-1];return t.route.id||wn(!1),t.route.id}function XI(){var r;let e=Se.useContext(Jx),t=WI(),n=rC();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function YI(){let{router:r}=zI(eC.UseNavigateStable),e=rC(tC.UseNavigateStable),t=Se.useRef(!1);return Zx(()=>{t.current=!0}),Se.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,sf({fromRouteId:e},s)))},[r,e])}const S2={};function JI(r,e,t){S2[r]||(S2[r]=!0)}function ZI(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function kw(r){let{to:e,replace:t,state:n,relative:i}=r;Gh()||wn(!1);let{future:s,static:a}=Se.useContext(dl),{matches:l}=Se.useContext(Du),{pathname:u}=Uc(),d=zh(),p=$v(e,Wv(l,s.v7_relativeSplatPath),u,i==="path"),w=JSON.stringify(p);return Se.useEffect(()=>d(JSON.parse(w),{replace:t,state:n,relative:i}),[d,w,i,t,n]),null}function YA(r){wn(!1)}function eS(r){let{basename:e="/",children:t=null,location:n,navigationType:i=uu.Pop,navigator:s,static:a=!1,future:l}=r;Gh()&&wn(!1);let u=e.replace(/^\/*/,"/"),d=Se.useMemo(()=>({basename:u,navigator:s,static:a,future:sf({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof n=="string"&&(n=qh(n));let{pathname:p="/",search:w="",hash:B="",state:y=null,key:U="default"}=n,Q=Se.useMemo(()=>{let k=Rh(p,u);return k==null?null:{location:{pathname:k,search:w,hash:B,state:y,key:U},navigationType:i}},[u,p,w,B,y,U,i]);return Q==null?null:Se.createElement(dl.Provider,{value:d},Se.createElement(hm.Provider,{children:t,value:Q}))}function tS(r){let{children:e,location:t}=r;return MI(Pw(e),t)}new Promise(()=>{});function Pw(r,e){e===void 0&&(e=[]);let t=[];return Se.Children.forEach(r,(n,i)=>{if(!Se.isValidElement(n))return;let s=[...e,i];if(n.type===Se.Fragment){t.push.apply(t,Pw(n.props.children,s));return}n.type!==YA&&wn(!1),!n.props.index||!n.props.children||wn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Pw(n.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ig(){return Ig=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ig.apply(this,arguments)}function nC(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function rS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nS(r,e){return r.button===0&&(!e||e==="_self")&&!rS(r)}const iS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AS="6";try{window.__reactRouterVersion=AS}catch{}const aS=Se.createContext({isTransitioning:!1}),oS="startTransition",F2=aI[oS];function lS(r){let{basename:e,children:t,future:n,window:i}=r,s=Se.useRef();s.current==null&&(s.current=dI({window:i,v5Compat:!0}));let a=s.current,[l,u]=Se.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},p=Se.useCallback(w=>{d&&F2?F2(()=>u(w)):u(w)},[u,d]);return Se.useLayoutEffect(()=>a.listen(p),[a,p]),Se.useEffect(()=>ZI(n),[n]),Se.createElement(eS,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a,future:n})}const uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Af=Se.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:p,viewTransition:w}=e,B=nC(e,iS),{basename:y}=Se.useContext(dl),U,Q=!1;if(typeof d=="string"&&cS.test(d)&&(U=d,uS))try{let q=new URL(window.location.href),ee=d.startsWith("//")?new URL(q.protocol+d):new URL(d),K=Rh(ee.pathname,y);ee.origin===q.origin&&K!=null?d=K+ee.search+ee.hash:Q=!0}catch{}let k=DI(d,{relative:i}),M=dS(d,{replace:a,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:w});function D(q){n&&n(q),q.defaultPrevented||M(q)}return Se.createElement("a",Ig({},B,{href:U||k,onClick:Q||s?n:D,ref:t,target:u}))}),Cp=Se.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:p}=e,w=nC(e,sS),B=dm(u,{relative:w.relative}),y=Uc(),U=Se.useContext(Yx),{navigator:Q,basename:k}=Se.useContext(dl),M=U!=null&&fS(B)&&d===!0,D=Q.encodeLocation?Q.encodeLocation(B).pathname:B.pathname,q=y.pathname,ee=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(q=q.toLowerCase(),ee=ee?ee.toLowerCase():null,D=D.toLowerCase()),ee&&k&&(ee=Rh(ee,k)||ee);const K=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let J=q===D||!a&&q.startsWith(D)&&q.charAt(K)==="/",O=ee!=null&&(ee===D||!a&&ee.startsWith(D)&&ee.charAt(D.length)==="/"),C={isActive:J,isPending:O,isTransitioning:M},I=J?n:void 0,j;typeof s=="function"?j=s(C):j=[s,J?"active":null,O?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(C):l;return Se.createElement(Af,Ig({},w,{"aria-current":I,className:j,ref:t,style:N,to:u,viewTransition:d}),typeof p=="function"?p(C):p)});var Rw;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Rw||(Rw={}));var N2;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(N2||(N2={}));function hS(r){let e=Se.useContext(cm);return e||wn(!1),e}function dS(r,e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,u=zh(),d=Uc(),p=dm(r,{relative:a});return Se.useCallback(w=>{if(nS(w,t)){w.preventDefault();let B=n!==void 0?n:Eg(d)===Eg(p);u(r,{replace:B,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,p,n,i,t,r,s,a,l])}function fS(r,e){e===void 0&&(e={});let t=Se.useContext(aS);t==null&&wn(!1);let{basename:n}=hS(Rw.useViewTransitionState),i=dm(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Rh(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Rh(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Qw(i.pathname,a)!=null||Qw(i.pathname,s)!=null}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=()=>{};var U2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gS=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],l=r[t++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},sC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,l=a?r[i+1]:0,u=i+2<r.length,d=u?r[i+2]:0,p=s>>2,w=(s&3)<<4|l>>4;let B=(l&15)<<2|d>>6,y=d&63;u||(y=64,a||(B=64)),n.push(t[p],t[w],t[B],t[y])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iC(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],l=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const w=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||l==null||d==null||w==null)throw new mS;const B=s<<2|l>>4;if(n.push(B),d!==64){const y=l<<4&240|d>>2;if(n.push(y),w!==64){const U=d<<6&192|w;n.push(U)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(r){const e=iC(r);return sC.encodeByteArray(e,!0)},Sg=function(r){return wS(r).replace(/\./g,"")},AC=function(r){try{return sC.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=()=>vS().__FIREBASE_DEFAULTS__,BS=()=>{if(typeof process>"u"||typeof U2>"u")return;const r=U2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AC(r[1]);return e&&JSON.parse(e)},fm=()=>{try{return pS()||yS()||BS()||xS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aC=r=>{var e,t;return(t=(e=fm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},oC=r=>{const e=aC(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},lC=()=>{var r;return(r=fm())===null||r===void 0?void 0:r.config},uC=r=>{var e;return(e=fm())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sg(JSON.stringify(t)),Sg(JSON.stringify(a)),""].join(".")}const Vd={};function _S(){const r={prod:[],emulator:[]};for(const e of Object.keys(Vd))Vd[e]?r.emulator.push(e):r.prod.push(e);return r}function bS(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let T2=!1;function Yv(r,e){if(typeof window>"u"||typeof document>"u"||!Ou(window.location.host)||Vd[r]===e||Vd[r]||T2)return;Vd[r]=e;function t(B){return`__firebase__banner__${B}`}const n="__firebase__banner",s=_S().prod.length>0;function a(){const B=document.getElementById(n);B&&B.remove()}function l(B){B.style.display="flex",B.style.background="#7faaf0",B.style.position="fixed",B.style.bottom="5px",B.style.left="5px",B.style.padding=".5em",B.style.borderRadius="5px",B.style.alignItems="center"}function u(B,y){B.setAttribute("width","24"),B.setAttribute("id",y),B.setAttribute("height","24"),B.setAttribute("viewBox","0 0 24 24"),B.setAttribute("fill","none"),B.style.marginLeft="-6px"}function d(){const B=document.createElement("span");return B.style.cursor="pointer",B.style.marginLeft="16px",B.style.fontSize="24px",B.innerHTML=" &times;",B.onclick=()=>{T2=!0,a()},B}function p(B,y){B.setAttribute("id",y),B.innerText="Learn more",B.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",B.setAttribute("target","__blank"),B.style.paddingLeft="5px",B.style.textDecoration="underline"}function w(){const B=bS(n),y=t("text"),U=document.getElementById(y)||document.createElement("span"),Q=t("learnmore"),k=document.getElementById(Q)||document.createElement("a"),M=t("preprendIcon"),D=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(B.created){const q=B.element;l(q),p(k,Q);const ee=d();u(D,M),q.append(D,U,k,ee),document.body.appendChild(q)}s?(U.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function IS(){var r;const e=(r=fm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const r=hs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LS(){try{return typeof indexedDB=="object"}catch{return!1}}function QS(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="FirebaseError";class _o extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=kS,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?PS(s,n):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new _o(i,l,n)}}function PS(r,e){return r.replace(RS,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const RS=/\{\$([^}]+)}/g;function DS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xc(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(L2(s)&&L2(a)){if(!xc(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function L2(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Nd(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ud(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function OS(r,e){const t=new MS(r,e);return t.subscribe.bind(t)}class MS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");jS(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=K0),i.error===void 0&&(i.error=K0),i.complete===void 0&&(i.complete=K0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function K0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(r){return r&&r._delegate?r._delegate:r}class bu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new CS;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KS(e))try{this.getOrInitializeService({instanceIdentifier:cc})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cc){return this.instances.has(e)}getOptions(e=cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&a.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:VS(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=cc){return this.component?this.component.multipleInstances?e:cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(r){return r===cc?void 0:r}function KS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(sr||(sr={}));const GS={debug:sr.DEBUG,verbose:sr.VERBOSE,info:sr.INFO,warn:sr.WARN,error:sr.ERROR,silent:sr.SILENT},zS=sr.INFO,WS={[sr.DEBUG]:"log",[sr.VERBOSE]:"log",[sr.INFO]:"info",[sr.WARN]:"warn",[sr.ERROR]:"error"},$S=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=WS[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Jv=class{constructor(e){this.name=e,this._logLevel=zS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,sr.DEBUG,...e),this._logHandler(this,sr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,sr.VERBOSE,...e),this._logHandler(this,sr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,sr.INFO,...e),this._logHandler(this,sr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,sr.WARN,...e),this._logHandler(this,sr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,sr.ERROR,...e),this._logHandler(this,sr.ERROR,...e)}};const XS=(r,e)=>e.some(t=>r instanceof t);let Q2,k2;function YS(){return Q2||(Q2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return k2||(k2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hC=new WeakMap,Dw=new WeakMap,dC=new WeakMap,q0=new WeakMap,Zv=new WeakMap;function ZS(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(wu(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&hC.set(t,r)}).catch(()=>{}),Zv.set(e,r),e}function eF(r){if(Dw.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});Dw.set(r,e)}let Ow={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Dw.get(r);if(e==="objectStoreNames")return r.objectStoreNames||dC.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wu(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tF(r){Ow=r(Ow)}function rF(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(G0(this),e,...t);return dC.set(n,e.sort?e.sort():[e]),wu(n)}:JS().includes(r)?function(...e){return r.apply(G0(this),e),wu(hC.get(this))}:function(...e){return wu(r.apply(G0(this),e))}}function nF(r){return typeof r=="function"?rF(r):(r instanceof IDBTransaction&&eF(r),XS(r,YS())?new Proxy(r,Ow):r)}function wu(r){if(r instanceof IDBRequest)return ZS(r);if(q0.has(r))return q0.get(r);const e=nF(r);return e!==r&&(q0.set(r,e),Zv.set(e,r)),e}const G0=r=>Zv.get(r);function iF(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),l=wu(a);return n&&a.addEventListener("upgradeneeded",u=>{n(wu(a.result),u.oldVersion,u.newVersion,wu(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const sF=["get","getKey","getAll","getAllKeys","count"],AF=["put","add","delete","clear"],z0=new Map;function P2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(z0.get(e))return z0.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=AF.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||sF.includes(t)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[t](...l),i&&u.done]))[0]};return z0.set(e,s),s}tF(r=>({...r,get:(e,t,n)=>P2(e,t)||r.get(e,t,n),has:(e,t)=>!!P2(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oF(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function oF(r){const e=r.getComponent();return e?.type==="VERSION"}const Mw="@firebase/app",R2="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new Jv("@firebase/app"),lF="@firebase/app-compat",uF="@firebase/analytics-compat",cF="@firebase/analytics",hF="@firebase/app-check-compat",dF="@firebase/app-check",fF="@firebase/auth",pF="@firebase/auth-compat",gF="@firebase/database",mF="@firebase/data-connect",wF="@firebase/database-compat",vF="@firebase/functions",yF="@firebase/functions-compat",BF="@firebase/installations",xF="@firebase/installations-compat",CF="@firebase/messaging",_F="@firebase/messaging-compat",bF="@firebase/performance",EF="@firebase/performance-compat",IF="@firebase/remote-config",SF="@firebase/remote-config-compat",FF="@firebase/storage",NF="@firebase/storage-compat",UF="@firebase/firestore",TF="@firebase/ai",LF="@firebase/firestore-compat",QF="firebase",kF="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="[DEFAULT]",PF={[Mw]:"fire-core",[lF]:"fire-core-compat",[cF]:"fire-analytics",[uF]:"fire-analytics-compat",[dF]:"fire-app-check",[hF]:"fire-app-check-compat",[fF]:"fire-auth",[pF]:"fire-auth-compat",[gF]:"fire-rtdb",[mF]:"fire-data-connect",[wF]:"fire-rtdb-compat",[vF]:"fire-fn",[yF]:"fire-fn-compat",[BF]:"fire-iid",[xF]:"fire-iid-compat",[CF]:"fire-fcm",[_F]:"fire-fcm-compat",[bF]:"fire-perf",[EF]:"fire-perf-compat",[IF]:"fire-rc",[SF]:"fire-rc-compat",[FF]:"fire-gcs",[NF]:"fire-gcs-compat",[UF]:"fire-fst",[LF]:"fire-fst-compat",[TF]:"fire-vertex","fire-js":"fire-js",[QF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map,RF=new Map,Hw=new Map;function D2(r,e){try{r.container.addComponent(e)}catch(t){ol.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Cc(r){const e=r.name;if(Hw.has(e))return ol.debug(`There were multiple attempts to register component ${e}.`),!1;Hw.set(e,r);for(const t of Fg.values())D2(t,r);for(const t of RF.values())D2(t,r);return!0}function pm(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function yA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vu=new _f("app","Firebase",DF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=kF;function fC(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:jw,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw vu.create("bad-app-name",{appName:String(i)});if(t||(t=lC()),!t)throw vu.create("no-options");const s=Fg.get(i);if(s){if(xc(t,s.options)&&xc(n,s.config))return s;throw vu.create("duplicate-app",{appName:i})}const a=new qS(i);for(const u of Hw.values())a.addComponent(u);const l=new OF(t,n,a);return Fg.set(i,l),l}function e1(r=jw){const e=Fg.get(r);if(!e&&r===jw&&lC())return fC();if(!e)throw vu.create("no-app",{appName:r});return e}function ho(r,e,t){var n;let i=(n=PF[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ol.warn(l.join(" "));return}Cc(new bu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="firebase-heartbeat-database",jF=1,af="firebase-heartbeat-store";let W0=null;function pC(){return W0||(W0=iF(MF,jF,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(af)}catch(t){console.warn(t)}}}}).catch(r=>{throw vu.create("idb-open",{originalErrorMessage:r.message})})),W0}async function HF(r){try{const t=(await pC()).transaction(af),n=await t.objectStore(af).get(gC(r));return await t.done,n}catch(e){if(e instanceof _o)ol.warn(e.message);else{const t=vu.create("idb-get",{originalErrorMessage:e?.message});ol.warn(t.message)}}}async function O2(r,e){try{const n=(await pC()).transaction(af,"readwrite");await n.objectStore(af).put(e,gC(r)),await n.done}catch(t){if(t instanceof _o)ol.warn(t.message);else{const n=vu.create("idb-set",{originalErrorMessage:t?.message});ol.warn(n.message)}}}function gC(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=1024,KF=30;class qF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zF(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=M2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>KF){const a=WF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ol.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M2(),{heartbeatsToSend:n,unsentEntries:i}=GF(this._heartbeatsCache.heartbeats),s=Sg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ol.warn(t),""}}}function M2(){return new Date().toISOString().substring(0,10)}function GF(r,e=VF){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),j2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),j2(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class zF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LS()?QS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return O2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return O2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function j2(r){return Sg(JSON.stringify({version:2,heartbeats:r})).length}function WF(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(r){Cc(new bu("platform-logger",e=>new aF(e),"PRIVATE")),Cc(new bu("heartbeat",e=>new qF(e),"PRIVATE")),ho(Mw,R2,r),ho(Mw,R2,"esm2017"),ho("fire-js","")}$F("");function t1(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function mC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XF=mC,wC=new _f("auth","Firebase",mC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Jv("@firebase/auth");function YF(r,...e){Ng.logLevel<=sr.WARN&&Ng.warn(`Auth (${Tc}): ${r}`,...e)}function Ag(r,...e){Ng.logLevel<=sr.ERROR&&Ng.error(`Auth (${Tc}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(r,...e){throw r1(r,...e)}function fo(r,...e){return r1(r,...e)}function vC(r,e,t){const n=Object.assign(Object.assign({},XF()),{[e]:t});return new _f("auth","Firebase",n).create(e,{appName:r.name})}function sl(r){return vC(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r1(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return wC.create(r,...e)}function jt(r,e,...t){if(!r)throw r1(e,...t)}function nl(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ag(e),new Error(e)}function ll(r,e){r||nl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function JF(){return H2()==="http:"||H2()==="https:"}function H2(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JF()||FS()||"connection"in navigator)?navigator.onLine:!0}function eN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,ll(t>e,"Short delay should be less than long delay!"),this.isMobile=ES()||NS()}get(){return ZF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r,e){ll(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nN=new Ef(3e4,6e4);function Mu(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ju(r,e,t,n,i={}){return BC(r,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const l=bf(Object.assign({key:r.config.apiKey},a)).slice(1),u=await r._getAdditionalHeaders();u["Content-Type"]="application/json",r.languageCode&&(u["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:u},s);return SS()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&Ou(r.emulatorConfig.host)&&(d.credentials="include"),yC.fetch()(await xC(r,r.config.apiHost,t,l),d)})}async function BC(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},tN),e);try{const i=new sN(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _p(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _p(r,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw _p(r,"email-already-in-use",a);if(u==="USER_DISABLED")throw _p(r,"user-disabled",a);const p=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw vC(r,p,d);Pa(r,p)}}catch(i){if(i instanceof _o)throw i;Pa(r,"network-request-failed",{message:String(i)})}}async function If(r,e,t,n,i={}){const s=await ju(r,e,t,n,i);return"mfaPendingCredential"in s&&Pa(r,"multi-factor-auth-required",{_serverResponse:s}),s}async function xC(r,e,t,n){const i=`${e}${t}?${n}`,s=r,a=s.config.emulator?n1(r.config,i):`${r.config.apiScheme}://${i}`;return rN.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function iN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(fo(this.auth,"network-request-failed")),nN.get())})}}function _p(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=fo(r,e,n);return i.customData._tokenResponse=t,i}function V2(r){return r!==void 0&&r.enterprise!==void 0}class AN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aN(r,e){return ju(r,"GET","/v2/recaptchaConfig",Mu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(r,e){return ju(r,"POST","/v1/accounts:delete",e)}async function Ug(r,e){return ju(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lN(r,e=!1){const t=sn(r),n=await t.getIdToken(e),i=i1(n);jt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:Kd($0(i.auth_time)),issuedAtTime:Kd($0(i.iat)),expirationTime:Kd($0(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function $0(r){return Number(r)*1e3}function i1(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=AC(t);return i?JSON.parse(i):(Ag("Failed to decode base64 JWT payload"),null)}catch(i){return Ag("Caught error parsing JWT payload as JSON",i?.toString()),null}}function K2(r){const e=i1(r);return jt(e,"internal-error"),jt(typeof e.exp<"u","internal-error"),jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof _o&&uN(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function uN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kd(this.lastLoginAt),this.creationTime=Kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(r){var e;const t=r.auth,n=await r.getIdToken(),i=await of(r,Ug(t,{idToken:n}));jt(i?.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CC(s.providerUserInfo):[],l=dN(r.providerData,a),u=r.isAnonymous,d=!(r.email&&s.passwordHash)&&!l?.length,p=u?d:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Kw(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(r,w)}async function hN(r){const e=sn(r);await Tg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dN(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function CC(r){return r.map(e=>{var{providerId:t}=e,n=t1(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(r,e){const t=await BC(r,{},async()=>{const n=bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=await xC(r,i,"/v1/token",`key=${s}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:n};return r.emulatorConfig&&Ou(r.emulatorConfig.host)&&(u.credentials="include"),yC.fetch()(a,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pN(r,e){return ju(r,"POST","/v2/accounts:revokeToken",Mu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jt(e.idToken,"internal-error"),jt(typeof e.idToken<"u","internal-error"),jt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){jt(e.length!==0,"internal-error");const t=K2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await fN(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,a=new Ih;return n&&(jt(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(jt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(jt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ih,this.toJSON())}_performRefresh(){return nl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r,e){jt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qa{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=t1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await of(this,this.stsTokenManager.getToken(this.auth,e));return jt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lN(this,e)}reload(){return hN(this)}_assign(e){this!==e&&(jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Tg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yA(this.auth.app))return Promise.reject(sl(this.auth));const e=await this.getIdToken();return await of(this,oN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,a,l,u,d,p;const w=(n=t.displayName)!==null&&n!==void 0?n:void 0,B=(i=t.email)!==null&&i!==void 0?i:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,U=(a=t.photoURL)!==null&&a!==void 0?a:void 0,Q=(l=t.tenantId)!==null&&l!==void 0?l:void 0,k=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,M=(d=t.createdAt)!==null&&d!==void 0?d:void 0,D=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:q,emailVerified:ee,isAnonymous:K,providerData:J,stsTokenManager:O}=t;jt(q&&O,e,"internal-error");const C=Ih.fromJSON(this.name,O);jt(typeof q=="string",e,"internal-error"),Yl(w,e.name),Yl(B,e.name),jt(typeof ee=="boolean",e,"internal-error"),jt(typeof K=="boolean",e,"internal-error"),Yl(y,e.name),Yl(U,e.name),Yl(Q,e.name),Yl(k,e.name),Yl(M,e.name),Yl(D,e.name);const I=new Qa({uid:q,auth:e,email:B,emailVerified:ee,displayName:w,isAnonymous:K,photoURL:U,phoneNumber:y,tenantId:Q,stsTokenManager:C,createdAt:M,lastLoginAt:D});return J&&Array.isArray(J)&&(I.providerData=J.map(j=>Object.assign({},j))),k&&(I._redirectEventId=k),I}static async _fromIdTokenResponse(e,t,n=!1){const i=new Ih;i.updateFromServerResponse(t);const s=new Qa({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Tg(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];jt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new Ih;l.updateFromIdToken(n);const u=new Qa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Kw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map;function il(r){ll(r instanceof Function,"Expected a class definition");let e=q2.get(r);return e?(ll(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,q2.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_C.type="NONE";const G2=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e,t){return`firebase:${r}:${e}:${t}`}class Sh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=ag(this.userKey,i.apiKey,s),this.fullPersistenceKey=ag("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ug(this.auth,{idToken:e}).catch(()=>{});return t?Qa._fromGetAccountInfoResponse(this.auth,t,e):null}return Qa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Sh(il(G2),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||il(G2);const a=ag(n,e.config.apiKey,e.name);let l=null;for(const d of t)try{const p=await d._get(a);if(p){let w;if(typeof p=="string"){const B=await Ug(e,{idToken:p}).catch(()=>{});if(!B)break;w=await Qa._fromGetAccountInfoResponse(e,B,p)}else w=Qa._fromJSON(e,p);d!==s&&(l=w),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Sh(s,e,n):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Sh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NC(e))return"Blackberry";if(UC(e))return"Webos";if(EC(e))return"Safari";if((e.includes("chrome/")||IC(e))&&!e.includes("edge/"))return"Chrome";if(FC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function bC(r=hs()){return/firefox\//i.test(r)}function EC(r=hs()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IC(r=hs()){return/crios\//i.test(r)}function SC(r=hs()){return/iemobile/i.test(r)}function FC(r=hs()){return/android/i.test(r)}function NC(r=hs()){return/blackberry/i.test(r)}function UC(r=hs()){return/webos/i.test(r)}function s1(r=hs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gN(r=hs()){var e;return s1(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mN(){return US()&&document.documentMode===10}function TC(r=hs()){return s1(r)||FC(r)||UC(r)||NC(r)||/windows phone/i.test(r)||SC(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r,e=[]){let t;switch(r){case"Browser":t=z2(hs());break;case"Worker":t=`${z2(hs())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e={}){return ju(r,"GET","/v2/passwordPolicy",Mu(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=6;class BN{constructor(e){var t,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:yN,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W2(this),this.idTokenSubscription=new W2(this),this.beforeStateQueue=new wN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=il(t)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Sh.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ug(this,{idToken:e}),n=await Qa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yA(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yA(this.app))return Promise.reject(sl(this));const t=e?sn(e):null;return t&&jt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yA(this.app)?Promise.reject(sl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yA(this.app)?Promise.reject(sl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(il(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vN(this),t=new BN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await pN(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&il(e)||this._popupRedirectResolver;jt(t,this,"argument-error"),this.redirectPersistenceManager=await Sh.create(this,[il(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,i);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(yA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&YF(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lc(r){return sn(r)}class W2{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(t=>this.observer=t)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CN(r){gm=r}function QC(r){return gm.loadJS(r)}function _N(){return gm.recaptchaEnterpriseScript}function bN(){return gm.gapiScript}function EN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class IN{constructor(){this.enterprise=new SN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FN="recaptcha-enterprise",kC="NO_RECAPTCHA";class NN{constructor(e){this.type=FN,this.auth=Lc(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{aN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new AN(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;V2(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(kC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IN().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(l=>{if(!t&&V2(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=_N();u.length!==0&&(u+=l),QC(u).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function $2(r,e,t,n=!1,i=!1){const s=new NN(r);let a;if(i)a=kC;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function qw(r,e,t,n,i){var s;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $2(r,e,t,t==="getOobCode");return n(r,a)}else return n(r,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $2(r,e,t,t==="getOobCode");return n(r,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r,e){const t=pm(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(xc(s,e??{}))return i;Pa(i,"already-initialized")}return t.initialize({options:e})}function TN(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(il);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function LN(r,e,t){const n=Lc(r);jt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=PC(e),{host:a,port:l}=QN(e),u=l===null?"":`:${l}`,d={url:`${s}//${a}${u}/`},p=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){jt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),jt(xc(d,n.config.emulator)&&xc(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Ou(a)?(Xv(`${s}//${a}${u}`),Yv("Auth",!0)):kN()}function PC(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function QN(r){const e=PC(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:X2(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:X2(a)}}}function X2(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function kN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nl("not implemented")}_getIdTokenResponse(e){return nl("not implemented")}_linkToIdToken(e,t){return nl("not implemented")}_getReauthenticationResolver(e){return nl("not implemented")}}async function PN(r,e){return ju(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e){return If(r,"POST","/v1/accounts:signInWithPassword",Mu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e){return If(r,"POST","/v1/accounts:signInWithEmailLink",Mu(r,e))}async function ON(r,e){return If(r,"POST","/v1/accounts:signInWithEmailLink",Mu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends A1{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new lf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new lf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qw(e,t,"signInWithPassword",RN);case"emailLink":return DN(e,{email:this._email,oobCode:this._password});default:Pa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qw(e,n,"signUpPassword",PN);case"emailLink":return ON(e,{idToken:t,email:this._email,oobCode:this._password});default:Pa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(r,e){return If(r,"POST","/v1/accounts:signInWithIdp",Mu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="http://localhost";class _c extends A1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _c(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=t1(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new _c(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Fh(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fh(e,t)}buildRequest(){const e={requestUri:MN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HN(r){const e=Nd(Ud(r)).link,t=e?Nd(Ud(e)).deep_link_id:null,n=Nd(Ud(r)).deep_link_id;return(n?Nd(Ud(n)).link:null)||n||t||e||r}class a1{constructor(e){var t,n,i,s,a,l;const u=Nd(Ud(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(n=u.oobCode)!==null&&n!==void 0?n:null,w=jN((i=u.mode)!==null&&i!==void 0?i:null);jt(d&&p&&w,"argument-error"),this.apiKey=d,this.operation=w,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=HN(e);try{return new a1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.providerId=Wh.PROVIDER_ID}static credential(e,t){return lf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=a1.parseLink(t);return jt(n,"argument-error"),lf._fromEmailAndCode(e,n.code,n.tenantId)}}Wh.PROVIDER_ID="password";Wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends RC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Sf{constructor(){super("facebook.com")}static credential(e){return _c._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return su.credential(e.oauthAccessToken)}catch{return null}}}su.FACEBOOK_SIGN_IN_METHOD="facebook.com";su.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _c._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Au.credentialFromTaggedObject(e)}static credentialFromError(e){return Au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Au.credential(t,n)}catch{return null}}}Au.GOOGLE_SIGN_IN_METHOD="google.com";Au.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Sf{constructor(){super("github.com")}static credential(e){return _c._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return au.credential(e.oauthAccessToken)}catch{return null}}}au.GITHUB_SIGN_IN_METHOD="github.com";au.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Sf{constructor(){super("twitter.com")}static credential(e,t){return _c._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ou.credential(t,n)}catch{return null}}}ou.TWITTER_SIGN_IN_METHOD="twitter.com";ou.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(r,e){return If(r,"POST","/v1/accounts:signUp",Mu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await Qa._fromIdTokenResponse(e,n,i),a=Y2(n);return new bc({user:s,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Y2(n);return new bc({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Y2(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends _o{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Lg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Lg(e,t,n,i)}}function DC(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lg._fromErrorAndOperation(r,s,e,n):s})}async function KN(r,e,t=!1){const n=await of(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return bc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(r,e,t=!1){const{auth:n}=r;if(yA(n.app))return Promise.reject(sl(n));const i="reauthenticate";try{const s=await of(r,DC(n,i,e,r),t);jt(s.idToken,n,"internal-error");const a=i1(s.idToken);jt(a,n,"internal-error");const{sub:l}=a;return jt(r.uid===l,n,"user-mismatch"),bc._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Pa(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,e,t=!1){if(yA(r.app))return Promise.reject(sl(r));const n="signIn",i=await DC(r,n,e),s=await bc._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}async function GN(r,e){return OC(Lc(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r){const e=Lc(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zN(r,e,t){if(yA(r.app))return Promise.reject(sl(r));const n=Lc(r),a=await qw(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&MC(r),u}),l=await bc._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(l.user),l}function WN(r,e,t){return yA(r.app)?Promise.reject(sl(r)):GN(sn(r),Wh.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&MC(r),n})}function $N(r,e,t,n){return sn(r).onIdTokenChanged(e,t,n)}function XN(r,e,t){return sn(r).beforeAuthStateChanged(e,t)}function YN(r,e,t,n){return sn(r).onAuthStateChanged(e,t,n)}function JN(r){return sn(r).signOut()}const Qg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qg,"1"),this.storage.removeItem(Qg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1e3,eU=10;class HC extends jC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);mN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eU):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HC.type="LOCAL";const tU=HC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends jC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}VC.type="SESSION";const KC=VC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new mm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(a).map(async d=>d(t.origin,s)),u=await rU(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const d=o1("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(w){const B=w;if(B.data.eventId===d)switch(B.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(B.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){return window}function iU(r){po().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return typeof po().WorkerGlobalScope<"u"&&typeof po().importScripts=="function"}async function sU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AU(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aU(){return qC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebaseLocalStorageDb",oU=1,kg="firebaseLocalStorage",zC="fbase_key";class Ff{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wm(r,e){return r.transaction([kg],e?"readwrite":"readonly").objectStore(kg)}function lU(){const r=indexedDB.deleteDatabase(GC);return new Ff(r).toPromise()}function Gw(){const r=indexedDB.open(GC,oU);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(kg,{keyPath:zC})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(kg)?e(n):(n.close(),await lU(),e(await Gw()))})})}async function J2(r,e,t){const n=wm(r,!0).put({[zC]:e,value:t});return new Ff(n).toPromise()}async function uU(r,e){const t=wm(r,!1).get(e),n=await new Ff(t).toPromise();return n===void 0?null:n.value}function Z2(r,e){const t=wm(r,!0).delete(e);return new Ff(t).toPromise()}const cU=800,hU=3;class WC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>hU)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(aU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sU(),!this.activeServiceWorker)return;this.sender=new nU(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gw();return await J2(e,Qg,"1"),await Z2(e,Qg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>J2(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>uU(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Z2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wm(i,!1).getAll();return new Ff(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WC.type="LOCAL";const dU=WC;new Ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(r,e){return e?il(e):(jt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends A1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pU(r){return OC(r.auth,new l1(r),r.bypassAuthState)}function gU(r){const{auth:e,user:t}=r;return jt(t,e,"internal-error"),qN(t,new l1(r),r.bypassAuthState)}async function mU(r){const{auth:e,user:t}=r;return jt(t,e,"internal-error"),KN(t,new l1(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pU;case"linkViaPopup":case"linkViaRedirect":return mU;case"reauthViaPopup":case"reauthViaRedirect":return gU;default:Pa(this.auth,"internal-error")}}resolve(e){ll(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ll(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new Ef(2e3,1e4);class xh extends $C{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,xh.currentPopupAction&&xh.currentPopupAction.cancel(),xh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jt(e,this.auth,"internal-error"),e}async onExecution(){ll(this.filter.length===1,"Popup operations only handle one event");const e=o1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wU.get())};e()}}xh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="pendingRedirect",og=new Map;class yU extends $C{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=og.get(this.auth._key());if(!e){try{const n=await BU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}og.set(this.auth._key(),e)}return this.bypassAuthState||og.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BU(r,e){const t=_U(e),n=CU(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function xU(r,e){og.set(r._key(),e)}function CU(r){return il(r._redirectPersistence)}function _U(r){return ag(vU,r.config.apiKey,r.name)}async function bU(r,e,t=!1){if(yA(r.app))return Promise.reject(sl(r));const n=Lc(r),i=fU(n,e),a=await new yU(n,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=10*60*1e3;class IU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!XC(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(fo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EU&&this.cachedEventUids.clear(),this.cachedEventUids.has(eB(e))}saveEventToCache(e){this.cachedEventUids.add(eB(e)),this.lastProcessedEventTime=Date.now()}}function eB(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function XC({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function SU(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XC(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(r,e={}){return ju(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UU=/^https?/;async function TU(r){if(r.config.emulator)return;const{authorizedDomains:e}=await FU(r);for(const t of e)try{if(LU(t))return}catch{}Pa(r,"unauthorized-domain")}function LU(r){const e=Vw(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!UU.test(t))return!1;if(NU.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=new Ef(3e4,6e4);function tB(){const r=po().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function kU(r){return new Promise((e,t)=>{var n,i,s;function a(){tB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tB(),t(fo(r,"network-request-failed"))},timeout:QU.get()})}if(!((i=(n=po().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=po().gapi)===null||s===void 0)&&s.load)a();else{const l=EN("iframefcb");return po()[l]=()=>{gapi.load?a():t(fo(r,"network-request-failed"))},QC(`${bN()}?onload=${l}`).catch(u=>t(u))}}).catch(e=>{throw lg=null,e})}let lg=null;function PU(r){return lg=lg||kU(r),lg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new Ef(5e3,15e3),DU="__/auth/iframe",OU="emulator/auth/iframe",MU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HU(r){const e=r.config;jt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?n1(e,OU):`https://${r.config.authDomain}/${DU}`,n={apiKey:e.apiKey,appName:r.name,v:Tc},i=jU.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${bf(n).slice(1)}`}async function VU(r){const e=await PU(r),t=po().gapi;return jt(t,r,"internal-error"),e.open({where:document.body,url:HU(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MU,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=fo(r,"network-request-failed"),l=po().setTimeout(()=>{s(a)},RU.get());function u(){po().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qU=500,GU=600,zU="_blank",WU="http://localhost";class rB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $U(r,e,t,n=qU,i=GU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u=Object.assign(Object.assign({},KU),{width:n.toString(),height:i.toString(),top:s,left:a}),d=hs().toLowerCase();t&&(l=IC(d)?zU:t),bC(d)&&(e=e||WU,u.scrollbars="yes");const p=Object.entries(u).reduce((B,[y,U])=>`${B}${y}=${U},`,"");if(gN(d)&&l!=="_self")return XU(e||"",l),new rB(null);const w=window.open(e||"",l,p);jt(w,r,"popup-blocked");try{w.focus()}catch{}return new rB(w)}function XU(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="__/auth/handler",JU="emulator/auth/handler",ZU=encodeURIComponent("fac");async function nB(r,e,t,n,i,s){jt(r.config.authDomain,r,"auth-domain-config-required"),jt(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Tc,eventId:i};if(e instanceof RC){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",DS(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,w]of Object.entries({}))a[p]=w}if(e instanceof Sf){const p=e.getScopes().filter(w=>w!=="");p.length>0&&(a.scopes=p.join(","))}r.tenantId&&(a.tid=r.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await r._getAppCheckToken(),d=u?`#${ZU}=${encodeURIComponent(u)}`:"";return`${eT(r)}?${bf(l).slice(1)}${d}`}function eT({config:r}){return r.emulator?n1(r,JU):`https://${r.authDomain}/${YU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="webStorageSupport";class tT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KC,this._completeRedirectFn=bU,this._overrideRedirectResult=xU}async _openPopup(e,t,n,i){var s;ll((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await nB(e,t,n,Vw(),i);return $U(e,a,o1())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await nB(e,t,n,Vw(),i);return iU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ll(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await VU(e),n=new IU(e);return t.register("authEvent",i=>(jt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(X0,{type:X0},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[X0];a!==void 0&&t(!!a),Pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TC()||EC()||s1()}}const rT=tT;var iB="@firebase/auth",sB="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sT(r){Cc(new bu("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;jt(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:a,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LC(r)},d=new xN(n,i,s,u);return TN(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Cc(new bu("auth-internal",e=>{const t=Lc(e.getProvider("auth").getImmediate());return(n=>new nT(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(iB,sB,iT(r)),ho(iB,sB,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=5*60,aT=uC("authIdTokenMaxAge")||AT;let AB=null;const oT=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>aT)return;const i=t?.token;AB!==i&&(AB=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lT(r=e1()){const e=pm(r,"auth");if(e.isInitialized())return e.getImmediate();const t=UN(r,{popupRedirectResolver:rT,persistence:[dU,tU,KC]}),n=uC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=oT(s.toString());XN(t,a,()=>a(t.currentUser)),$N(t,l=>a(l))}}const i=aC("auth");return i&&LN(t,`http://${i}`),t}function uT(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}CN({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=fo("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",uT().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sT("Browser");var aB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yu,YC;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function I(){}I.prototype=C.prototype,O.D=C.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(j,N,T){for(var S=Array(arguments.length-2),te=2;te<arguments.length;te++)S[te-2]=arguments[te];return C.prototype[N].apply(j,S)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,C,I){I||(I=0);var j=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)j[N]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(N=0;16>N;++N)j[N]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=O.g[0],I=O.g[1],N=O.g[2];var T=O.g[3],S=C+(T^I&(N^T))+j[0]+3614090360&4294967295;C=I+(S<<7&4294967295|S>>>25),S=T+(N^C&(I^N))+j[1]+3905402710&4294967295,T=C+(S<<12&4294967295|S>>>20),S=N+(I^T&(C^I))+j[2]+606105819&4294967295,N=T+(S<<17&4294967295|S>>>15),S=I+(C^N&(T^C))+j[3]+3250441966&4294967295,I=N+(S<<22&4294967295|S>>>10),S=C+(T^I&(N^T))+j[4]+4118548399&4294967295,C=I+(S<<7&4294967295|S>>>25),S=T+(N^C&(I^N))+j[5]+1200080426&4294967295,T=C+(S<<12&4294967295|S>>>20),S=N+(I^T&(C^I))+j[6]+2821735955&4294967295,N=T+(S<<17&4294967295|S>>>15),S=I+(C^N&(T^C))+j[7]+4249261313&4294967295,I=N+(S<<22&4294967295|S>>>10),S=C+(T^I&(N^T))+j[8]+1770035416&4294967295,C=I+(S<<7&4294967295|S>>>25),S=T+(N^C&(I^N))+j[9]+2336552879&4294967295,T=C+(S<<12&4294967295|S>>>20),S=N+(I^T&(C^I))+j[10]+4294925233&4294967295,N=T+(S<<17&4294967295|S>>>15),S=I+(C^N&(T^C))+j[11]+2304563134&4294967295,I=N+(S<<22&4294967295|S>>>10),S=C+(T^I&(N^T))+j[12]+1804603682&4294967295,C=I+(S<<7&4294967295|S>>>25),S=T+(N^C&(I^N))+j[13]+4254626195&4294967295,T=C+(S<<12&4294967295|S>>>20),S=N+(I^T&(C^I))+j[14]+2792965006&4294967295,N=T+(S<<17&4294967295|S>>>15),S=I+(C^N&(T^C))+j[15]+1236535329&4294967295,I=N+(S<<22&4294967295|S>>>10),S=C+(N^T&(I^N))+j[1]+4129170786&4294967295,C=I+(S<<5&4294967295|S>>>27),S=T+(I^N&(C^I))+j[6]+3225465664&4294967295,T=C+(S<<9&4294967295|S>>>23),S=N+(C^I&(T^C))+j[11]+643717713&4294967295,N=T+(S<<14&4294967295|S>>>18),S=I+(T^C&(N^T))+j[0]+3921069994&4294967295,I=N+(S<<20&4294967295|S>>>12),S=C+(N^T&(I^N))+j[5]+3593408605&4294967295,C=I+(S<<5&4294967295|S>>>27),S=T+(I^N&(C^I))+j[10]+38016083&4294967295,T=C+(S<<9&4294967295|S>>>23),S=N+(C^I&(T^C))+j[15]+3634488961&4294967295,N=T+(S<<14&4294967295|S>>>18),S=I+(T^C&(N^T))+j[4]+3889429448&4294967295,I=N+(S<<20&4294967295|S>>>12),S=C+(N^T&(I^N))+j[9]+568446438&4294967295,C=I+(S<<5&4294967295|S>>>27),S=T+(I^N&(C^I))+j[14]+3275163606&4294967295,T=C+(S<<9&4294967295|S>>>23),S=N+(C^I&(T^C))+j[3]+4107603335&4294967295,N=T+(S<<14&4294967295|S>>>18),S=I+(T^C&(N^T))+j[8]+1163531501&4294967295,I=N+(S<<20&4294967295|S>>>12),S=C+(N^T&(I^N))+j[13]+2850285829&4294967295,C=I+(S<<5&4294967295|S>>>27),S=T+(I^N&(C^I))+j[2]+4243563512&4294967295,T=C+(S<<9&4294967295|S>>>23),S=N+(C^I&(T^C))+j[7]+1735328473&4294967295,N=T+(S<<14&4294967295|S>>>18),S=I+(T^C&(N^T))+j[12]+2368359562&4294967295,I=N+(S<<20&4294967295|S>>>12),S=C+(I^N^T)+j[5]+4294588738&4294967295,C=I+(S<<4&4294967295|S>>>28),S=T+(C^I^N)+j[8]+2272392833&4294967295,T=C+(S<<11&4294967295|S>>>21),S=N+(T^C^I)+j[11]+1839030562&4294967295,N=T+(S<<16&4294967295|S>>>16),S=I+(N^T^C)+j[14]+4259657740&4294967295,I=N+(S<<23&4294967295|S>>>9),S=C+(I^N^T)+j[1]+2763975236&4294967295,C=I+(S<<4&4294967295|S>>>28),S=T+(C^I^N)+j[4]+1272893353&4294967295,T=C+(S<<11&4294967295|S>>>21),S=N+(T^C^I)+j[7]+4139469664&4294967295,N=T+(S<<16&4294967295|S>>>16),S=I+(N^T^C)+j[10]+3200236656&4294967295,I=N+(S<<23&4294967295|S>>>9),S=C+(I^N^T)+j[13]+681279174&4294967295,C=I+(S<<4&4294967295|S>>>28),S=T+(C^I^N)+j[0]+3936430074&4294967295,T=C+(S<<11&4294967295|S>>>21),S=N+(T^C^I)+j[3]+3572445317&4294967295,N=T+(S<<16&4294967295|S>>>16),S=I+(N^T^C)+j[6]+76029189&4294967295,I=N+(S<<23&4294967295|S>>>9),S=C+(I^N^T)+j[9]+3654602809&4294967295,C=I+(S<<4&4294967295|S>>>28),S=T+(C^I^N)+j[12]+3873151461&4294967295,T=C+(S<<11&4294967295|S>>>21),S=N+(T^C^I)+j[15]+530742520&4294967295,N=T+(S<<16&4294967295|S>>>16),S=I+(N^T^C)+j[2]+3299628645&4294967295,I=N+(S<<23&4294967295|S>>>9),S=C+(N^(I|~T))+j[0]+4096336452&4294967295,C=I+(S<<6&4294967295|S>>>26),S=T+(I^(C|~N))+j[7]+1126891415&4294967295,T=C+(S<<10&4294967295|S>>>22),S=N+(C^(T|~I))+j[14]+2878612391&4294967295,N=T+(S<<15&4294967295|S>>>17),S=I+(T^(N|~C))+j[5]+4237533241&4294967295,I=N+(S<<21&4294967295|S>>>11),S=C+(N^(I|~T))+j[12]+1700485571&4294967295,C=I+(S<<6&4294967295|S>>>26),S=T+(I^(C|~N))+j[3]+2399980690&4294967295,T=C+(S<<10&4294967295|S>>>22),S=N+(C^(T|~I))+j[10]+4293915773&4294967295,N=T+(S<<15&4294967295|S>>>17),S=I+(T^(N|~C))+j[1]+2240044497&4294967295,I=N+(S<<21&4294967295|S>>>11),S=C+(N^(I|~T))+j[8]+1873313359&4294967295,C=I+(S<<6&4294967295|S>>>26),S=T+(I^(C|~N))+j[15]+4264355552&4294967295,T=C+(S<<10&4294967295|S>>>22),S=N+(C^(T|~I))+j[6]+2734768916&4294967295,N=T+(S<<15&4294967295|S>>>17),S=I+(T^(N|~C))+j[13]+1309151649&4294967295,I=N+(S<<21&4294967295|S>>>11),S=C+(N^(I|~T))+j[4]+4149444226&4294967295,C=I+(S<<6&4294967295|S>>>26),S=T+(I^(C|~N))+j[11]+3174756917&4294967295,T=C+(S<<10&4294967295|S>>>22),S=N+(C^(T|~I))+j[2]+718787259&4294967295,N=T+(S<<15&4294967295|S>>>17),S=I+(T^(N|~C))+j[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+T&4294967295}n.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var I=C-this.blockSize,j=this.B,N=this.h,T=0;T<C;){if(N==0)for(;T<=I;)i(this,O,T),T+=this.blockSize;if(typeof O=="string"){for(;T<C;)if(j[N++]=O.charCodeAt(T++),N==this.blockSize){i(this,j),N=0;break}}else for(;T<C;)if(j[N++]=O[T++],N==this.blockSize){i(this,j),N=0;break}}this.h=N,this.o+=C},n.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var I=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=I&255,I/=256;for(this.u(O),O=Array(16),C=I=0;4>C;++C)for(var j=0;32>j;j+=8)O[I++]=this.g[C]>>>j&255;return O};function s(O,C){var I=l;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=C(O)}function a(O,C){this.h=C;for(var I=[],j=!0,N=O.length-1;0<=N;N--){var T=O[N]|0;j&&T==C||(I[N]=T,j=!1)}this.g=I}var l={};function u(O){return-128<=O&&128>O?s(O,function(C){return new a([C|0],0>C?-1:0)}):new a([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return k(d(-O));for(var C=[],I=1,j=0;O>=I;j++)C[j]=O/I|0,I*=4294967296;return new a(C,0)}function p(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return k(p(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(C,8)),j=w,N=0;N<O.length;N+=8){var T=Math.min(8,O.length-N),S=parseInt(O.substring(N,N+T),C);8>T?(T=d(Math.pow(C,T)),j=j.j(T).add(d(S))):(j=j.j(I),j=j.add(d(S)))}return j}var w=u(0),B=u(1),y=u(16777216);r=a.prototype,r.m=function(){if(Q(this))return-k(this).m();for(var O=0,C=1,I=0;I<this.g.length;I++){var j=this.i(I);O+=(0<=j?j:4294967296+j)*C,C*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(U(this))return"0";if(Q(this))return"-"+k(this).toString(O);for(var C=d(Math.pow(O,6)),I=this,j="";;){var N=ee(I,C).g;I=M(I,N.j(C));var T=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=N,U(I))return T+j;for(;6>T.length;)T="0"+T;j=T+j}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function U(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function Q(O){return O.h==-1}r.l=function(O){return O=M(this,O),Q(O)?-1:U(O)?0:1};function k(O){for(var C=O.g.length,I=[],j=0;j<C;j++)I[j]=~O.g[j];return new a(I,~O.h).add(B)}r.abs=function(){return Q(this)?k(this):this},r.add=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0,N=0;N<=C;N++){var T=j+(this.i(N)&65535)+(O.i(N)&65535),S=(T>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);j=S>>>16,T&=65535,S&=65535,I[N]=S<<16|T}return new a(I,I[I.length-1]&-2147483648?-1:0)};function M(O,C){return O.add(k(C))}r.j=function(O){if(U(this)||U(O))return w;if(Q(this))return Q(O)?k(this).j(k(O)):k(k(this).j(O));if(Q(O))return k(this.j(k(O)));if(0>this.l(y)&&0>O.l(y))return d(this.m()*O.m());for(var C=this.g.length+O.g.length,I=[],j=0;j<2*C;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var N=0;N<O.g.length;N++){var T=this.i(j)>>>16,S=this.i(j)&65535,te=O.i(N)>>>16,Be=O.i(N)&65535;I[2*j+2*N]+=S*Be,D(I,2*j+2*N),I[2*j+2*N+1]+=T*Be,D(I,2*j+2*N+1),I[2*j+2*N+1]+=S*te,D(I,2*j+2*N+1),I[2*j+2*N+2]+=T*te,D(I,2*j+2*N+2)}for(j=0;j<C;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=C;j<2*C;j++)I[j]=0;return new a(I,0)};function D(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function q(O,C){this.g=O,this.h=C}function ee(O,C){if(U(C))throw Error("division by zero");if(U(O))return new q(w,w);if(Q(O))return C=ee(k(O),C),new q(k(C.g),k(C.h));if(Q(C))return C=ee(O,k(C)),new q(k(C.g),C.h);if(30<O.g.length){if(Q(O)||Q(C))throw Error("slowDivide_ only works with positive integers.");for(var I=B,j=C;0>=j.l(O);)I=K(I),j=K(j);var N=J(I,1),T=J(j,1);for(j=J(j,2),I=J(I,2);!U(j);){var S=T.add(j);0>=S.l(O)&&(N=N.add(I),T=S),j=J(j,1),I=J(I,1)}return C=M(O,N.j(C)),new q(N,C)}for(N=w;0<=O.l(C);){for(I=Math.max(1,Math.floor(O.m()/C.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),T=d(I),S=T.j(C);Q(S)||0<S.l(O);)I-=j,T=d(I),S=T.j(C);U(T)&&(T=B),N=N.add(T),O=M(O,S)}return new q(N,O)}r.A=function(O){return ee(this,O).h},r.and=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)&O.i(j);return new a(I,this.h&O.h)},r.or=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)|O.i(j);return new a(I,this.h|O.h)},r.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)^O.i(j);return new a(I,this.h^O.h)};function K(O){for(var C=O.g.length+1,I=[],j=0;j<C;j++)I[j]=O.i(j)<<1|O.i(j-1)>>>31;return new a(I,O.h)}function J(O,C){var I=C>>5;C%=32;for(var j=O.g.length-I,N=[],T=0;T<j;T++)N[T]=0<C?O.i(T+I)>>>C|O.i(T+I+1)<<32-C:O.i(T+I);return new a(N,O.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,YC=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,yu=a}).apply(typeof aB<"u"?aB:typeof self<"u"?self:typeof window<"u"?window:{});var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JC,Td,ZC,ug,zw,e_,t_,r_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,P){return f==Array.prototype||f==Object.prototype||(f[E]=P.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bp=="object"&&bp];for(var E=0;E<f.length;++E){var P=f[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=t(this);function i(f,E){if(E)e:{var P=n;f=f.split(".");for(var Y=0;Y<f.length-1;Y++){var be=f[Y];if(!(be in P))break e;P=P[be]}f=f[f.length-1],Y=P[f],E=E(Y),E!=Y&&E!=null&&e(P,f,{configurable:!0,writable:!0,value:E})}}function s(f,E){f instanceof String&&(f+="");var P=0,Y=!1,be={next:function(){if(!Y&&P<f.length){var Le=P++;return{value:E(Le,f[Le]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(f){return f||function(){return s(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function d(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function p(f,E,P){return f.call.apply(f.bind,arguments)}function w(f,E,P){if(!f)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,Y),f.apply(E,be)}}return function(){return f.apply(E,arguments)}}function B(f,E,P){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:w,B.apply(null,arguments)}function y(f,E){var P=Array.prototype.slice.call(arguments,1);return function(){var Y=P.slice();return Y.push.apply(Y,arguments),f.apply(this,Y)}}function U(f,E){function P(){}P.prototype=E.prototype,f.aa=E.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(Y,be,Le){for(var Ye=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)Ye[qt-2]=arguments[qt];return E.prototype[be].apply(Y,Ye)}}function Q(f){const E=f.length;if(0<E){const P=Array(E);for(let Y=0;Y<E;Y++)P[Y]=f[Y];return P}return[]}function k(f,E){for(let P=1;P<arguments.length;P++){const Y=arguments[P];if(u(Y)){const be=f.length||0,Le=Y.length||0;f.length=be+Le;for(let Ye=0;Ye<Le;Ye++)f[be+Ye]=Y[Ye]}else f.push(Y)}}class M{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function D(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function ee(f){return ee[" "](f),f}ee[" "]=function(){};var K=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(f,E,P){for(const Y in f)E.call(P,f[Y],Y,f)}function O(f,E){for(const P in f)E.call(void 0,f[P],P,f)}function C(f){const E={};for(const P in f)E[P]=f[P];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,E){let P,Y;for(let be=1;be<arguments.length;be++){Y=arguments[be];for(P in Y)f[P]=Y[P];for(let Le=0;Le<I.length;Le++)P=I[Le],Object.prototype.hasOwnProperty.call(Y,P)&&(f[P]=Y[P])}}function N(f){var E=1;f=f.split(":");const P=[];for(;0<E&&f.length;)P.push(f.shift()),E--;return f.length&&P.push(f.join(":")),P}function T(f){l.setTimeout(()=>{throw f},0)}function S(){var f=ce;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,P){const Y=Be.get();Y.set(E,P),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var Be=new M(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,se=!1,ce=new te,fe=()=>{const f=l.Promise.resolve(void 0);ue=()=>{f.then(ie)}};var ie=()=>{for(var f;f=S();){try{f.h.call(f.g)}catch(P){T(P)}var E=Be;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}se=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};l.addEventListener("test",P,E),l.removeEventListener("test",P,E)}catch{}return f}();function oe(f,E){if(z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,Y=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(K){e:{try{ee(E.nodeName);var be=!0;break e}catch{}be=!1}be||(E=null)}}else P=="mouseover"?E=f.fromElement:P=="mouseout"&&(E=f.toElement);this.relatedTarget=E,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:de[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&oe.aa.h.call(this)}}U(oe,z);var de={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Ce(f,E,P,Y,be){this.listener=f,this.proxy=null,this.src=E,this.type=P,this.capture=!!Y,this.ha=be,this.key=++ge,this.da=this.fa=!1}function je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ke(f){this.src=f,this.g={},this.h=0}ke.prototype.add=function(f,E,P,Y,be){var Le=f.toString();f=this.g[Le],f||(f=this.g[Le]=[],this.h++);var Ye=$e(f,E,Y,be);return-1<Ye?(E=f[Ye],P||(E.fa=!1)):(E=new Ce(E,this.src,Le,!!Y,be),E.fa=P,f.push(E)),E};function Xe(f,E){var P=E.type;if(P in f.g){var Y=f.g[P],be=Array.prototype.indexOf.call(Y,E,void 0),Le;(Le=0<=be)&&Array.prototype.splice.call(Y,be,1),Le&&(je(E),f.g[P].length==0&&(delete f.g[P],f.h--))}}function $e(f,E,P,Y){for(var be=0;be<f.length;++be){var Le=f[be];if(!Le.da&&Le.listener==E&&Le.capture==!!P&&Le.ha==Y)return be}return-1}var At="closure_lm_"+(1e6*Math.random()|0),Te={};function Ae(f,E,P,Y,be){if(Array.isArray(E)){for(var Le=0;Le<E.length;Le++)Ae(f,E[Le],P,Y,be);return null}return P=St(P),f&&f[xe]?f.K(E,P,d(Y)?!!Y.capture:!1,be):bt(f,E,P,!1,Y,be)}function bt(f,E,P,Y,be,Le){if(!E)throw Error("Invalid event type");var Ye=d(be)?!!be.capture:!!be,qt=wt(f);if(qt||(f[At]=qt=new ke(f)),P=qt.add(E,P,Y,Ye,Le),P.proxy)return P;if(Y=ze(),P.proxy=Y,Y.src=f,Y.listener=P,f.addEventListener)re||(be=Ye),be===void 0&&(be=!1),f.addEventListener(E.toString(),Y,be);else if(f.attachEvent)f.attachEvent(nt(E.toString()),Y);else if(f.addListener&&f.removeListener)f.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ze(){function f(P){return E.call(f.src,f.listener,P)}const E=rt;return f}function Ve(f,E,P,Y,be){if(Array.isArray(E))for(var Le=0;Le<E.length;Le++)Ve(f,E[Le],P,Y,be);else Y=d(Y)?!!Y.capture:!!Y,P=St(P),f&&f[xe]?(f=f.i,E=String(E).toString(),E in f.g&&(Le=f.g[E],P=$e(Le,P,Y,be),-1<P&&(je(Le[P]),Array.prototype.splice.call(Le,P,1),Le.length==0&&(delete f.g[E],f.h--)))):f&&(f=wt(f))&&(E=f.g[E.toString()],f=-1,E&&(f=$e(E,P,Y,be)),(P=-1<f?E[f]:null)&&et(P))}function et(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[xe])Xe(E.i,f);else{var P=f.type,Y=f.proxy;E.removeEventListener?E.removeEventListener(P,Y,f.capture):E.detachEvent?E.detachEvent(nt(P),Y):E.addListener&&E.removeListener&&E.removeListener(Y),(P=wt(E))?(Xe(P,f),P.h==0&&(P.src=null,E[At]=null)):je(f)}}}function nt(f){return f in Te?Te[f]:Te[f]="on"+f}function rt(f,E){if(f.da)f=!0;else{E=new oe(E,this);var P=f.listener,Y=f.ha||f.src;f.fa&&et(f),f=P.call(Y,E)}return f}function wt(f){return f=f[At],f instanceof ke?f:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(f){return typeof f=="function"?f:(f[vt]||(f[vt]=function(E){return f.handleEvent(E)}),f[vt])}function ct(){R.call(this),this.i=new ke(this),this.M=this,this.F=null}U(ct,R),ct.prototype[xe]=!0,ct.prototype.removeEventListener=function(f,E,P,Y){Ve(this,f,E,P,Y)};function yt(f,E){var P,Y=f.F;if(Y)for(P=[];Y;Y=Y.F)P.push(Y);if(f=f.M,Y=E.type||E,typeof E=="string")E=new z(E,f);else if(E instanceof z)E.target=E.target||f;else{var be=E;E=new z(Y,f),j(E,be)}if(be=!0,P)for(var Le=P.length-1;0<=Le;Le--){var Ye=E.g=P[Le];be=Ht(Ye,Y,!0,E)&&be}if(Ye=E.g=f,be=Ht(Ye,Y,!0,E)&&be,be=Ht(Ye,Y,!1,E)&&be,P)for(Le=0;Le<P.length;Le++)Ye=E.g=P[Le],be=Ht(Ye,Y,!1,E)&&be}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var P=f.g[E],Y=0;Y<P.length;Y++)je(P[Y]);delete f.g[E],f.h--}}this.F=null},ct.prototype.K=function(f,E,P,Y){return this.i.add(String(f),E,!1,P,Y)},ct.prototype.L=function(f,E,P,Y){return this.i.add(String(f),E,!0,P,Y)};function Ht(f,E,P,Y){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var be=!0,Le=0;Le<E.length;++Le){var Ye=E[Le];if(Ye&&!Ye.da&&Ye.capture==P){var qt=Ye.listener,er=Ye.ha||Ye.src;Ye.fa&&Xe(f.i,Ye),be=qt.call(er,Y)!==!1&&be}}return be&&!Y.defaultPrevented}function Ft(f,E,P){if(typeof f=="function")P&&(f=B(f,P));else if(f&&typeof f.handleEvent=="function")f=B(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(f,E||0)}function Dt(f){f.g=Ft(()=>{f.g=null,f.i&&(f.i=!1,Dt(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class st extends R{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(f){R.call(this),this.h=f,this.g={}}U(ar,R);var Wt=[];function jn(f){J(f.g,function(E,P){this.g.hasOwnProperty(P)&&et(E)},f),f.g={}}ar.prototype.N=function(){ar.aa.N.call(this),jn(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=l.JSON.stringify,Fr=l.JSON.parse,Hi=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Zt(){}Zt.prototype.h=null;function Ls(f){return f.h||(f.h=f.i())}function Qr(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){z.call(this,"d")}U(Hn,z);function kr(){z.call(this,"c")}U(kr,z);var Tt={},rr=null;function fs(){return rr=rr||new ct}Tt.La="serverreachability";function fn(f){z.call(this,Tt.La,f)}U(fn,z);function Vn(f){const E=fs();yt(E,new fn(E))}Tt.STAT_EVENT="statevent";function Vi(f,E){z.call(this,Tt.STAT_EVENT,f),this.stat=E}U(Vi,z);function dt(f){const E=fs();yt(E,new Vi(E,f))}Tt.Ma="timingevent";function oi(f,E){z.call(this,Tt.Ma,f),this.size=E}U(oi,z);function yn(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},E)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Hr(f,E,P,Y,be,Le){f.info(function(){if(f.g)if(Le)for(var Ye="",qt=Le.split("&"),er=0;er<qt.length;er++){var Gt=qt[er].split("=");if(1<Gt.length){var wr=Gt[0];Gt=Gt[1];var Cr=wr.split("_");Ye=2<=Cr.length&&Cr[1]=="type"?Ye+(wr+"="+Gt+"&"):Ye+(wr+"=redacted&")}}else Ye=null;else Ye=Le;return"XMLHTTP REQ ("+Y+") [attempt "+be+"]: "+E+`
`+P+`
`+Ye})}function Vr(f,E,P,Y,be,Le,Ye){f.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+be+"]: "+E+`
`+P+`
`+Le+" "+Ye})}function Yr(f,E,P,Y){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+tA(f,P)+(Y?" "+Y:"")})}function IA(f,E){f.info(function(){return"TIMEOUT: "+E})}Bn.prototype.info=function(){};function tA(f,E){if(!f.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var Y=P[f];if(!(2>Y.length)){var be=Y[1];if(Array.isArray(be)&&!(1>be.length)){var Le=be[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var Ye=1;Ye<be.length;Ye++)be[Ye]=""}}}}return fr(P)}catch{return E}}var li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function ui(){}U(ui,Zt),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},pn=new ui;function an(f,E,P,Y){this.j=f,this.i=E,this.l=P,this.R=Y||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ps}function ps(){this.i=null,this.g="",this.h=!1}var rA={},nA={};function iA(f,E,P){f.L=1,f.v=aA(Jn(E)),f.m=P,f.P=!0,SA(f,null)}function SA(f,E){f.F=Date.now(),Nr(f),f.A=Jn(f.v);var P=f.A,Y=f.R;Array.isArray(Y)||(Y=[String(Y)]),Lt(P.i,"t",Y),f.C=0,P=f.j.J,f.h=new ps,f.g=V(f.j,P?E:null,!f.m),0<f.O&&(f.M=new st(B(f.Y,f,f.g),f.O)),E=f.U,P=f.g,Y=f.ca;var be="readystatechange";Array.isArray(be)||(be&&(Wt[0]=be.toString()),be=Wt);for(var Le=0;Le<be.length;Le++){var Ye=Ae(P,be[Le],Y||E.handleEvent,!1,E.h||E);if(!Ye)break;E.g[Ye.key]=Ye}E=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Vn(),Hr(f.i,f.u,f.A,f.l,f.R,f.m)}an.prototype.ca=function(f){f=f.target;const E=this.M;E&&ln(f)==3?E.j():this.Y(f)},an.prototype.Y=function(f){try{if(f==this.g)e:{const Cr=ln(this.g);var E=this.g.Ba();const Si=this.g.Z();if(!(3>Cr)&&(Cr!=3||this.g&&(this.h.h||this.g.oa()||Lo(this.g)))){this.J||Cr!=4||E==7||(E==8||0>=Si?Vn(3):Vn(2)),Qs(this);var P=this.g.Z();this.X=P;t:if(na(this)){var Y=Lo(this.g);f="";var be=Y.length,Le=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),sA(this);var Ye="";break t}this.h.i=new l.TextDecoder}for(E=0;E<be;E++)this.h.h=!0,f+=this.h.i.decode(Y[E],{stream:!(Le&&E==be-1)});Y.length=0,this.h.g+=f,this.C=0,Ye=this.h.g}else Ye=this.g.oa();if(this.o=P==200,Vr(this.i,this.u,this.A,this.l,this.R,Cr,P),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,er=this.g;if((qt=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(qt)){var Gt=qt;break t}}Gt=null}if(P=Gt)Yr(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ia(this,P);else{this.o=!1,this.s=3,dt(12),qi(this),sA(this);break e}}if(this.P){P=!0;let ti;for(;!this.J&&this.C<Ye.length;)if(ti=pl(this,Ye),ti==nA){Cr==4&&(this.s=4,dt(14),P=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(ti==rA){this.s=4,dt(15),Yr(this.i,this.l,Ye,"[Invalid Chunk]"),P=!1;break}else Yr(this.i,this.l,ti,null),ia(this,ti);if(na(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cr!=4||Ye.length!=0||this.h.h||(this.s=1,dt(16),P=!1),this.o=this.o&&P,!P)Yr(this.i,this.l,Ye,"[Invalid Chunked Response]"),qi(this),sA(this);else if(0<Ye.length&&!this.W){this.W=!0;var wr=this.j;wr.g==this&&wr.ba&&!wr.M&&(wr.j.info("Great, no buffering proxy detected. Bytes received: "+Ye.length),za(wr),wr.M=!0,dt(11))}}else Yr(this.i,this.l,Ye,null),ia(this,Ye);Cr==4&&qi(this),this.o&&!this.J&&(Cr==4?js(this.j,this):(this.o=!1,Nr(this)))}else ws(this.g),P==400&&0<Ye.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),qi(this),sA(this)}}}catch{}finally{}};function na(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pl(f,E){var P=f.C,Y=E.indexOf(`
`,P);return Y==-1?nA:(P=Number(E.substring(P,Y)),isNaN(P)?rA:(Y+=1,Y+P>E.length?nA:(E=E.slice(Y,Y+P),f.C=Y+P,E)))}an.prototype.cancel=function(){this.J=!0,qi(this)};function Nr(f){f.S=Date.now()+f.I,gl(f,f.I)}function gl(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yn(B(f.ba,f),E)}function Qs(f){f.B&&(l.clearTimeout(f.B),f.B=null)}an.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(IA(this.i,this.A),this.L!=2&&(Vn(),dt(17)),qi(this),this.s=2,sA(this)):gl(this,this.S-f)};function sA(f){f.j.G==0||f.J||js(f.j,f)}function qi(f){Qs(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,jn(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function ia(f,E){try{var P=f.j;if(P.G!=0&&(P.g==f||Xn(P.h,f))){if(!f.K&&Xn(P.h,f)&&P.G==3){try{var Y=P.Da.g.parse(E)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var be=Y;if(be[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)cA(P),vs(P);else break e;OA(P),dt(18)}}else P.za=be[1],0<P.za-P.T&&37500>be[2]&&P.F&&P.v==0&&!P.C&&(P.C=yn(B(P.Za,P),6e3));if(1>=sa(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else di(P,11)}else if((f.K||P.g==f)&&cA(P),!D(E))for(be=P.Da.g.parse(E),E=0;E<be.length;E++){let Gt=be[E];if(P.T=Gt[0],Gt=Gt[1],P.G==2)if(Gt[0]=="c"){P.K=Gt[1],P.ia=Gt[2];const wr=Gt[3];wr!=null&&(P.la=wr,P.j.info("VER="+P.la));const Cr=Gt[4];Cr!=null&&(P.Aa=Cr,P.j.info("SVER="+P.Aa));const Si=Gt[5];Si!=null&&typeof Si=="number"&&0<Si&&(Y=1.5*Si,P.L=Y,P.j.info("backChannelRequestTimeoutMs_="+Y)),Y=P;const ti=f.g;if(ti){const hA=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hA){var Le=Y.h;Le.g||hA.indexOf("spdy")==-1&&hA.indexOf("quic")==-1&&hA.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Kr(Le,Le.h),Le.h=null))}if(Y.D){const dA=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;dA&&(Y.ya=dA,xr(Y.I,Y.D,dA))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),Y=P;var Ye=f;if(Y.qa=x(Y,Y.J?Y.ia:null,Y.W),Ye.K){Fo(Y.h,Ye);var qt=Ye,er=Y.L;er&&(qt.I=er),qt.B&&(Qs(qt),Nr(qt)),Y.g=Ye}else uA(Y);0<P.i.length&&Os(P)}else Gt[0]!="stop"&&Gt[0]!="close"||di(P,7);else P.G==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?di(P,7):Jr(P):Gt[0]!="noop"&&P.l&&P.l.ta(Gt),P.v=0)}}Vn(4)}catch{}}var ml=class{constructor(f,E){this.g=f,this.map=E}};function FA(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bi(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function sa(f){return f.h?1:f.g?f.g.size:0}function Xn(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Kr(f,E){f.g?f.g.add(E):f.h=E}function Fo(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}FA.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function No(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const P of f.g.values())E=E.concat(P.D);return E}return Q(f.i)}function Aa(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var E=[],P=f.length,Y=0;Y<P;Y++)E.push(f[Y]);return E}E=[],P=0;for(Y in f)E[P++]=f[Y];return E}function NA(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(u(f)||typeof f=="string"){var E=[];f=f.length;for(var P=0;P<f;P++)E.push(P);return E}E=[],P=0;for(const Y in f)E[P++]=Y;return E}}}function UA(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var P=NA(f),Y=Aa(f),be=Y.length,Le=0;Le<be;Le++)E.call(void 0,Y[Le],P&&P[Le],f)}var Yn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(f,E){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var Y=f[P].indexOf("="),be=null;if(0<=Y){var Le=f[P].substring(0,Y);be=f[P].substring(Y+1)}else Le=f[P];E(Le,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function on(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof on){this.h=f.h,TA(this,f.j),this.o=f.o,this.g=f.g,LA(this,f.s),this.l=f.l;var E=f.i,P=new gs;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),AA(this,P),this.m=f.m}else f&&(E=String(f).match(Yn))?(this.h=!1,TA(this,E[1]||"",!0),this.o=Yt(E[2]||""),this.g=Yt(E[3]||"",!0),LA(this,E[4]),this.l=Yt(E[5]||"",!0),AA(this,E[6]||"",!0),this.m=Yt(E[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}on.prototype.toString=function(){var f=[],E=this.j;E&&f.push(ks(E,Va,!0),":");var P=this.g;return(P||E=="file")&&(f.push("//"),(E=this.o)&&f.push(ks(E,Va,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(ks(P,P.charAt(0)=="/"?Ps:vl,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",ks(P,QA)),f.join("")};function Jn(f){return new on(f)}function TA(f,E,P){f.j=P?Yt(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function LA(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function AA(f,E,P){E instanceof gs?(f.i=E,Rs(f.i,f.h)):(P||(E=ks(E,aa)),f.i=new gs(E,f.h))}function xr(f,E,P){f.i.set(E,P)}function aA(f){return xr(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Yt(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ks(f,E,P){return typeof f=="string"?(f=encodeURI(f).replace(E,wl),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Va=/[#\/\?@]/g,vl=/[#\?:]/g,Ps=/[#\?]/g,aa=/[#\?@]/g,QA=/#/g;function gs(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function or(f){f.g||(f.g=new Map,f.h=0,f.i&&Ha(f.i,function(E,P){f.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}r=gs.prototype,r.add=function(f,E){or(this),this.i=null,f=zi(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(E),this.h+=1,this};function ms(f,E){or(f),E=zi(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Gi(f,E){return or(f),E=zi(f,E),f.g.has(E)}r.forEach=function(f,E){or(this),this.g.forEach(function(P,Y){P.forEach(function(be){f.call(E,be,Y,this)},this)},this)},r.na=function(){or(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let Y=0;Y<E.length;Y++){const be=f[Y];for(let Le=0;Le<be.length;Le++)P.push(E[Y])}return P},r.V=function(f){or(this);let E=[];if(typeof f=="string")Gi(this,f)&&(E=E.concat(this.g.get(zi(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)E=E.concat(f[P])}return E},r.set=function(f,E){return or(this),this.i=null,f=zi(this,f),Gi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},r.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Lt(f,E,P){ms(f,E),0<P.length&&(f.i=null,f.g.set(zi(f,E),Q(P)),f.h+=P.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var Y=E[P];const Le=encodeURIComponent(String(Y)),Ye=this.V(Y);for(Y=0;Y<Ye.length;Y++){var be=Le;Ye[Y]!==""&&(be+="="+encodeURIComponent(String(Ye[Y]))),f.push(be)}}return this.i=f.join("&")};function zi(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Rs(f,E){E&&!f.j&&(or(f),f.i=null,f.g.forEach(function(P,Y){var be=Y.toLowerCase();Y!=be&&(ms(this,Y),Lt(this,be,P))},f)),f.j=E}function Ds(f,E){const P=new Bn;if(l.Image){const Y=new Image;Y.onload=y(Zn,P,"TestLoadImage: loaded",!0,E,Y),Y.onerror=y(Zn,P,"TestLoadImage: error",!1,E,Y),Y.onabort=y(Zn,P,"TestLoadImage: abort",!1,E,Y),Y.ontimeout=y(Zn,P,"TestLoadImage: timeout",!1,E,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=f}else E(!1)}function Uo(f,E){const P=new Bn,Y=new AbortController,be=setTimeout(()=>{Y.abort(),Zn(P,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:Y.signal}).then(Le=>{clearTimeout(be),Le.ok?Zn(P,"TestPingServer: ok",!0,E):Zn(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(be),Zn(P,"TestPingServer: error",!1,E)})}function Zn(f,E,P,Y,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Y(P)}catch{}}function Ka(){this.g=new Hi}function qa(f,E,P){const Y=P||"";try{UA(f,function(be,Le){let Ye=be;d(be)&&(Ye=fr(be)),E.push(Y+Le+"="+encodeURIComponent(Ye))})}catch(be){throw E.push(Y+"type="+encodeURIComponent("_badmap")),be}}function oA(f){this.l=f.Ub||null,this.j=f.eb||!1}U(oA,Zt),oA.prototype.g=function(){return new oa(this.l,this.j)},oA.prototype.i=function(f){return function(){return f}}({});function oa(f,E){ct.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(oa,ct),r=oa.prototype,r.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,ei(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function yl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Ei(this):ei(this),this.readyState==3&&yl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Ei(this))},r.Qa=function(f){this.g&&(this.response=f,Ei(this))},r.ga=function(){this.g&&Ei(this)};function Ei(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ei(f)}r.setRequestHeader=function(f,E){this.u.append(f,E)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=E.next();return f.join(`\r
`)};function ei(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ci(f){let E="";return J(f,function(P,Y){E+=Y,E+=":",E+=P,E+=`\r
`}),E}function kA(f,E,P){e:{for(Y in P){var Y=!1;break e}Y=!0}Y||(P=ci(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):xr(f,E,P))}function mr(f){ct.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(mr,ct);var To=/^https?$/i,PA=["POST","PUT"];r=mr.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,E,P,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?Ls(this.o):Ls(pn),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(Le){RA(this,Le);return}if(f=P||"",P=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var be in Y)P.set(be,Y[be]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Le of Y.keys())P.set(Le,Y.get(Le));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(P.keys()).find(Le=>Le.toLowerCase()=="content-type"),be=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(PA,E,void 0))||Y||be||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,Ye]of P)this.g.setRequestHeader(Le,Ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ii(this),this.u=!0,this.g.send(f),this.u=!1}catch(Le){RA(this,Le)}};function RA(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,la(f),hi(f)}function la(f){f.A||(f.A=!0,yt(f,"complete"),yt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,yt(this,"complete"),yt(this,"abort"),hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),mr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},r.bb=function(){Ga(this)};function Ga(f){if(f.h&&typeof a<"u"&&(!f.v[1]||ln(f)!=4||f.Z()!=2)){if(f.u&&ln(f)==4)Ft(f.Ea,0,f);else if(yt(f,"readystatechange"),ln(f)==4){f.h=!1;try{const Ye=f.Z();e:switch(Ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var Y;if(Y=Ye===0){var be=String(f.D).match(Yn)[1]||null;!be&&l.self&&l.self.location&&(be=l.self.location.protocol.slice(0,-1)),Y=!To.test(be?be.toLowerCase():"")}P=Y}if(P)yt(f,"complete"),yt(f,"success");else{f.m=6;try{var Le=2<ln(f)?f.g.statusText:""}catch{Le=""}f.l=Le+" ["+f.Z()+"]",la(f)}}finally{hi(f)}}}}function hi(f,E){if(f.g){Ii(f);const P=f.g,Y=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||yt(f,"ready");try{P.onreadystatechange=Y}catch{}}}function Ii(f){f.I&&(l.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function ln(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Fr(E)}};function Lo(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(f){const E={};f=(f.g&&2<=ln(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<f.length;Y++){if(D(f[Y]))continue;var P=N(f[Y]);const be=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Le=E[be]||[];E[be]=Le,Le.push(P)}O(E,function(Y){return Y.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xn(f,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||E}function ua(f){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xn("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xn("baseRetryDelayMs",5e3,f),this.cb=xn("retryDelaySeedMs",1e4,f),this.Wa=xn("forwardChannelMaxRetries",2,f),this.wa=xn("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new FA(f&&f.concurrentRequestLimit),this.Da=new Ka,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ua.prototype,r.la=8,r.G=1,r.connect=function(f,E,P,Y){dt(0),this.W=f,this.H=E||{},P&&Y!==void 0&&(this.H.OSID=P,this.H.OAID=Y),this.F=this.X,this.I=x(this,null,this.W),Os(this)};function Jr(f){if(lA(f),f.G==3){var E=f.U++,P=Jn(f.I);if(xr(P,"SID",f.K),xr(P,"RID",E),xr(P,"TYPE","terminate"),Ms(f,P),E=new an(f,f.j,E),E.L=2,E.v=aA(Jn(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&l.Image&&(new Image().src=E.v,P=!0),P||(E.g=V(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Nr(E)}$a(f)}function vs(f){f.g&&(za(f),f.g.cancel(),f.g=null)}function lA(f){vs(f),f.u&&(l.clearTimeout(f.u),f.u=null),cA(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Os(f){if(!bi(f.h)&&!f.s){f.s=!0;var E=f.Ga;ue||fe(),se||(ue(),se=!0),ce.add(E,f),f.B=0}}function Qo(f,E){return sa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yn(B(f.Ga,f,E),Wa(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const be=new an(this,this.j,f);let Le=this.o;if(this.S&&(Le?(Le=C(Le),j(Le,this.S)):Le=this.S),this.m!==null||this.O||(be.H=Le,Le=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var Y=this.i[P];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(E+=Y,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=ys(this,be,E),P=Jn(this.I),xr(P,"RID",f),xr(P,"CVER",22),this.D&&xr(P,"X-HTTP-Session-Id",this.D),Ms(this,P),Le&&(this.O?E="headers="+encodeURIComponent(String(ci(Le)))+"&"+E:this.m&&kA(P,this.m,Le)),Kr(this.h,be),this.Ua&&xr(P,"TYPE","init"),this.P?(xr(P,"$req",E),xr(P,"SID","null"),be.T=!0,iA(be,P,null)):iA(be,P,E),this.G=2}}else this.G==3&&(f?DA(this,f):this.i.length==0||bi(this.h)||DA(this))};function DA(f,E){var P;E?P=E.l:P=f.U++;const Y=Jn(f.I);xr(Y,"SID",f.K),xr(Y,"RID",P),xr(Y,"AID",f.T),Ms(f,Y),f.m&&f.o&&kA(Y,f.m,f.o),P=new an(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),E&&(f.i=E.D.concat(f.i)),E=ys(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Kr(f.h,P),iA(P,Y,E)}function Ms(f,E){f.H&&J(f.H,function(P,Y){xr(E,Y,P)}),f.l&&UA({},function(P,Y){xr(E,Y,P)})}function ys(f,E,P){P=Math.min(f.i.length,P);var Y=f.l?B(f.l.Na,f.l,f):null;e:{var be=f.i;let Le=-1;for(;;){const Ye=["count="+P];Le==-1?0<P?(Le=be[0].g,Ye.push("ofs="+Le)):Le=0:Ye.push("ofs="+Le);let qt=!0;for(let er=0;er<P;er++){let Gt=be[er].g;const wr=be[er].map;if(Gt-=Le,0>Gt)Le=Math.max(0,be[er].g-100),qt=!1;else try{qa(wr,Ye,"req"+Gt+"_")}catch{Y&&Y(wr)}}if(qt){Y=Ye.join("&");break e}}}return f=f.i.splice(0,P),E.D=f,Y}function uA(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;ue||fe(),se||(ue(),se=!0),ce.add(E,f),f.v=0}}function OA(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yn(B(f.Fa,f),Wa(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yn(B(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),vs(this),Bl(this))};function za(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Bl(f){f.g=new an(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Jn(f.qa);xr(E,"RID","rpc"),xr(E,"SID",f.K),xr(E,"AID",f.T),xr(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&xr(E,"TO",f.ja),xr(E,"TYPE","xmlhttp"),Ms(f,E),f.m&&f.o&&kA(E,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=aA(Jn(E)),P.m=null,P.P=!0,SA(P,f)}r.Za=function(){this.C!=null&&(this.C=null,vs(this),OA(this),dt(19))};function cA(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function js(f,E){var P=null;if(f.g==E){cA(f),za(f),f.g=null;var Y=2}else if(Xn(f.h,E))P=E.D,Fo(f.h,E),Y=1;else return;if(f.G!=0){if(E.o)if(Y==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var be=f.B;Y=fs(),yt(Y,new oi(Y,P)),Os(f)}else uA(f);else if(be=E.s,be==3||be==0&&0<E.X||!(Y==1&&Qo(f,E)||Y==2&&OA(f)))switch(P&&0<P.length&&(E=f.h,E.i=E.i.concat(P)),be){case 1:di(f,5);break;case 4:di(f,10);break;case 3:di(f,6);break;default:di(f,2)}}}function Wa(f,E){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*E}function di(f,E){if(f.j.info("Error code "+E),E==2){var P=B(f.fb,f),Y=f.Xa;const be=!Y;Y=new on(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||TA(Y,"https"),aA(Y),be?Ds(Y.toString(),P):Uo(Y.toString(),P)}else dt(2);f.G=0,f.l&&f.l.sa(E),$a(f),lA(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function $a(f){if(f.G=0,f.ka=[],f.l){const E=No(f.h);(E.length!=0||f.i.length!=0)&&(k(f.ka,E),k(f.ka,f.i),f.h.i.length=0,Q(f.i),f.i.length=0),f.l.ra()}}function x(f,E,P){var Y=P instanceof on?Jn(P):new on(P);if(Y.g!="")E&&(Y.g=E+"."+Y.g),LA(Y,Y.s);else{var be=l.location;Y=be.protocol,E=E?E+"."+be.hostname:be.hostname,be=+be.port;var Le=new on(null);Y&&TA(Le,Y),E&&(Le.g=E),be&&LA(Le,be),P&&(Le.l=P),Y=Le}return P=f.D,E=f.ya,P&&E&&xr(Y,P,E),xr(Y,"VER",f.la),Ms(f,Y),Y}function V(f,E,P){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new mr(new oA({eb:P})):new mr(f.pa),E.Ha(f.J),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function le(){}r=le.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pe(){}pe.prototype.g=function(f,E){return new Ie(f,E)};function Ie(f,E){ct.call(this),this.g=new ua(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!D(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!D(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new at(this)}U(Ie,ct),Ie.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ie.prototype.close=function(){Jr(this.g)},Ie.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=fr(f),f=P);E.i.push(new ml(E.Ya++,f)),E.G==3&&Os(E)},Ie.prototype.N=function(){this.g.l=null,delete this.j,Jr(this.g),delete this.g,Ie.aa.N.call(this)};function De(f){Hn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const P in E){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}U(De,Hn);function We(){kr.call(this),this.status=1}U(We,kr);function at(f){this.g=f}U(at,le),at.prototype.ua=function(){yt(this.g,"a")},at.prototype.ta=function(f){yt(this.g,new De(f))},at.prototype.sa=function(f){yt(this.g,new We)},at.prototype.ra=function(){yt(this.g,"b")},pe.prototype.createWebChannel=pe.prototype.g,Ie.prototype.send=Ie.prototype.o,Ie.prototype.open=Ie.prototype.m,Ie.prototype.close=Ie.prototype.close,r_=function(){return new pe},t_=function(){return fs()},e_=Tt,zw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,ug=li,Ki.COMPLETE="complete",ZC=Ki,Qr.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Td=Qr,mr.prototype.listenOnce=mr.prototype.L,mr.prototype.getLastError=mr.prototype.Ka,mr.prototype.getLastErrorCode=mr.prototype.Ba,mr.prototype.getStatus=mr.prototype.Z,mr.prototype.getResponseJson=mr.prototype.Oa,mr.prototype.getResponseText=mr.prototype.oa,mr.prototype.send=mr.prototype.ea,mr.prototype.setWithCredentials=mr.prototype.Ha,JC=mr}).apply(typeof bp<"u"?bp:typeof self<"u"?self:typeof window<"u"?window:{});const oB="@firebase/firestore",lB="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Jv("@firebase/firestore");function fh(){return Ec.logLevel}function mt(r,...e){if(Ec.logLevel<=sr.DEBUG){const t=e.map(u1);Ec.debug(`Firestore (${$h}): ${r}`,...t)}}function ul(r,...e){if(Ec.logLevel<=sr.ERROR){const t=e.map(u1);Ec.error(`Firestore (${$h}): ${r}`,...t)}}function Eu(r,...e){if(Ec.logLevel<=sr.WARN){const t=e.map(u1);Ec.warn(`Firestore (${$h}): ${r}`,...t)}}function u1(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,n_(r,n,t)}function n_(r,e,t){let n=`FIRESTORE (${$h}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ul(n),new Error(n)}function dr(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||n_(e,i,n)}function zt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends _o{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(os.UNAUTHENTICATED))}shutdown(){}}class hT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dT{constructor(e){this.t=e,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dr(this.o===void 0,42304);let n=this.i;const i=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new go;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new go,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new go)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dr(typeof n.accessToken=="string",31837,{l:n}),new i_(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dr(e===null||typeof e=="string",2055,{h:e}),new os(e)}}class fT{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=os.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pT{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new fT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gT{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dr(this.o===void 0,3512);const n=s=>{s.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,mt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new uB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=mT(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%62))}return n}}function Jt(r,e){return r<e?-1:r>e?1:0}function Ww(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return Jt(n,i);{const s=s_(),a=wT(s.encode(cB(r,t)),s.encode(cB(e,t)));return a!==0?a:Jt(n,i)}}t+=n>65535?2:1}return Jt(r.length,e.length)}function cB(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function wT(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Jt(r[t],e[t]);return Jt(r.length,e.length)}function Dh(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="__name__";class lo{constructor(e,t,n){t===void 0?t=0:t>e.length&&Qt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Qt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return lo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lo?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=lo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Jt(e.length,t.length)}static compareSegments(e,t){const n=lo.isNumericId(e),i=lo.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?lo.extractNumericId(e).compare(lo.extractNumericId(t)):Ww(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yu.fromString(e.substring(4,e.length-2))}}class Mr extends lo{construct(e,t,n){return new Mr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ut(Ke.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Mr(t)}static emptyPath(){return new Mr([])}}const vT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends lo{construct(e,t,n){return new Oi(e,t,n)}static isValidIdentifier(e){return vT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hB}static keyField(){return new Oi([hB])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new ut(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ut(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ut(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(n+=l,i++):(s(),i++)}if(s(),a)throw new ut(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(t)}static emptyPath(){return new Oi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Mr.fromString(e))}static fromName(e){return new Ut(Mr.fromString(e).popFirst(5))}static empty(){return new Ut(Mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Mr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(r,e,t){if(!t)throw new ut(Ke.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yT(r,e,t,n){if(e===!0&&n===!0)throw new ut(Ke.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function dB(r){if(!Ut.isDocumentKey(r))throw new ut(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fB(r){if(Ut.isDocumentKey(r))throw new ut(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function a_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Qt(12329,{type:typeof r})}function EA(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(r);throw new ut(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,e){const t={typeString:r};return e&&(t.value=e),t}function Nf(r,e){if(!a_(r))throw new ut(Ke.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const a=r[n];if(i&&typeof a!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new ut(Ke.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=-62135596800,gB=1e6;class Ir{static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*gB);return new Ir(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pB)throw new ut(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gB}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ir._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nf(e,Ir._jsonSchema))return new Ir(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ir._jsonSchemaVersion="firestore/timestamp/1.0",Ir._jsonSchema={type:$n("string",Ir._jsonSchemaVersion),seconds:$n("number"),nanoseconds:$n("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Ir(0,0))}static max(){return new Mt(new Ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=-1;function BT(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(n===1e9?new Ir(t+1,0):new Ir(t,n));return new Iu(i,Ut.empty(),e)}function xT(r){return new Iu(r.readTime,r.key,uf)}class Iu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Iu(Mt.min(),Ut.empty(),uf)}static max(){return new Iu(Mt.max(),Ut.empty(),uf)}}function CT(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ut.comparator(r.documentKey,e.documentKey),t!==0?t:Jt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(r){if(r.code!==Ke.FAILED_PRECONDITION||r.message!==_T)throw r;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ge((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ge?t:Ge.resolve(t)}catch(t){return Ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.reject(t)}static resolve(e){return new Ge((t,n)=>{t(e)})}static reject(e){return new Ge((t,n)=>{n(e)})}static waitFor(e){return new Ge((t,n)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&t()},u=>n(u))}),a=!0,s===i&&t()})}static or(e){let t=Ge.resolve(!1);for(const n of e)t=t.next(i=>i?Ge.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,s)=>{n.push(t.call(this,i,s))}),this.waitFor(n)}static mapArray(e,t){return new Ge((n,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next(p=>{a[d]=p,++l,l===s&&n(a)},p=>i(p))}})}static doWhile(e,t){return new Ge((n,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):n()};s()})}}function ET(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yh(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this._e(n),this.ae=n=>t.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ym.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=-1;function Uf(r){return r==null}function Pg(r){return r===0&&1/r==-1/0}function IT(r){return typeof r=="number"&&Number.isInteger(r)&&!Pg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="";function ST(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=mB(e)),e=FT(r.get(t),e);return mB(e)}function FT(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":t+="";break;case o_:t+="";break;default:t+=s}}return t}function mB(r){return r+o_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Hu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function l_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??Di.RED,this.left=i??Di.EMPTY,this.right=s??Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new Di(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Di.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qt(27949);return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt(57766)}get value(){throw Qt(16141)}get color(){throw Qt(16727)}get left(){throw Qt(29726)}get right(){throw Qt(36894)}copy(e,t,n,i,s){return this}insert(e,t,n){return new Di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vB(this.data.getIterator())}getIteratorFrom(e){return new vB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ai(this.comparator);return t.data=e,t}}class vB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new xA([])}unionWith(e){let t=new ai(Oi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dh(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u_("Invalid base64 string: "+s):s}}(e);return new ji(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ji(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const NT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Su(r){if(dr(!!r,39018),typeof r=="string"){let e=0;const t=NT.exec(r);if(dr(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Rn(r.seconds),nanos:Rn(r.nanos)}}function Rn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fu(r){return typeof r=="string"?ji.fromBase64String(r):ji.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="server_timestamp",h_="__type__",d_="__previous_value__",f_="__local_write_time__";function d1(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[h_])===null||t===void 0?void 0:t.stringValue)===c_}function Bm(r){const e=r.mapValue.fields[d_];return d1(e)?Bm(e):e}function cf(r){const e=Su(r.mapValue.fields[f_].timestampValue);return new Ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,n,i,s,a,l,u,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const Rg="(default)";class hf{constructor(e,t){this.projectId=e,this.database=t||Rg}static empty(){return new hf("","")}get isDefaultDatabase(){return this.database===Rg}isEqual(e){return e instanceof hf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__type__",TT="__max__",Ip={mapValue:{}},g_="__vector__",Dg="value";function Nu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?d1(r)?4:QT(r)?9007199254740991:LT(r)?10:11:Qt(28295,{value:r})}function Bo(r,e){if(r===e)return!0;const t=Nu(r);if(t!==Nu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return cf(r).isEqual(cf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Su(i.timestampValue),l=Su(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,s){return Fu(i.bytesValue).isEqual(Fu(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,s){return Rn(i.geoPointValue.latitude)===Rn(s.geoPointValue.latitude)&&Rn(i.geoPointValue.longitude)===Rn(s.geoPointValue.longitude)}(r,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Rn(i.integerValue)===Rn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Rn(i.doubleValue),l=Rn(s.doubleValue);return a===l?Pg(a)===Pg(l):isNaN(a)&&isNaN(l)}return!1}(r,e);case 9:return Dh(r.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(wB(a)!==wB(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Bo(a[u],l[u])))return!1;return!0}(r,e);default:return Qt(52216,{left:r})}}function df(r,e){return(r.values||[]).find(t=>Bo(t,e))!==void 0}function Oh(r,e){if(r===e)return 0;const t=Nu(r),n=Nu(e);if(t!==n)return Jt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(r.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Rn(s.integerValue||s.doubleValue),u=Rn(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(r,e);case 3:return yB(r.timestampValue,e.timestampValue);case 4:return yB(cf(r),cf(e));case 5:return Ww(r.stringValue,e.stringValue);case 6:return function(s,a){const l=Fu(s),u=Fu(a);return l.compareTo(u)}(r.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=Jt(l[d],u[d]);if(p!==0)return p}return Jt(l.length,u.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,a){const l=Jt(Rn(s.latitude),Rn(a.latitude));return l!==0?l:Jt(Rn(s.longitude),Rn(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return BB(r.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,d,p;const w=s.fields||{},B=a.fields||{},y=(l=w[Dg])===null||l===void 0?void 0:l.arrayValue,U=(u=B[Dg])===null||u===void 0?void 0:u.arrayValue,Q=Jt(((d=y?.values)===null||d===void 0?void 0:d.length)||0,((p=U?.values)===null||p===void 0?void 0:p.length)||0);return Q!==0?Q:BB(y,U)}(r.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ip.mapValue&&a===Ip.mapValue)return 0;if(s===Ip.mapValue)return 1;if(a===Ip.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let w=0;w<u.length&&w<p.length;++w){const B=Ww(u[w],p[w]);if(B!==0)return B;const y=Oh(l[u[w]],d[p[w]]);if(y!==0)return y}return Jt(u.length,p.length)}(r.mapValue,e.mapValue);default:throw Qt(23264,{le:t})}}function yB(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Jt(r,e);const t=Su(r),n=Su(e),i=Jt(t.seconds,n.seconds);return i!==0?i:Jt(t.nanos,n.nanos)}function BB(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=Oh(t[i],n[i]);if(s)return s}return Jt(t.length,n.length)}function Mh(r){return $w(r)}function $w(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Su(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Fu(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ut.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=$w(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${$w(t.fields[a])}`;return i+"}"}(r.mapValue):Qt(61005,{value:r})}function cg(r){switch(Nu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bm(r);return e?16+cg(e):16;case 5:return 2*r.stringValue.length;case 6:return Fu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+cg(s),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return Hu(n.fields,(s,a)=>{i+=s.length+cg(a)}),i}(r.mapValue);default:throw Qt(13486,{value:r})}}function xB(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xw(r){return!!r&&"integerValue"in r}function f1(r){return!!r&&"arrayValue"in r}function CB(r){return!!r&&"nullValue"in r}function _B(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hg(r){return!!r&&"mapValue"in r}function LT(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[p_])===null||t===void 0?void 0:t.stringValue)===g_}function qd(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hu(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=qd(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qd(r.arrayValue.values[t]);return e}return Object.assign({},r)}function QT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===TT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!hg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(t)}setAll(e){let t=Oi.emptyPath(),n={},i=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,n,i),n={},i=[],t=l.popLast()}a?n[l.lastSegment()]=qd(a):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());hg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];hg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Hu(t,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Us(qd(this.value))}}function m_(r){const e=[];return Hu(r.fields,(t,n)=>{const i=new Oi([t]);if(hg(n)){const s=m_(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new xA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,n,i,s,a,l){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new _i(e,0,Mt.min(),Mt.min(),Mt.min(),Us.empty(),0)}static newFoundDocument(e,t,n,i){return new _i(e,1,t,Mt.min(),n,i,0)}static newNoDocument(e,t){return new _i(e,2,t,Mt.min(),Mt.min(),Us.empty(),0)}static newUnknownDocument(e,t){return new _i(e,3,t,Mt.min(),Mt.min(),Us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.position=e,this.inclusive=t}}function bB(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],a=r.position[i];if(s.field.isKeyField()?n=Ut.comparator(Ut.fromName(a.referenceValue),t.key):n=Oh(a,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function EB(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Bo(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t="asc"){this.field=e,this.dir=t}}function kT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{}class zn extends w_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new RT(e,t,n):t==="array-contains"?new MT(e,n):t==="in"?new jT(e,n):t==="not-in"?new HT(e,n):t==="array-contains-any"?new VT(e,n):new zn(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new DT(e,n):new OT(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oh(t,this.value)):t!==null&&Nu(this.value)===Nu(t)&&this.matchesComparison(Oh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ra extends w_{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ra(e,t)}matches(e){return v_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function v_(r){return r.op==="and"}function y_(r){return PT(r)&&v_(r)}function PT(r){for(const e of r.filters)if(e instanceof Ra)return!1;return!0}function Yw(r){if(r instanceof zn)return r.field.canonicalString()+r.op.toString()+Mh(r.value);if(y_(r))return r.filters.map(e=>Yw(e)).join(",");{const e=r.filters.map(t=>Yw(t)).join(",");return`${r.op}(${e})`}}function B_(r,e){return r instanceof zn?function(n,i){return i instanceof zn&&n.op===i.op&&n.field.isEqual(i.field)&&Bo(n.value,i.value)}(r,e):r instanceof Ra?function(n,i){return i instanceof Ra&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,l)=>s&&B_(a,i.filters[l]),!0):!1}(r,e):void Qt(19439)}function x_(r){return r instanceof zn?function(t){return`${t.field.canonicalString()} ${t.op} ${Mh(t.value)}`}(r):r instanceof Ra?function(t){return t.op.toString()+" {"+t.getFilters().map(x_).join(" ,")+"}"}(r):"Filter"}class RT extends zn{constructor(e,t,n){super(e,t,n),this.key=Ut.fromName(n.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class DT extends zn{constructor(e,t){super(e,"in",t),this.keys=C_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OT extends zn{constructor(e,t){super(e,"not-in",t),this.keys=C_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function C_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ut.fromName(n.referenceValue))}class MT extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f1(t)&&df(t.arrayValue,this.value)}}class jT extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&df(this.value.arrayValue,t)}}class HT extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!df(this.value.arrayValue,t)}}class VT extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>df(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t=null,n=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Pe=null}}function IB(r,e=null,t=[],n=[],i=null,s=null,a=null){return new KT(r,e,t,n,i,s,a)}function p1(r){const e=zt(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Yw(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Mh(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Mh(n)).join(",")),e.Pe=t}return e.Pe}function g1(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!kT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!B_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!EB(r.startAt,e.startAt)&&EB(r.endAt,e.endAt)}function Jw(r){return Ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,n=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function qT(r,e,t,n,i,s,a,l){return new Jh(r,e,t,n,i,s,a,l)}function m1(r){return new Jh(r)}function SB(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function __(r){return r.collectionGroup!==null}function Gd(r){const e=zt(r);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ai(Oi.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new ff(s,n))}),t.has(Oi.keyField().canonicalString())||e.Te.push(new ff(Oi.keyField(),n))}return e.Te}function mo(r){const e=zt(r);return e.Ie||(e.Ie=GT(e,Gd(r))),e.Ie}function GT(r,e){if(r.limitType==="F")return IB(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ff(i.field,s)});const t=r.endAt?new Og(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Og(r.startAt.position,r.startAt.inclusive):null;return IB(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Zw(r,e){const t=r.filters.concat([e]);return new Jh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Mg(r,e,t){return new Jh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function xm(r,e){return g1(mo(r),mo(e))&&r.limitType===e.limitType}function b_(r){return`${p1(mo(r))}|lt:${r.limitType}`}function ph(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>x_(i)).join(", ")}]`),Uf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Mh(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Mh(i)).join(",")),`Target(${n})`}(mo(r))}; limitType=${r.limitType})`}function Cm(r,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ut.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,e)&&function(n,i){for(const s of Gd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(a,l,u){const d=bB(a,l,u);return a.inclusive?d<=0:d<0}(n.startAt,Gd(n),i)||n.endAt&&!function(a,l,u){const d=bB(a,l,u);return a.inclusive?d>=0:d>0}(n.endAt,Gd(n),i))}(r,e)}function zT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E_(r){return(e,t)=>{let n=!1;for(const i of Gd(r)){const s=WT(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function WT(r,e,t){const n=r.field.isKeyField()?Ut.comparator(e.key,t.key):function(s,a,l){const u=a.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Oh(u,d):Qt(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Qt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hu(this.inner,(t,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return l_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new vn(Ut.comparator);function cl(){return $T}const I_=new vn(Ut.comparator);function Ld(...r){let e=I_;for(const t of r)e=e.insert(t.key,t);return e}function S_(r){let e=I_;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function gc(){return zd()}function F_(){return zd()}function zd(){return new Qc(r=>r.toString(),(r,e)=>r.isEqual(e))}const XT=new vn(Ut.comparator),YT=new ai(Ut.comparator);function Ar(...r){let e=YT;for(const t of r)e=e.add(t);return e}const JT=new ai(Jt);function ZT(){return JT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(e)?"-0":e}}function N_(r){return{integerValue:""+r}}function e3(r,e){return IT(e)?N_(e):w1(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this._=void 0}}function t3(r,e,t){return r instanceof jg?function(i,s){const a={fields:{[h_]:{stringValue:c_},[f_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&d1(s)&&(s=Bm(s)),s&&(a.fields[d_]=s),{mapValue:a}}(t,e):r instanceof pf?T_(r,e):r instanceof gf?L_(r,e):function(i,s){const a=U_(i,s),l=FB(a)+FB(i.Ee);return Xw(a)&&Xw(i.Ee)?N_(l):w1(i.serializer,l)}(r,e)}function r3(r,e,t){return r instanceof pf?T_(r,e):r instanceof gf?L_(r,e):t}function U_(r,e){return r instanceof Hg?function(n){return Xw(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class jg extends _m{}class pf extends _m{constructor(e){super(),this.elements=e}}function T_(r,e){const t=Q_(e);for(const n of r.elements)t.some(i=>Bo(i,n))||t.push(n);return{arrayValue:{values:t}}}class gf extends _m{constructor(e){super(),this.elements=e}}function L_(r,e){let t=Q_(e);for(const n of r.elements)t=t.filter(i=>!Bo(i,n));return{arrayValue:{values:t}}}class Hg extends _m{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function FB(r){return Rn(r.integerValue||r.doubleValue)}function Q_(r){return f1(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function n3(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof pf&&i instanceof pf||n instanceof gf&&i instanceof gf?Dh(n.elements,i.elements,Bo):n instanceof Hg&&i instanceof Hg?Bo(n.Ee,i.Ee):n instanceof jg&&i instanceof jg}(r.transform,e.transform)}class i3{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bm{}function k_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lf(r.key,Wn.none()):new Tf(r.key,r.data,Wn.none());{const t=r.data,n=Us.empty();let i=new ai(Oi.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Vu(r.key,n,new xA(i.toArray()),Wn.none())}}function s3(r,e,t){r instanceof Tf?function(i,s,a){const l=i.value.clone(),u=UB(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(r,e,t):r instanceof Vu?function(i,s,a){if(!dg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=UB(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(P_(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(r,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Wd(r,e,t,n){return r instanceof Tf?function(s,a,l,u){if(!dg(s.precondition,a))return l;const d=s.value.clone(),p=TB(s.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(r,e,t,n):r instanceof Vu?function(s,a,l,u){if(!dg(s.precondition,a))return l;const d=TB(s.fieldTransforms,u,a),p=a.data;return p.setAll(P_(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(r,e,t,n):function(s,a,l){return dg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(r,e,t)}function A3(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=U_(n.transform,i||null);s!=null&&(t===null&&(t=Us.empty()),t.set(n.field,s))}return t||null}function NB(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Dh(n,i,(s,a)=>n3(s,a))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tf extends bm{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vu extends bm{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function P_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function UB(r,e,t){const n=new Map;dr(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let i=0;i<t.length;i++){const s=r[i],a=s.transform,l=e.data.field(s.field);n.set(s.field,r3(a,l,t[i]))}return n}function TB(r,e,t){const n=new Map;for(const i of r){const s=i.transform,a=t.data.field(i.field);n.set(i.field,t3(s,a,e))}return n}class Lf extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R_ extends bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&s3(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Wd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Wd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=F_();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=t.has(i.key)?null:l;const u=k_(a,l);u!==null&&n.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Mt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ar())}isEqual(e){return this.batchId===e.batchId&&Dh(this.mutations,e.mutations,(t,n)=>NB(t,n))&&Dh(this.baseMutations,e.baseMutations,(t,n)=>NB(t,n))}}class v1{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){dr(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=function(){return XT}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new v1(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,cr;function D_(r){switch(r){case Ke.OK:return Qt(64938);case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0;default:return Qt(15467,{code:r})}}function O_(r){if(r===void 0)return ul("GRPC error has no .code"),Ke.UNKNOWN;switch(r){case qn.OK:return Ke.OK;case qn.CANCELLED:return Ke.CANCELLED;case qn.UNKNOWN:return Ke.UNKNOWN;case qn.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case qn.INTERNAL:return Ke.INTERNAL;case qn.UNAVAILABLE:return Ke.UNAVAILABLE;case qn.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case qn.NOT_FOUND:return Ke.NOT_FOUND;case qn.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case qn.ABORTED:return Ke.ABORTED;case qn.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case qn.DATA_LOSS:return Ke.DATA_LOSS;default:return Qt(39323,{code:r})}}(cr=qn||(qn={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new yu([4294967295,4294967295],0);function LB(r){const e=s_().encode(r),t=new YC;return t.update(e),new Uint8Array(t.digest())}function QB(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yu([t,n],0),new yu([i,s],0)]}class y1{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Qd(`Invalid padding: ${t}`);if(n<0)throw new Qd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Qd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Qd(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=yu.fromNumber(this.fe)}pe(e,t,n){let i=e.add(t.multiply(yu.fromNumber(n)));return i.compare(u3)===1&&(i=new yu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=LB(e),[n,i]=QB(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(n,i,s);if(!this.ye(a))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new y1(s,i,t);return n.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const t=LB(e),[n,i]=QB(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(n,i,s);this.we(a)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Qf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Em(Mt.min(),i,new vn(Jt),cl(),Ar())}}class Qf{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qf(n,t,Ar(),Ar(),Ar())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,n,i){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=i}}class M_{constructor(e,t){this.targetId=e,this.De=t}}class j_{constructor(e,t,n=ji.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class kB{constructor(){this.ve=0,this.Ce=PB(),this.Fe=ji.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ar(),t=Ar(),n=Ar();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Qt(38017,{changeType:s})}}),new Qf(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=PB()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,dr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class c3{constructor(e){this.We=e,this.Ge=new Map,this.ze=cl(),this.je=Sp(),this.Je=Sp(),this.He=new vn(Jt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Qt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((n,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,n=e.De.count,i=this.st(t);if(i){const s=i.target;if(Jw(s))if(n===0){const a=new Ut(s.path);this.Xe(t,a,_i.newNoDocument(a,Mt.min()))}else dr(n===1,20013,{expectedCount:n});else{const a=this.ot(t);if(a!==n){const l=this._t(e),u=l?this.ut(l,e,a):1;if(u!==0){this.rt(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let a,l;try{a=Fu(n).toUint8Array()}catch(u){if(u instanceof u_)return Eu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new y1(a,i,s)}catch(u){return Eu(u instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let i=0;return n.forEach(s=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Xe(t,s,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((s,a)=>{const l=this.st(a);if(l){if(s.current&&Jw(l.target)){const u=new Ut(l.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,_i.newNoDocument(u,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}});let n=Ar();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const d=this.st(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new Em(e,t,this.He,this.ze,n);return this.ze=cl(),this.je=Sp(),this.Je=Sp(),this.He=new vn(Jt),i}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new kB,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ai(Jt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ai(Jt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||mt("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kB),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Sp(){return new vn(Ut.comparator)}function PB(){return new vn(Ut.comparator)}const h3={asc:"ASCENDING",desc:"DESCENDING"},d3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f3={and:"AND",or:"OR"};class p3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ev(r,e){return r.useProto3Json||Uf(e)?e:{value:e}}function Vg(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function g3(r,e){return Vg(r,e.toTimestamp())}function bA(r){return dr(!!r,49232),Mt.fromTimestamp(function(t){const n=Su(t);return new Ir(n.seconds,n.nanos)}(r))}function B1(r,e){return tv(r,e).canonicalString()}function tv(r,e){const t=function(i){return new Mr(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function V_(r){const e=Mr.fromString(r);return dr($_(e),10190,{key:e.toString()}),e}function Kg(r,e){return B1(r.databaseId,e.path)}function $d(r,e){const t=V_(e);if(t.get(1)!==r.databaseId.projectId)throw new ut(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ut(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ut(q_(t))}function K_(r,e){return B1(r.databaseId,e)}function m3(r){const e=V_(r);return e.length===4?Mr.emptyPath():q_(e)}function rv(r){return new Mr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function q_(r){return dr(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function RB(r,e,t){return{name:Kg(r,e),fields:t.value.mapValue.fields}}function w3(r,e){return"found"in e?function(n,i){dr(!!i.found,43571),i.found.name,i.found.updateTime;const s=$d(n,i.found.name),a=bA(i.found.updateTime),l=i.found.createTime?bA(i.found.createTime):Mt.min(),u=new Us({mapValue:{fields:i.found.fields}});return _i.newFoundDocument(s,a,l,u)}(r,e):"missing"in e?function(n,i){dr(!!i.missing,3894),dr(!!i.readTime,22933);const s=$d(n,i.missing),a=bA(i.readTime);return _i.newNoDocument(s,a)}(r,e):Qt(7234,{result:e})}function v3(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Qt(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(dr(p===void 0||typeof p=="string",58123),ji.fromBase64String(p||"")):(dr(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ji.fromUint8Array(p||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const p=d.code===void 0?Ke.UNKNOWN:O_(d.code);return new ut(p,d.message||"")}(a);t=new j_(n,i,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=$d(r,n.document.name),s=bA(n.document.updateTime),a=n.document.createTime?bA(n.document.createTime):Mt.min(),l=new Us({mapValue:{fields:n.document.fields}}),u=_i.newFoundDocument(i,s,a,l),d=n.targetIds||[],p=n.removedTargetIds||[];t=new fg(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=$d(r,n.document),s=n.readTime?bA(n.readTime):Mt.min(),a=_i.newNoDocument(i,s),l=n.removedTargetIds||[];t=new fg([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=$d(r,n.document),s=n.removedTargetIds||[];t=new fg([],s,i,null)}else{if(!("filter"in e))return Qt(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new l3(i,s),l=n.targetId;t=new M_(l,a)}}return t}function G_(r,e){let t;if(e instanceof Tf)t={update:RB(r,e.key,e.value)};else if(e instanceof Lf)t={delete:Kg(r,e.key)};else if(e instanceof Vu)t={update:RB(r,e.key,e.data),updateMask:S3(e.fieldMask)};else{if(!(e instanceof R_))return Qt(16599,{Rt:e.type});t={verify:Kg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const l=a.transform;if(l instanceof jg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hg)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw Qt(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:g3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Qt(27497)}(r,e.precondition)),t}function y3(r,e){return r&&r.length>0?(dr(e!==void 0,14353),r.map(t=>function(i,s){let a=i.updateTime?bA(i.updateTime):bA(s);return a.isEqual(Mt.min())&&(a=bA(s)),new i3(a,i.transformResults||[])}(t,e))):[]}function B3(r,e){return{documents:[K_(r,e.path)]}}function x3(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=K_(r,i);const s=function(d){if(d.length!==0)return W_(Ra.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(B){return{field:gh(B.field),direction:b3(B.dir)}}(p))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=ev(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:t,parent:i}}function C3(r){let e=m3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){dr(n===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(w){const B=z_(w);return B instanceof Ra&&y_(B)?B.getFilters():[B]}(t.where));let a=[];t.orderBy&&(a=function(w){return w.map(B=>function(U){return new ff(mh(U.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(B))}(t.orderBy));let l=null;t.limit&&(l=function(w){let B;return B=typeof w=="object"?w.value:w,Uf(B)?null:B}(t.limit));let u=null;t.startAt&&(u=function(w){const B=!!w.before,y=w.values||[];return new Og(y,B)}(t.startAt));let d=null;return t.endAt&&(d=function(w){const B=!w.before,y=w.values||[];return new Og(y,B)}(t.endAt)),qT(e,i,a,s,l,"F",u,d)}function _3(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function z_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=mh(t.unaryFilter.field);return zn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=mh(t.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mh(t.unaryFilter.field);return zn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=mh(t.unaryFilter.field);return zn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qt(61313);default:return Qt(60726)}}(r):r.fieldFilter!==void 0?function(t){return zn.create(mh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qt(58110);default:return Qt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ra.create(t.compositeFilter.filters.map(n=>z_(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qt(1026)}}(t.compositeFilter.op))}(r):Qt(30097,{filter:r})}function b3(r){return h3[r]}function E3(r){return d3[r]}function I3(r){return f3[r]}function gh(r){return{fieldPath:r.canonicalString()}}function mh(r){return Oi.fromServerFormat(r.fieldPath)}function W_(r){return r instanceof zn?function(t){if(t.op==="=="){if(_B(t.value))return{unaryFilter:{field:gh(t.field),op:"IS_NAN"}};if(CB(t.value))return{unaryFilter:{field:gh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_B(t.value))return{unaryFilter:{field:gh(t.field),op:"IS_NOT_NAN"}};if(CB(t.value))return{unaryFilter:{field:gh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gh(t.field),op:E3(t.op),value:t.value}}}(r):r instanceof Ra?function(t){const n=t.getFilters().map(i=>W_(i));return n.length===1?n[0]:{compositeFilter:{op:I3(t.op),filters:n}}}(r):Qt(54877,{filter:r})}function S3(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t,n,i,s=Mt.min(),a=Mt.min(),l=ji.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.gt=e}}function N3(r){const e=C3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.Dn=new T3}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ge.resolve()}getCollectionParents(e,t){return Ge.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ge.resolve()}deleteFieldIndex(e,t){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,t){return Ge.resolve()}getDocumentsMatchingTarget(e,t){return Ge.resolve(null)}getIndexType(e,t){return Ge.resolve(0)}getFieldIndexes(e,t){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,t){return Ge.resolve(Iu.min())}getMinOffsetFromCollectionGroup(e,t){return Ge.resolve(Iu.min())}updateCollectionGroup(e,t,n){return Ge.resolve()}updateIndexEntries(e,t){return Ge.resolve()}}class T3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new ai(Mr.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ai(Mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X_=41943040;class Js{static withCacheSize(e){return new Js(e,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(X_,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new jh(0)}static ur(){return new jh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="LruGarbageCollector",L3=1048576;function MB([r,e],[t,n]){const i=Jt(r,t);return i===0?Jt(e,n):i}class Q3{constructor(e){this.Tr=e,this.buffer=new ai(MB),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();MB(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class k3{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){mt(OB,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yh(t)?mt(OB,"Ignoring IndexedDB error during garbage collection: ",t):await Xh(t)}await this.Rr(3e5)})}}class P3{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Ge.resolve(ym.ue);const n=new Q3(t);return this.Vr.forEachTarget(e,i=>n.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>n.Er(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(DB)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DB):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,i,s,a,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,a=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(n=w,l=Date.now(),this.removeTargets(e,n,t))).next(w=>(s=w,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(w=>(d=Date.now(),fh()<=sr.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${w} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:w})))}}function R3(r,e){return new P3(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.changes=new Qc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Ge.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Wd(n.mutation,i,xA.empty(),Ir.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Ar()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Ar()){const i=gc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(s=>{let a=Ld();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const n=gc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ar()))}populateOverlays(e,t,n){const i=[];return n.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,n,i){let s=cl();const a=zd(),l=function(){return zd()}();return t.forEach((u,d)=>{const p=n.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Vu)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),Wd(p.mutation,d,p.mutation.getFieldMask(),Ir.now())):a.set(d.key,xA.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>a.set(d,p)),t.forEach((d,p)=>{var w;return l.set(d,new O3(p,(w=a.get(d))!==null&&w!==void 0?w:null))}),l))}recalculateAndSaveOverlays(e,t){const n=zd();let i=new vn((a,l)=>a-l),s=Ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const l of a)l.keys().forEach(u=>{const d=t.get(u);if(d===null)return;let p=n.get(u)||xA.empty();p=l.applyToLocalView(d,p),n.set(u,p);const w=(i.get(l.batchId)||Ar()).add(u);i=i.insert(l.batchId,w)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,w=F_();p.forEach(B=>{if(!s.has(B)){const y=k_(t.get(B),n.get(B));y!==null&&w.set(B,y),s=s.add(B)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Ge.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(a){return Ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):__(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):Ge.resolve(gc());let l=uf,u=s;return a.next(d=>Ge.forEach(d,(p,w)=>(l<w.largestBatchId&&(l=w.largestBatchId),s.get(p)?Ge.resolve():this.remoteDocumentCache.getEntry(e,p).next(B=>{u=u.insert(p,B)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Ar())).next(p=>({batchId:l,changes:S_(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ut(t)).next(n=>{let i=Ld();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let a=Ld();return this.indexManager.getCollectionParents(e,s).next(l=>Ge.forEach(l,u=>{const d=function(w,B){return new Jh(B,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next(p=>{p.forEach((w,B)=>{a=a.insert(w,B)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i))).next(a=>{s.forEach((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,_i.newInvalidDocument(p)))});let l=Ld();return a.forEach((u,d)=>{const p=s.get(u);p!==void 0&&Wd(p.mutation,d,xA.empty(),Ir.now()),Cm(t,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ge.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:bA(i.createTime)}}(t)),Ge.resolve()}getNamedQuery(e,t){return Ge.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:N3(i.bundledQuery),readTime:bA(i.readTime)}}(t)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.overlays=new vn(Ut.comparator),this.kr=new Map}getOverlay(e,t){return Ge.resolve(this.overlays.get(t))}getOverlays(e,t){const n=gc();return Ge.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,s)=>{this.wt(e,t,s)}),Ge.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(n)),Ge.resolve()}getOverlaysForCollection(e,t,n){const i=gc(),s=t.length+1,a=new Ut(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new vn((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let p=s.get(d.largestBatchId);p===null&&(p=gc(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=gc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return Ge.resolve(l)}wt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new o3(t,n));let s=this.kr.get(t);s===void 0&&(s=Ar(),this.kr.set(t,s)),this.kr.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.sessionToken=ji.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.qr=new ai(xi.Qr),this.$r=new ai(xi.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new xi(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Wr(new xi(e,t))}Gr(e,t){e.forEach(n=>this.removeReference(n,t))}zr(e){const t=new Ut(new Mr([])),n=new xi(t,e),i=new xi(t,e+1),s=[];return this.$r.forEachInRange([n,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ut(new Mr([])),n=new xi(t,e),i=new xi(t,e+1);let s=Ar();return this.$r.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new xi(e,0),n=this.qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class xi{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ut.comparator(e.key,t.key)||Jt(e.Hr,t.Hr)}static Ur(e,t){return Jt(e.Hr,t.Hr)||Ut.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ai(xi.Qr)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new a3(s,t,n,i);this.mutationQueue.push(a);for(const l of i)this.Yr=this.Yr.add(new xi(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ge.resolve(a)}lookupMutationBatch(e,t){return Ge.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Xr(n),s=i<0?0:i;return Ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?h1:this.er-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xi(t,0),i=new xi(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([n,i],a=>{const l=this.Zr(a.Hr);s.push(l)}),Ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ai(Jt);return t.forEach(i=>{const s=new xi(i,0),a=new xi(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],l=>{n=n.add(l.Hr)})}),Ge.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;Ut.isDocumentKey(s)||(s=s.child(""));const a=new xi(new Ut(s),0);let l=new ai(Jt);return this.Yr.forEachWhile(u=>{const d=u.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Hr)),!0)},a),Ge.resolve(this.ei(l))}ei(e){const t=[];return e.forEach(n=>{const i=this.Zr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){dr(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return Ge.forEach(t.mutations,i=>{const s=new xi(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new xi(t,0),i=this.Yr.firstAfterOrEqual(n);return Ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.ni=e,this.docs=function(){return new vn(Ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,a=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ge.resolve(n?n.document.mutableCopy():_i.newInvalidDocument(t))}getEntries(e,t){let n=cl();return t.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():_i.newInvalidDocument(i))}),Ge.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=cl();const a=t.path,l=new Ut(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||CT(xT(p),n)<=0||(i.has(p.key)||Cm(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ge.resolve(s)}getAllFromCollectionGroup(e,t,n,i){Qt(9500)}ri(e,t){return Ge.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new G3(this)}getSize(e){return Ge.resolve(this.size)}}class G3 extends D3{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)}),Ge.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.persistence=e,this.ii=new Qc(t=>p1(t),g1),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.si=0,this.oi=new x1,this.targetCount=0,this._i=jh.ar()}forEachTarget(e,t){return this.ii.forEach((n,i)=>t(i)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Ge.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new jh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ge.resolve()}updateTargetData(e,t){return this.hr(t),Ge.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Ge.waitFor(s).next(()=>i)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Ge.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Ge.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ge.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ge.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Ge.resolve(n)}containsKey(e,t){return Ge.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t){this.ai={},this.overlays={},this.ui=new ym(0),this.ci=!1,this.ci=!0,this.li=new V3,this.referenceDelegate=e(this),this.hi=new z3(this),this.indexManager=new U3,this.remoteDocumentCache=function(i){return new q3(i)}(n=>this.referenceDelegate.Pi(n)),this.serializer=new F3(t),this.Ti=new j3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new H3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new K3(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){mt("MemoryPersistence","Starting transaction:",e);const i=new W3(this.ui.next());return this.referenceDelegate.Ii(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return Ge.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class W3 extends bT{constructor(e){super(),this.currentSequenceNumber=e}}class C1{constructor(e){this.persistence=e,this.Ai=new x1,this.Ri=null}static Vi(e){return new C1(e)}get mi(){if(this.Ri)return this.Ri;throw Qt(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Ge.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Ge.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ge.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.mi,n=>{const i=Ut.fromPath(n);return this.fi(e,i).next(s=>{s||t.removeEntry(i,Mt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(n=>{n?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ge.or([()=>Ge.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class qg{constructor(e,t){this.persistence=e,this.gi=new Qc(n=>ST(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=R3(this,t)}static Vi(e,t){return new qg(e,t)}Ii(){}di(e){return Ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}yr(e){let t=0;return this.gr(e,n=>{t++}).next(()=>t)}gr(e,t){return Ge.forEach(this.gi,(n,i)=>this.Sr(e,n,i).next(s=>s?Ge.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,t).next(l=>{l||(n++,s.removeEntry(a,Mt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ge.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ge.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cg(e.data.value)),t}Sr(e,t,n){return Ge.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return Ge.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=i}static Es(e,t){let n=Ar(),i=Ar();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _1(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return TS()?8:ET(hs())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.ps(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,t,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new $3;return this.ws(e,t,a).next(l=>{if(s.result=l,this.Rs)return this.Ss(e,t,a,l.size)})}).next(()=>s.result)}Ss(e,t,n,i){return n.documentReadCount<this.Vs?(fh()<=sr.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",ph(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ge.resolve()):(fh()<=sr.DEBUG&&mt("QueryEngine","Query:",ph(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(fh()<=sr.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",ph(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mo(t))):Ge.resolve())}ps(e,t){if(SB(t))return Ge.resolve(null);let n=mo(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Mg(t,null,"F"),n=mo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Ar(...s);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const d=this.bs(t,l);return this.Ds(t,d,a,u.readTime)?this.ps(e,Mg(t,null,"F")):this.vs(e,d,t,u)}))})))}ys(e,t,n,i){return SB(t)||i.isEqual(Mt.min())?Ge.resolve(null):this.gs.getDocuments(e,n).next(s=>{const a=this.bs(t,s);return this.Ds(t,a,n,i)?Ge.resolve(null):(fh()<=sr.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ph(t)),this.vs(e,a,t,BT(i,uf)).next(l=>l))})}bs(e,t){let n=new ai(E_(e));return t.forEach((i,s)=>{Cm(e,s)&&(n=n.add(s))}),n}Ds(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,n){return fh()<=sr.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",ph(t)),this.gs.getDocumentsMatchingQuery(e,t,Iu.min(),n)}vs(e,t,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="LocalStore",Y3=3e8;class J3{constructor(e,t,n,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new vn(Jt),this.Ms=new Qc(s=>p1(s),g1),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Z3(r,e,t,n){return new J3(r,e,t,n)}async function J_(r,e){const t=zt(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],l=[];let u=Ar();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(n,u).next(d=>({Bs:d,removedBatchIds:a,addedBatchIds:l}))})})}function eL(r,e){const t=zt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const w=d.batch,B=w.keys();let y=Ge.resolve();return B.forEach(U=>{y=y.next(()=>p.getEntry(u,U)).next(Q=>{const k=d.docVersions.get(U);dr(k!==null,48541),Q.version.compareTo(k)<0&&(w.applyToRemoteDocument(Q,d),Q.isValidDocument()&&(Q.setReadTime(d.commitVersion),p.addEntry(Q)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,w))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=Ar();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function Z_(r){const e=zt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function tL(r,e){const t=zt(r),n=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const l=[];e.targetChanges.forEach((p,w)=>{const B=i.get(w);if(!B)return;l.push(t.hi.removeMatchingKeys(s,p.removedDocuments,w).next(()=>t.hi.addMatchingKeys(s,p.addedDocuments,w)));let y=B.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?y=y.withResumeToken(ji.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,n)),i=i.insert(w,y),function(Q,k,M){return Q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Y3?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(B,y,p)&&l.push(t.hi.updateTargetData(s,y))});let u=cl(),d=Ar();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(rL(s,a,e.documentUpdates).next(p=>{u=p.Ls,d=p.ks})),!n.isEqual(Mt.min())){const p=t.hi.getLastRemoteSnapshotVersion(s).next(w=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(p)}return Ge.waitFor(l).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.Fs=i,s))}function rL(r,e,t){let n=Ar(),i=Ar();return t.forEach(s=>n=n.add(s)),e.getEntries(r,n).next(s=>{let a=cl();return t.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Mt.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):mt(b1,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{Ls:a,ks:i}})}function nL(r,e){const t=zt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=h1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function iL(r,e){const t=zt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.hi.getTargetData(n,e).next(s=>s?(i=s,Ge.resolve(i)):t.hi.allocateTargetId(n).next(a=>(i=new cu(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.hi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(n.targetId,n),t.Ms.set(e,n.targetId)),n})}async function nv(r,e,t){const n=zt(r),i=n.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Yh(a))throw a;mt(b1,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function jB(r,e,t){const n=zt(r);let i=Mt.min(),s=Ar();return n.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,p){const w=zt(u),B=w.Ms.get(p);return B!==void 0?Ge.resolve(w.Fs.get(B)):w.hi.getTargetData(d,p)}(n,a,mo(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>n.Cs.getDocumentsMatchingQuery(a,e,t?i:Mt.min(),t?s:Ar())).next(l=>(sL(n,zT(e),l),{documents:l,qs:s})))}function sL(r,e,t){let n=r.xs.get(e)||Mt.min();t.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.xs.set(e,n)}class HB{constructor(){this.activeTargetIds=ZT()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AL{constructor(){this.Fo=new HB,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new HB,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="ConnectivityMonitor";class KB{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){mt(VB,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){mt(VB,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp=null;function iv(){return Fp===null?Fp=function(){return 268435456+Math.round(2147483648*Math.random())}():Fp++,"0x"+Fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="RestConnection",oL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===Rg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,t,n,i,s){const a=iv(),l=this.Go(e,t.toUriEncodedString());mt(Y0,`Sending RPC '${e}' ${a}:`,l,n);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,s);const{host:d}=new URL(l),p=Ou(d);return this.jo(e,l,u,n,p).then(w=>(mt(Y0,`Received RPC '${e}' ${a}: `,w),w),w=>{throw Eu(Y0,`RPC '${e}' ${a} failed with error: `,w,"url: ",l,"request:",n),w})}Jo(e,t,n,i,s,a){return this.Wo(e,t,n,i,s)}zo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$h}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}Go(e,t){const n=oL[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="WebChannelConnection";class cL extends lL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,i,s){const a=iv();return new Promise((l,u)=>{const d=new JC;d.setWithCredentials(!0),d.listenOnce(ZC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ug.NO_ERROR:const w=d.getResponseJson();mt(rs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),l(w);break;case ug.TIMEOUT:mt(rs,`RPC '${e}' ${a} timed out`),u(new ut(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const B=d.getStatus();if(mt(rs,`RPC '${e}' ${a} failed with status:`,B,"response text:",d.getResponseText()),B>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const U=y?.error;if(U&&U.status&&U.message){const Q=function(M){const D=M.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(D)>=0?D:Ke.UNKNOWN}(U.status);u(new ut(Q,U.message))}else u(new ut(Ke.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ut(Ke.UNAVAILABLE,"Connection failed."));break;default:Qt(9055,{c_:e,streamId:a,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{mt(rs,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);mt(rs,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",p,n,15)})}P_(e,t,n){const i=iv(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=r_(),l=t_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const p=s.join("");mt(rs,`Creating RPC '${e}' stream ${i}: ${p}`,u);const w=a.createWebChannel(p,u);this.T_(w);let B=!1,y=!1;const U=new uL({Ho:k=>{y?mt(rs,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(B||(mt(rs,`Opening RPC '${e}' stream ${i} transport.`),w.open(),B=!0),mt(rs,`RPC '${e}' stream ${i} sending:`,k),w.send(k))},Yo:()=>w.close()}),Q=(k,M,D)=>{k.listen(M,q=>{try{D(q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return Q(w,Td.EventType.OPEN,()=>{y||(mt(rs,`RPC '${e}' stream ${i} transport opened.`),U.s_())}),Q(w,Td.EventType.CLOSE,()=>{y||(y=!0,mt(rs,`RPC '${e}' stream ${i} transport closed`),U.__(),this.I_(w))}),Q(w,Td.EventType.ERROR,k=>{y||(y=!0,Eu(rs,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),U.__(new ut(Ke.UNAVAILABLE,"The operation could not be completed")))}),Q(w,Td.EventType.MESSAGE,k=>{var M;if(!y){const D=k.data[0];dr(!!D,16349);const q=D,ee=q?.error||((M=q[0])===null||M===void 0?void 0:M.error);if(ee){mt(rs,`RPC '${e}' stream ${i} received error:`,ee);const K=ee.status;let J=function(I){const j=qn[I];if(j!==void 0)return O_(j)}(K),O=ee.message;J===void 0&&(J=Ke.INTERNAL,O="Unknown error status: "+K+" with message "+ee.message),y=!0,U.__(new ut(J,O)),w.close()}else mt(rs,`RPC '${e}' stream ${i} received:`,D),U.a_(D)}}),Q(l,e_.STAT_EVENT,k=>{k.stat===zw.PROXY?mt(rs,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===zw.NOPROXY&&mt(rs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{U.o_()},0),U}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function J0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r){return new p3(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t,n=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-n);i>0&&mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="PersistentStream";class eb{constructor(e,t,n,i,s,a,l,u){this.Fi=e,this.w_=n,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new E1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ke.RESOURCE_EXHAUSTED?(ul(t.toString()),ul("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.b_===t&&this.W_(n,i)},n=>{e(()=>{const i=new ut(Ke.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{n(()=>this.G_(i))}),this.stream.onMessage(i=>{n(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return mt(qB,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(mt(qB,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hL extends eb{constructor(e,t,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=v3(this.serializer,e),n=function(s){if(!("targetChange"in s))return Mt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?bA(a.readTime):Mt.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=rv(this.serializer),t.addTarget=function(s,a){let l;const u=a.target;if(l=Jw(u)?{documents:B3(s,u)}:{query:x3(s,u).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=H_(s,a.resumeToken);const d=ev(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Mt.min())>0){l.readTime=Vg(s,a.snapshotVersion.toTimestamp());const d=ev(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const n=_3(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=rv(this.serializer),t.removeTarget=e,this.k_(t)}}class dL extends eb{constructor(e,t,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return dr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){dr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=y3(e.writeResults,e.commitTime),n=bA(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=rv(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>G_(this.serializer,n))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{}class pL extends fL{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ut(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,tv(t,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(Ke.UNKNOWN,s.toString())})}Jo(e,t,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,tv(t,n),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ut(Ke.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class gL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ul(t),this._a=!1):mt("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="RemoteStore";class mL{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{n.enqueueAndForget(async()=>{kc(this)&&(mt(Ic,"Restarting streams for network reachability change."),await async function(u){const d=zt(u);d.Ia.add(4),await kf(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Sm(d)}(this))})}),this.Aa=new gL(n,i)}}async function Sm(r){if(kc(r))for(const e of r.da)await e(!0)}async function kf(r){for(const e of r.da)await e(!1)}function tb(r,e){const t=zt(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),N1(t)?F1(t):Zh(t).x_()&&S1(t,e))}function I1(r,e){const t=zt(r),n=Zh(t);t.Ta.delete(e),n.x_()&&rb(t,e),t.Ta.size===0&&(n.x_()?n.B_():kc(t)&&t.Aa.set("Unknown"))}function S1(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zh(r).H_(e)}function rb(r,e){r.Ra.$e(e),Zh(r).Y_(e)}function F1(r){r.Ra=new c3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Zh(r).start(),r.Aa.aa()}function N1(r){return kc(r)&&!Zh(r).M_()&&r.Ta.size>0}function kc(r){return zt(r).Ia.size===0}function nb(r){r.Ra=void 0}async function wL(r){r.Aa.set("Online")}async function vL(r){r.Ta.forEach((e,t)=>{S1(r,e)})}async function yL(r,e){nb(r),N1(r)?(r.Aa.la(e),F1(r)):r.Aa.set("Unknown")}async function BL(r,e,t){if(r.Aa.set("Online"),e instanceof j_&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ta.delete(l),i.Ra.removeTarget(l))}(r,e)}catch(n){mt(Ic,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Gg(r,n)}else if(e instanceof fg?r.Ra.Ye(e):e instanceof M_?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Mt.min()))try{const n=await Z_(r.localStore);t.compareTo(n)>=0&&await function(s,a){const l=s.Ra.Pt(a);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ta.get(d);p&&s.Ta.set(d,p.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,d)=>{const p=s.Ta.get(u);if(!p)return;s.Ta.set(u,p.withResumeToken(ji.EMPTY_BYTE_STRING,p.snapshotVersion)),rb(s,u);const w=new cu(p.target,u,d,p.sequenceNumber);S1(s,w)}),s.remoteSyncer.applyRemoteEvent(l)}(r,t)}catch(n){mt(Ic,"Failed to raise snapshot:",n),await Gg(r,n)}}async function Gg(r,e,t){if(!Yh(e))throw e;r.Ia.add(1),await kf(r),r.Aa.set("Offline"),t||(t=()=>Z_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{mt(Ic,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Sm(r)})}function ib(r,e){return e().catch(t=>Gg(r,t,e))}async function Fm(r){const e=zt(r),t=Uu(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:h1;for(;xL(e);)try{const i=await nL(e.localStore,n);if(i===null){e.Pa.length===0&&t.B_();break}n=i.batchId,CL(e,i)}catch(i){await Gg(e,i)}sb(e)&&Ab(e)}function xL(r){return kc(r)&&r.Pa.length<10}function CL(r,e){r.Pa.push(e);const t=Uu(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function sb(r){return kc(r)&&!Uu(r).M_()&&r.Pa.length>0}function Ab(r){Uu(r).start()}async function _L(r){Uu(r).na()}async function bL(r){const e=Uu(r);for(const t of r.Pa)e.X_(t.mutations)}async function EL(r,e,t){const n=r.Pa.shift(),i=v1.from(n,e,t);await ib(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Fm(r)}async function IL(r,e){e&&Uu(r).Z_&&await async function(n,i){if(function(a){return D_(a)&&a!==Ke.ABORTED}(i.code)){const s=n.Pa.shift();Uu(n).N_(),await ib(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fm(n)}}(r,e),sb(r)&&Ab(r)}async function GB(r,e){const t=zt(r);t.asyncQueue.verifyOperationInProgress(),mt(Ic,"RemoteStore received new credentials");const n=kc(t);t.Ia.add(3),await kf(t),n&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Sm(t)}async function SL(r,e){const t=zt(r);e?(t.Ia.delete(2),await Sm(t)):e||(t.Ia.add(2),await kf(t),t.Aa.set("Unknown"))}function Zh(r){return r.Va||(r.Va=function(t,n,i){const s=zt(t);return s.ia(),new hL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Zo:wL.bind(null,r),e_:vL.bind(null,r),n_:yL.bind(null,r),J_:BL.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),N1(r)?F1(r):r.Aa.set("Unknown")):(await r.Va.stop(),nb(r))})),r.Va}function Uu(r){return r.ma||(r.ma=function(t,n,i){const s=zt(t);return s.ia(),new dL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:_L.bind(null,r),n_:IL.bind(null,r),ea:bL.bind(null,r),ta:EL.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Fm(r)):(await r.ma.stop(),r.Pa.length>0&&(mt(Ic,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const a=Date.now()+n,l=new U1(e,t,a,i,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T1(r,e){if(ul("AsyncQueue",`${e}: ${r}`),Yh(r))return new ut(Ke.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{static emptySet(e){return new Nh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ut.comparator(t.key,n.key):(t,n)=>Ut.comparator(t.key,n.key),this.keyedMap=Ld(),this.sortedSet=new vn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Nh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.fa=new vn(Ut.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(t,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(t):e.type===1&&n.type===2?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Qt(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Hh{constructor(e,t,n,i,s,a,l,u,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,s){const a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new Hh(e,t,Nh.emptySet(t),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class NL{constructor(){this.queries=WB(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,n){const i=zt(t),s=i.queries;i.queries=WB(),s.forEach((a,l)=>{for(const u of l.wa)u.onError(n)})})(this,new ut(Ke.ABORTED,"Firestore shutting down"))}}function WB(){return new Qc(r=>b_(r),xm)}async function ab(r,e){const t=zt(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(n=2):(s=new FL,n=e.ba()?0:1);try{switch(n){case 0:s.ya=await t.onListen(i,!0);break;case 1:s.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const l=T1(a,`Initialization of query '${ph(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&L1(t)}async function ob(r,e){const t=zt(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function UL(r,e){const t=zt(r);let n=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const l of a.wa)l.Ca(i)&&(n=!0);a.ya=i}}n&&L1(t)}function TL(r,e,t){const n=zt(r),i=n.queries.get(e);if(i)for(const s of i.wa)s.onError(t);n.queries.delete(e)}function L1(r){r.Da.forEach(e=>{e.next()})}var sv,$B;($B=sv||(sv={})).Fa="default",$B.Cache="cache";class lb{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Hh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const n=t!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.key=e}}class cb{constructor(e){this.key=e}}class LL{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ar(),this.mutatedKeys=Ar(),this.Xa=E_(e),this.eu=new Nh(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new zB,i=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,w)=>{const B=i.get(p),y=Cm(this.query,w)?w:null,U=!!B&&this.mutatedKeys.has(B.key),Q=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let k=!1;B&&y?B.data.isEqual(y.data)?U!==Q&&(n.track({type:3,doc:y}),k=!0):this.iu(B,y)||(n.track({type:2,doc:y}),k=!0,(u&&this.Xa(y,u)>0||d&&this.Xa(y,d)<0)&&(l=!0)):!B&&y?(n.track({type:0,doc:y}),k=!0):B&&!y&&(n.track({type:1,doc:B}),k=!0,(u||d)&&(l=!0)),k&&(y?(a=a.add(y),s=Q?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{eu:a,ru:n,Ds:l,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((p,w)=>function(y,U){const Q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt(20277,{At:k})}};return Q(y)-Q(U)}(p.type,w.type)||this.Xa(p.doc,w.doc)),this.su(n),i=i!=null&&i;const l=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,d=u!==this.Ya;return this.Ya=u,a.length!==0||d?{snapshot:new Hh(this.query,e.eu,s,a,e.mutatedKeys,u===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zB,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ar(),this.eu.forEach(n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))});const t=[];return e.forEach(n=>{this.Za.has(n)||t.push(new cb(n))}),this.Za.forEach(n=>{e.has(n)||t.push(new ub(n))}),t}uu(e){this.Ha=e.qs,this.Za=Ar();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Hh.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Q1="SyncEngine";class QL{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kL{constructor(e){this.key=e,this.lu=!1}}class PL{constructor(e,t,n,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Qc(l=>b_(l),xm),this.Tu=new Map,this.Iu=new Set,this.du=new vn(Ut.comparator),this.Eu=new Map,this.Au=new x1,this.Ru={},this.Vu=new Map,this.mu=jh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function RL(r,e,t=!0){const n=mb(r);let i;const s=n.Pu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await hb(n,e,t,!0),i}async function DL(r,e){const t=mb(r);await hb(t,e,!0,!1)}async function hb(r,e,t,n){const i=await iL(r.localStore,mo(e)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,t);let l;return n&&(l=await OL(r,e,s,a==="current",i.resumeToken)),r.isPrimaryClient&&t&&tb(r.remoteStore,i),l}async function OL(r,e,t,n,i){r.gu=(w,B,y)=>async function(Q,k,M,D){let q=k.view.nu(M);q.Ds&&(q=await jB(Q.localStore,k.query,!1).then(({documents:O})=>k.view.nu(O,q)));const ee=D&&D.targetChanges.get(k.targetId),K=D&&D.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(q,Q.isPrimaryClient,ee,K);return YB(Q,k.targetId,J._u),J.snapshot}(r,w,B,y);const s=await jB(r.localStore,e,!0),a=new LL(e,s.qs),l=a.nu(s.documents),u=Qf.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=a.applyChanges(l,r.isPrimaryClient,u);YB(r,t,d._u);const p=new QL(e,t,a);return r.Pu.set(e,p),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),d.snapshot}async function ML(r,e,t){const n=zt(r),i=n.Pu.get(e),s=n.Tu.get(i.targetId);if(s.length>1)return n.Tu.set(i.targetId,s.filter(a=>!xm(a,e))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await nv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&I1(n.remoteStore,i.targetId),Av(n,i.targetId)}).catch(Xh)):(Av(n,i.targetId),await nv(n.localStore,i.targetId,!0))}async function jL(r,e){const t=zt(r),n=t.Pu.get(e),i=t.Tu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),I1(t.remoteStore,n.targetId))}async function HL(r,e,t){const n=$L(r);try{const i=await function(a,l){const u=zt(a),d=Ir.now(),p=l.reduce((y,U)=>y.add(U.key),Ar());let w,B;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let U=cl(),Q=Ar();return u.Os.getEntries(y,p).next(k=>{U=k,U.forEach((M,D)=>{D.isValidDocument()||(Q=Q.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,U)).next(k=>{w=k;const M=[];for(const D of l){const q=A3(D,w.get(D.key).overlayedDocument);q!=null&&M.push(new Vu(D.key,q,m_(q.value.mapValue),Wn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,M,l)}).next(k=>{B=k;const M=k.applyToLocalDocumentSet(w,Q);return u.documentOverlayCache.saveOverlays(y,k.batchId,M)})}).then(()=>({batchId:B.batchId,changes:S_(w)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let d=a.Ru[a.currentUser.toKey()];d||(d=new vn(Jt)),d=d.insert(l,u),a.Ru[a.currentUser.toKey()]=d}(n,i.batchId,t),await Pf(n,i.changes),await Fm(n.remoteStore)}catch(i){const s=T1(i,"Failed to persist write");t.reject(s)}}async function db(r,e){const t=zt(r);try{const n=await tL(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Eu.get(s);a&&(dr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?dr(a.lu,14607):i.removedDocuments.size>0&&(dr(a.lu,42227),a.lu=!1))}),await Pf(t,n,e)}catch(n){await Xh(n)}}function XB(r,e,t){const n=zt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Pu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=zt(a);u.onlineState=l;let d=!1;u.queries.forEach((p,w)=>{for(const B of w.wa)B.va(l)&&(d=!0)}),d&&L1(u)}(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function VL(r,e,t){const n=zt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Eu.get(e),s=i&&i.key;if(s){let a=new vn(Ut.comparator);a=a.insert(s,_i.newNoDocument(s,Mt.min()));const l=Ar().add(s),u=new Em(Mt.min(),new Map,new vn(Jt),a,l);await db(n,u),n.du=n.du.remove(s),n.Eu.delete(e),k1(n)}else await nv(n.localStore,e,!1).then(()=>Av(n,e,t)).catch(Xh)}async function KL(r,e){const t=zt(r),n=e.batch.batchId;try{const i=await eL(t.localStore,e);pb(t,n,null),fb(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Pf(t,i)}catch(i){await Xh(i)}}async function qL(r,e,t){const n=zt(r);try{const i=await function(a,l){const u=zt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(w=>(dr(w!==null,37113),p=w.keys(),u.mutationQueue.removeMutationBatch(d,w))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(n.localStore,e);pb(n,e,t),fb(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Pf(n,i)}catch(i){await Xh(i)}}function fb(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function pb(r,e,t){const n=zt(r);let i=n.Ru[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function Av(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Tu.get(e))r.Pu.delete(n),t&&r.hu.pu(n,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(n=>{r.Au.containsKey(n)||gb(r,n)})}function gb(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(I1(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),k1(r))}function YB(r,e,t){for(const n of t)n instanceof ub?(r.Au.addReference(n.key,e),GL(r,n)):n instanceof cb?(mt(Q1,"Document no longer in limbo: "+n.key),r.Au.removeReference(n.key,e),r.Au.containsKey(n.key)||gb(r,n.key)):Qt(19791,{yu:n})}function GL(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Iu.has(n)||(mt(Q1,"New document in limbo: "+t),r.Iu.add(n),k1(r))}function k1(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new Ut(Mr.fromString(e)),n=r.mu.next();r.Eu.set(n,new kL(t)),r.du=r.du.insert(t,n),tb(r.remoteStore,new cu(mo(m1(t.path)),n,"TargetPurposeLimboResolution",ym.ue))}}async function Pf(r,e,t){const n=zt(r),i=[],s=[],a=[];n.Pu.isEmpty()||(n.Pu.forEach((l,u)=>{a.push(n.gu(u,e,t).then(d=>{var p;if((d||t)&&n.isPrimaryClient){const w=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(u.targetId,w?"current":"not-current")}if(d){i.push(d);const w=_1.Es(u.targetId,d);s.push(w)}}))}),await Promise.all(a),n.hu.J_(i),await async function(u,d){const p=zt(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Ge.forEach(d,B=>Ge.forEach(B.Is,y=>p.persistence.referenceDelegate.addReference(w,B.targetId,y)).next(()=>Ge.forEach(B.ds,y=>p.persistence.referenceDelegate.removeReference(w,B.targetId,y)))))}catch(w){if(!Yh(w))throw w;mt(b1,"Failed to update sequence numbers: "+w)}for(const w of d){const B=w.targetId;if(!w.fromCache){const y=p.Fs.get(B),U=y.snapshotVersion,Q=y.withLastLimboFreeSnapshotVersion(U);p.Fs=p.Fs.insert(B,Q)}}}(n.localStore,s))}async function zL(r,e){const t=zt(r);if(!t.currentUser.isEqual(e)){mt(Q1,"User change. New user:",e.toKey());const n=await J_(t.localStore,e);t.currentUser=e,function(s,a){s.Vu.forEach(l=>{l.forEach(u=>{u.reject(new ut(Ke.CANCELLED,a))})}),s.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Pf(t,n.Bs)}}function WL(r,e){const t=zt(r),n=t.Eu.get(e);if(n&&n.lu)return Ar().add(n.key);{let i=Ar();const s=t.Tu.get(e);if(!s)return i;for(const a of s){const l=t.Pu.get(a);i=i.unionWith(l.view.tu)}return i}}function mb(r){const e=zt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.hu.J_=UL.bind(null,e.eventManager),e.hu.pu=TL.bind(null,e.eventManager),e}function $L(r){const e=zt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qL.bind(null,e),e}class zg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Im(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Z3(this.persistence,new X3,e.initialUser,this.serializer)}Du(e){return new Y_(C1.Vi,this.serializer)}bu(e){return new AL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zg.provider={build:()=>new zg};class XL extends zg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){dr(this.persistence.referenceDelegate instanceof qg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new k3(n,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new Y_(n=>qg.Vi(n,t),this.serializer)}}class av{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>XB(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zL.bind(null,this.syncEngine),await SL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NL}()}createDatastore(e){const t=Im(e.databaseInfo.databaseId),n=function(s){return new cL(s)}(e.databaseInfo);return function(s,a,l,u){return new pL(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,s,a,l){return new mL(n,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,t=>XB(this.syncEngine,t,0),function(){return KB.C()?new KB:new aL}())}createSyncEngine(e,t){return function(i,s,a,l,u,d,p){const w=new PL(i,s,a,l,u,d);return p&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=zt(i);mt(Ic,"RemoteStore shutting down."),s.Ia.add(5),await kf(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}av.provider={build:()=>new av};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ul("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const a=zt(i),l={documents:s.map(w=>Kg(a.serializer,w))},u=await a.Jo("BatchGetDocuments",a.serializer.databaseId,Mr.emptyPath(),l,s.length),d=new Map;u.forEach(w=>{const B=w3(a.serializer,w);d.set(B.key.toString(),B)});const p=[];return s.forEach(w=>{const B=d.get(w.toString());dr(!!B,55234,{key:w}),p.push(B)}),p}(this.datastore,e);return t.forEach(n=>this.recordVersion(n)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,n)=>{const i=Ut.fromPath(n);this.mutations.push(new R_(i,this.precondition(i)))}),await async function(n,i){const s=zt(n),a={writes:i.map(l=>G_(s.serializer,l))};await s.Wo("Commit",s.serializer.databaseId,Mr.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qt(50498,{Wu:e.constructor.name});t=Mt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ut(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?Wn.exists(!1):Wn.updateTime(t):Wn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new ut(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wn.updateTime(t)}return Wn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,t,n,i,s){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=s,this.Gu=n.maxAttempts,this.F_=new E1(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new YL(this.datastore),t=this.Ju(e);t&&t.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(i=>{this.Hu(i)}))}).catch(n=>{this.Hu(n)})})}Ju(e){try{const t=this.updateFunction(e);return!Uf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!D_(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="FirestoreClient";class ZL{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=os.UNAUTHENTICATED,this.clientId=c1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{mt(Tu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(mt(Tu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=T1(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Z0(r,e){r.asyncQueue.verifyOperationInProgress(),mt(Tu,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await J_(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>{Eu("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{mt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Eu("Terminating Firestore due to IndexedDb database deletion failed",i)})}),r._offlineComponents=e}async function JB(r,e){r.asyncQueue.verifyOperationInProgress();const t=await eQ(r);mt(Tu,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>GB(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>GB(e.remoteStore,i)),r._onlineComponents=e}async function eQ(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mt(Tu,"Using user provided OfflineComponentProvider");try{await Z0(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ke.FAILED_PRECONDITION||i.code===Ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Eu("Error using user provided cache. Falling back to memory cache: "+t),await Z0(r,new zg)}}else mt(Tu,"Using default OfflineComponentProvider"),await Z0(r,new XL(void 0));return r._offlineComponents}async function P1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mt(Tu,"Using user provided OnlineComponentProvider"),await JB(r,r._uninitializedComponentsProvider._online)):(mt(Tu,"Using default OnlineComponentProvider"),await JB(r,new av))),r._onlineComponents}function tQ(r){return P1(r).then(e=>e.syncEngine)}function rQ(r){return P1(r).then(e=>e.datastore)}async function vb(r){const e=await P1(r),t=e.eventManager;return t.onListen=RL.bind(null,e.syncEngine),t.onUnlisten=ML.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jL.bind(null,e.syncEngine),t}function nQ(r,e,t={}){const n=new go;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const p=new wb({next:B=>{p.Ou(),a.enqueueAndForget(()=>ob(s,w));const y=B.docs.has(l);!y&&B.fromCache?d.reject(new ut(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&B.fromCache&&u&&u.source==="server"?d.reject(new ut(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(B)},error:B=>d.reject(B)}),w=new lb(m1(l.path),p,{includeMetadataChanges:!0,ka:!0});return ab(s,w)}(await vb(r),r.asyncQueue,e,t,n)),n.promise}function iQ(r,e,t={}){const n=new go;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,d){const p=new wb({next:B=>{p.Ou(),a.enqueueAndForget(()=>ob(s,w)),B.fromCache&&u.source==="server"?d.reject(new ut(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(B)},error:B=>d.reject(B)}),w=new lb(l,p,{includeMetadataChanges:!0,ka:!0});return ab(s,w)}(await vb(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firestore.googleapis.com",e5=!0;class t5{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=e5}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:e5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L3)throw new ut(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new cT;switch(n.type){case"firstParty":return new pT(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ut(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=ZB.get(t);n&&(mt("ComponentProvider","Removing Datastore"),ZB.delete(t),n.terminate())}(this),Promise.resolve()}}function sQ(r,e,t,n={}){var i;r=EA(r,Nm);const s=Ou(e),a=r._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:r._getEmulatorOptions()}),u=`${e}:${t}`;s&&(Xv(`https://${u}`),Yv("Firestore",!0)),a.host!==Bb&&a.host!==u&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:n});if(!xc(d,l)&&(r._setSettings(d),n.mockUserToken)){let p,w;if(typeof n.mockUserToken=="string")p=n.mockUserToken,w=os.MOCK_USER;else{p=cC(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const B=n.mockUserToken.sub||n.mockUserToken.user_id;if(!B)throw new ut(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new os(B)}r._authCredentials=new hT(new i_(p,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ku(this.firestore,e,this._query)}}class Sn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}toJSON(){return{type:Sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Nf(t,Sn._jsonSchema))return new Sn(e,n||null,new Ut(Mr.fromString(t.referencePath)))}}Sn._jsonSchemaVersion="firestore/documentReference/1.0",Sn._jsonSchema={type:$n("string",Sn._jsonSchemaVersion),referencePath:$n("string")};class Bu extends Ku{constructor(e,t,n){super(e,t,m1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Ut(e))}withConverter(e){return new Bu(this.firestore,e,this._path)}}function hr(r,e,...t){if(r=sn(r),A_("collection","path",e),r instanceof Nm){const n=Mr.fromString(e,...t);return fB(n),new Bu(r,null,n)}{if(!(r instanceof Sn||r instanceof Bu))throw new ut(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Mr.fromString(e,...t));return fB(n),new Bu(r.firestore,null,n)}}function zr(r,e,...t){if(r=sn(r),arguments.length===1&&(e=c1.newId()),A_("doc","path",e),r instanceof Nm){const n=Mr.fromString(e,...t);return dB(n),new Sn(r,null,new Ut(n))}{if(!(r instanceof Sn||r instanceof Bu))throw new ut(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Mr.fromString(e,...t));return dB(n),new Sn(r.firestore,r instanceof Bu?r.converter:null,new Ut(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="AsyncQueue";class n5{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new E1(this,"async_queue_retry"),this.oc=()=>{const n=J0();n&&mt(r5,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const t=J0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=J0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new go;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Yh(e))throw e;mt(r5,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(n=>{throw this.tc=n,this.nc=!1,ul("INTERNAL UNHANDLED ERROR: ",i5(n)),n}).then(n=>(this.nc=!1,n))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=U1.createAndSchedule(this,e,t,n,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Qt(47125,{hc:i5(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function i5(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class fl extends Nm{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new n5,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n5(e),this._firestoreClient=void 0,await e}}}function AQ(r,e){const t=typeof r=="object"?r:e1(),n=typeof r=="string"?r:Rg,i=pm(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=oC("firestore");s&&sQ(i,...s)}return i}function Rf(r){if(r._terminated)throw new ut(Ke.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aQ(r),r._firestoreClient}function aQ(r){var e,t,n;const i=r._freezeSettings(),s=function(l,u,d,p){return new UT(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new ZL(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new BA(ji.fromBase64String(e))}catch(t){throw new ut(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new BA(ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:BA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nf(e,BA._jsonSchema))return BA.fromBase64String(e.bytes)}}BA._jsonSchemaVersion="firestore/bytes/1.0",BA._jsonSchema={type:$n("string",BA._jsonSchemaVersion),bytes:$n("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ut(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wo._jsonSchemaVersion}}static fromJSON(e){if(Nf(e,wo._jsonSchema))return new wo(e.latitude,e.longitude)}}wo._jsonSchemaVersion="firestore/geoPoint/1.0",wo._jsonSchema={type:$n("string",wo._jsonSchemaVersion),latitude:$n("number"),longitude:$n("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nf(e,vo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new vo(e.vectorValues);throw new ut(Ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vo._jsonSchemaVersion="firestore/vectorValue/1.0",vo._jsonSchema={type:$n("string",vo._jsonSchemaVersion),vectorValues:$n("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=/^__.*__$/;class lQ{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tf(e,this.data,t,this.fieldTransforms)}}class xb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt(40011,{Ec:r})}}class D1{constructor(e,t,n,i,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new D1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Cb(this.Ec)&&oQ.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class uQ{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Im(e)}Dc(e,t,n,i=!1){return new D1({Ec:e,methodName:t,bc:n,path:Oi.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function td(r){const e=r._freezeSettings(),t=Im(r._databaseId);return new uQ(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Um(r,e,t,n,i,s={}){const a=r.Dc(s.merge||s.mergeFields?2:0,e,t,i);j1("Data must be an object, but it was:",a,n);const l=_b(n,a);let u,d;if(s.merge)u=new xA(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const w of s.mergeFields){const B=ov(e,w,t);if(!a.contains(B))throw new ut(Ke.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Eb(p,B)||p.push(B)}u=new xA(p),d=a.fieldTransforms.filter(w=>u.covers(w.field))}else u=null,d=a.fieldTransforms;return new lQ(new Us(l),u,d)}class Tm extends R1{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tm}}function O1(r,e,t,n){const i=r.Dc(1,e,t);j1("Data must be an object, but it was:",i,n);const s=[],a=Us.empty();Hu(n,(u,d)=>{const p=H1(e,u,t);d=sn(d);const w=i.gc(p);if(d instanceof Tm)s.push(p);else{const B=Df(d,w);B!=null&&(s.push(p),a.set(p,B))}});const l=new xA(s);return new xb(a,l,i.fieldTransforms)}function M1(r,e,t,n,i,s){const a=r.Dc(1,e,t),l=[ov(e,n,t)],u=[i];if(s.length%2!=0)throw new ut(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<s.length;B+=2)l.push(ov(e,s[B])),u.push(s[B+1]);const d=[],p=Us.empty();for(let B=l.length-1;B>=0;--B)if(!Eb(d,l[B])){const y=l[B];let U=u[B];U=sn(U);const Q=a.gc(y);if(U instanceof Tm)d.push(y);else{const k=Df(U,Q);k!=null&&(d.push(y),p.set(y,k))}}const w=new xA(d);return new xb(p,w,a.fieldTransforms)}function cQ(r,e,t,n=!1){return Df(t,r.Dc(n?4:3,e))}function Df(r,e){if(bb(r=sn(r)))return j1("Unsupported field value:",e,r),_b(r,e);if(r instanceof R1)return function(n,i){if(!Cb(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const l of n){let u=Df(l,i.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(r,e)}return function(n,i){if((n=sn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return e3(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ir.fromDate(n);return{timestampValue:Vg(i.serializer,s)}}if(n instanceof Ir){const s=new Ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vg(i.serializer,s)}}if(n instanceof wo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof BA)return{bytesValue:H_(i.serializer,n._byteString)};if(n instanceof Sn){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:B1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof vo)return function(a,l){return{mapValue:{fields:{[p_]:{stringValue:g_},[Dg]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.wc("VectorValues must only contain numeric values.");return w1(l.serializer,d)})}}}}}}(n,i);throw i.wc(`Unsupported field value: ${vm(n)}`)}(r,e)}function _b(r,e){const t={};return l_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(r,(n,i)=>{const s=Df(i,e.Vc(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function bb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ir||r instanceof wo||r instanceof BA||r instanceof Sn||r instanceof R1||r instanceof vo)}function j1(r,e,t){if(!bb(t)||!a_(t)){const n=vm(t);throw n==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+n)}}function ov(r,e,t){if((e=sn(e))instanceof ed)return e._internalPath;if(typeof e=="string")return H1(r,e);throw Wg("Field path arguments must be of type string or ",r,!1,void 0,t)}const hQ=new RegExp("[~\\*/\\[\\]]");function H1(r,e,t){if(e.search(hQ)>=0)throw Wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ed(...e.split("."))._internalPath}catch{throw Wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Wg(r,e,t,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${n}`),a&&(u+=` in document ${i}`),u+=")"),new ut(Ke.INVALID_ARGUMENT,l+r+u)}function Eb(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dQ extends $g{data(){return super.data()}}function Lm(r,e){return typeof e=="string"?H1(r,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V1{}class K1 extends V1{}function ka(r,e,...t){let n=[];e instanceof V1&&n.push(e),n=n.concat(t),function(s){const a=s.filter(u=>u instanceof q1).length,l=s.filter(u=>u instanceof Qm).length;if(a>1||a>0&&l>0)throw new ut(Ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Qm extends K1{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Qm(e,t,n)}_apply(e){const t=this._parse(e);return Ib(e._query,t),new Ku(e.firestore,e.converter,Zw(e._query,t))}_parse(e){const t=td(e.firestore);return function(s,a,l,u,d,p,w){let B;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ut(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){a5(w,p);const U=[];for(const Q of w)U.push(A5(u,s,Q));B={arrayValue:{values:U}}}else B=A5(u,s,w)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||a5(w,p),B=cQ(l,a,w,p==="in"||p==="not-in");return zn.create(d,p,B)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pQ(r,e,t){const n=e,i=Lm("where",r);return Qm._create(i,n,t)}class q1 extends V1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new q1(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Ra.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)Ib(a,u),a=Zw(a,u)}(e._query,t),new Ku(e.firestore,e.converter,Zw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G1 extends K1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new G1(e,t)}_apply(e){const t=function(i,s,a){if(i.startAt!==null)throw new ut(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ut(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ff(s,a)}(e._query,this._field,this._direction);return new Ku(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Jh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function ea(r,e="asc"){const t=e,n=Lm("orderBy",r);return G1._create(n,t)}class z1 extends K1{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new z1(e,t,n)}_apply(e){return new Ku(e.firestore,e.converter,Mg(e._query,this._limit,this._limitType))}}function s5(r){return z1._create("limit",r,"F")}function A5(r,e,t){if(typeof(t=sn(t))=="string"){if(t==="")throw new ut(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__(e)&&t.indexOf("/")!==-1)throw new ut(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Mr.fromString(t));if(!Ut.isDocumentKey(n))throw new ut(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return xB(r,new Ut(n))}if(t instanceof Sn)return xB(r,t._key);throw new ut(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function a5(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ib(r,e){const t=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ut(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Sb{convertValue(e,t="none"){switch(Nu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Qt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Hu(e,(i,s)=>{n[i]=this.convertValue(s,t)}),n}convertVectorValue(e){var t,n,i;const s=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[Dg].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>Rn(a.doubleValue));return new vo(s)}convertGeoPoint(e){return new wo(Rn(e.latitude),Rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bm(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const t=Su(e);return new Ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mr.fromString(e);dr($_(n),9688,{name:e});const i=new hf(n.get(1),n.get(3)),s=new Ut(n.popFirst(5));return i.isEqual(t)||ul(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class gQ extends Sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new BA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}class Ch{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xu extends $g{constructor(e,t,n,i,s,a){super(e,t,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=xu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}xu._jsonSchemaVersion="firestore/documentSnapshot/1.0",xu._jsonSchema={type:$n("string",xu._jsonSchemaVersion),bundleSource:$n("string","DocumentSnapshot"),bundleName:$n("string"),bundle:$n("string")};class pg extends xu{data(e={}){return super.data(e)}}class Uh{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ch(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new pg(this._firestore,this._userDataWriter,n.key,n,new Ch(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ut(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new pg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new pg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:mQ(l.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=c1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mQ(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r){r=EA(r,Sn);const e=EA(r.firestore,fl);return nQ(Rf(e),r._key).then(t=>wQ(e,r,t))}Uh._jsonSchemaVersion="firestore/querySnapshot/1.0",Uh._jsonSchema={type:$n("string",Uh._jsonSchemaVersion),bundleSource:$n("string","QuerySnapshot"),bundleName:$n("string"),bundle:$n("string")};class W1 extends Sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new BA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function dn(r){r=EA(r,Ku);const e=EA(r.firestore,fl),t=Rf(e),n=new W1(e);return fQ(r._query),iQ(t,r._query).then(i=>new Uh(e,n,r,i))}function o5(r,e,t){r=EA(r,Sn);const n=EA(r.firestore,fl),i=km(r.converter,e,t);return Of(n,[Um(td(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Wn.none())])}function Da(r,e,t,...n){r=EA(r,Sn);const i=EA(r.firestore,fl),s=td(i);let a;return a=typeof(e=sn(e))=="string"||e instanceof ed?M1(s,"updateDoc",r._key,e,t,n):O1(s,"updateDoc",r._key,e),Of(i,[a.toMutation(r._key,Wn.exists(!0))])}function Sc(r){return Of(EA(r.firestore,fl),[new Lf(r._key,Wn.none())])}function Al(r,e){const t=EA(r.firestore,fl),n=zr(r),i=km(r.converter,e);return Of(t,[Um(td(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Wn.exists(!1))]).then(()=>n)}function Of(r,e){return function(n,i){const s=new go;return n.asyncQueue.enqueueAndForget(async()=>HL(await tQ(n),i,s)),s.promise}(Rf(r),e)}function wQ(r,e,t){const n=t.docs.get(e._key),i=new W1(r);return new xu(r,i,e._key,n,new Ch(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=td(e)}set(e,t,n){this._verifyNotCommitted();const i=hu(e,this._firestore),s=km(i.converter,t,n),a=Um(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Wn.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const s=hu(e,this._firestore);let a;return a=typeof(t=sn(t))=="string"||t instanceof ed?M1(this._dataReader,"WriteBatch.update",s._key,t,n,i):O1(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hu(e,this._firestore);return this._mutations=this._mutations.concat(new Lf(t._key,Wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hu(r,e){if((r=sn(r)).firestore!==e)throw new ut(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=td(e)}get(e){const t=hu(e,this._firestore),n=new gQ(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Qt(24041);const s=i[0];if(s.isFoundDocument())return new $g(this._firestore,n,s.key,s,t.converter);if(s.isNoDocument())return new $g(this._firestore,n,t._key,null,t.converter);throw Qt(18433,{doc:s})})}set(e,t,n){const i=hu(e,this._firestore),s=km(i.converter,t,n),a=Um(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,n);return this._transaction.set(i._key,a),this}update(e,t,n,...i){const s=hu(e,this._firestore);let a;return a=typeof(t=sn(t))=="string"||t instanceof ed?M1(this._dataReader,"Transaction.update",s._key,t,n,i):O1(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=hu(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ extends BQ{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hu(e,this._firestore),n=new W1(this._firestore);return super.get(e).then(i=>new xu(this._firestore,n,t._key,i._document,new Ch(!1,!1),t.converter))}}function CQ(r,e,t){r=EA(r,fl);const n=Object.assign(Object.assign({},vQ),t);return function(s){if(s.maxAttempts<1)throw new ut(Ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(s,a,l){const u=new go;return s.asyncQueue.enqueueAndForget(async()=>{const d=await rQ(s);new JL(s.asyncQueue,d,l,a,u).zu()}),u.promise}(Rf(r),i=>e(new xQ(r,i)),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(r){return Rf(r=EA(r,fl)),new yQ(r,e=>Of(r,e))}(function(e,t=!0){(function(i){$h=i})(Tc),Cc(new bu("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),l=new fl(new dT(n.getProvider("auth-internal")),new gT(a,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ut(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hf(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ho(oB,lB,e),ho(oB,lB,"esm2017")})();var bQ="firebase",EQ="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(bQ,EQ,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebasestorage.googleapis.com",Nb="storageBucket",IQ=2*60*1e3,SQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends _o{constructor(e,t,n=0){super(ew(e),`Firebase Storage: ${t} (${ew(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ew(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fn||(Fn={}));function ew(r){return"storage/"+r}function $1(){const r="An unknown error occurred, please check the error payload for server response.";return new Nn(Fn.UNKNOWN,r)}function FQ(r){return new Nn(Fn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function NQ(r){return new Nn(Fn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UQ(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nn(Fn.UNAUTHENTICATED,r)}function TQ(){return new Nn(Fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LQ(r){return new Nn(Fn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function QQ(){return new Nn(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kQ(){return new Nn(Fn.CANCELED,"User canceled the upload/download.")}function PQ(r){return new Nn(Fn.INVALID_URL,"Invalid URL '"+r+"'.")}function RQ(r){return new Nn(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function DQ(){return new Nn(Fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nb+"' property when initializing the app?")}function OQ(){return new Nn(Fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function MQ(){return new Nn(Fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jQ(r){return new Nn(Fn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lv(r){return new Nn(Fn.INVALID_ARGUMENT,r)}function Ub(){return new Nn(Fn.APP_DELETED,"The Firebase app was deleted.")}function HQ(r){return new Nn(Fn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xd(r,e){return new Nn(Fn.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Bd(r){throw new Nn(Fn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=CA.makeFromUrl(e,t)}catch{return new CA(e,"")}if(n.path==="")return n;throw RQ(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(ee){ee.path_=decodeURIComponent(ee.path)}const p="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),B="(/([^?#]*).*)?$",y=new RegExp(`^https?://${w}/${p}/b/${i}/o${B}`,"i"),U={bucket:1,path:3},Q=t===Fb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",M=new RegExp(`^https?://${Q}/${i}/${k}`,"i"),q=[{regex:l,indices:u,postModify:s},{regex:y,indices:U,postModify:d},{regex:M,indices:{bucket:1,path:2},postModify:d}];for(let ee=0;ee<q.length;ee++){const K=q[ee],J=K.regex.exec(e);if(J){const O=J[K.indices.bucket];let C=J[K.indices.path];C||(C=""),n=new CA(O,C),K.postModify(n);break}}if(n==null)throw PQ(e);return n}}class VQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(r,e,t){let n=1,i=null,s=null,a=!1,l=0;function u(){return l===2}let d=!1;function p(...k){d||(d=!0,e.apply(null,k))}function w(k){i=setTimeout(()=>{i=null,r(y,u())},k)}function B(){s&&clearTimeout(s)}function y(k,...M){if(d){B();return}if(k){B(),p.call(null,k,...M);return}if(u()||a){B(),p.call(null,k,...M);return}n<64&&(n*=2);let q;l===1?(l=2,q=0):q=(n+Math.random())*1e3,w(q)}let U=!1;function Q(k){U||(U=!0,B(),!d&&(i!==null?(k||(l=2),clearTimeout(i),w(0)):k||(l=1)))}return w(0),s=setTimeout(()=>{a=!0,Q(!0)},t),Q}function qQ(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(r){return r!==void 0}function zQ(r){return typeof r=="object"&&!Array.isArray(r)}function X1(r){return typeof r=="string"||r instanceof String}function l5(r){return Y1()&&r instanceof Blob}function Y1(){return typeof Blob<"u"}function u5(r,e,t,n){if(n<e)throw lv(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw lv(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function Tb(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var wc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(wc||(wc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WQ(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,s=e.indexOf(r)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,t,n,i,s,a,l,u,d,p,w,B=!0,y=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=w,this.retry=B,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,Q)=>{this.resolve_=U,this.reject_=Q,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Np(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===wc.NO_ERROR,u=s.getStatus();if(!l||WQ(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===wc.ABORT;n(!1,new Np(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;n(!0,new Np(d,s))})},t=(n,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());GQ(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=$1();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?Ub():kQ();a(u)}else{const u=QQ();a(u)}};this.canceled_?t(!1,new Np(!1,null,!0)):this.backoffId_=KQ(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Np{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function XQ(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function YQ(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JQ(r,e){e&&(r["X-Firebase-GMPID"]=e)}function ZQ(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function e6(r,e,t,n,i,s,a=!0,l=!1){const u=Tb(r.urlParams),d=r.url+u,p=Object.assign({},r.headers);return JQ(p,e),XQ(p,t),YQ(p,s),ZQ(p,n),new $Q(d,r.method,p,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r6(...r){const e=t6();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Y1())return new Blob(r);throw new Nn(Fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n6(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(r){if(typeof atob>"u")throw jQ("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tw{constructor(e,t){this.data=e,this.contentType=t||null}}function s6(r,e){switch(r){case uo.RAW:return new tw(Lb(e));case uo.BASE64:case uo.BASE64URL:return new tw(Qb(r,e));case uo.DATA_URL:return new tw(a6(e),o6(e))}throw $1()}function Lb(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=n,a=r.charCodeAt(++t);n=65536|(s&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function A6(r){let e;try{e=decodeURIComponent(r)}catch{throw Xd(uo.DATA_URL,"Malformed data URL.")}return Lb(e)}function Qb(r,e){switch(r){case uo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xd(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case uo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xd(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=i6(e)}catch(i){throw i.message.includes("polyfill")?i:Xd(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class kb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Xd(uo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=l6(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function a6(r){const e=new kb(r);return e.base64?Qb(uo.BASE64,e.rest):A6(e.rest)}function o6(r){return new kb(r).contentType}function l6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){let n=0,i="";l5(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(l5(this.data_)){const n=this.data_,i=n6(n,e,t);return i===null?null:new lu(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new lu(n,!0)}}static getBlob(...e){if(Y1()){const t=e.map(n=>n instanceof lu?n.data_:n);return new lu(r6.apply(null,t))}else{const t=e.map(a=>X1(a)?s6(uo.RAW,a).data:a.data_);let n=0;t.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let s=0;return t.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new lu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(r){let e;try{e=JSON.parse(r)}catch{return null}return zQ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function c6(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function Rb(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(r,e){return e}class Fs{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||h6}}let Up=null;function d6(r){return!X1(r)||r.length<2?r:Rb(r)}function Db(){if(Up)return Up;const r=[];r.push(new Fs("bucket")),r.push(new Fs("generation")),r.push(new Fs("metageneration")),r.push(new Fs("name","fullPath",!0));function e(s,a){return d6(a)}const t=new Fs("name");t.xform=e,r.push(t);function n(s,a){return a!==void 0?Number(a):a}const i=new Fs("size");return i.xform=n,r.push(i),r.push(new Fs("timeCreated")),r.push(new Fs("updated")),r.push(new Fs("md5Hash",null,!0)),r.push(new Fs("cacheControl",null,!0)),r.push(new Fs("contentDisposition",null,!0)),r.push(new Fs("contentEncoding",null,!0)),r.push(new Fs("contentLanguage",null,!0)),r.push(new Fs("contentType",null,!0)),r.push(new Fs("metadata","customMetadata",!0)),Up=r,Up}function f6(r,e){function t(){const n=r.bucket,i=r.fullPath,s=new CA(n,i);return e._makeStorageReference(s)}Object.defineProperty(r,"ref",{get:t})}function p6(r,e,t){const n={};n.type="file";const i=t.length;for(let s=0;s<i;s++){const a=t[s];n[a.local]=a.xform(n,e[a.server])}return f6(n,r),n}function Ob(r,e,t){const n=Pb(e);return n===null?null:p6(r,n,t)}function g6(r,e,t,n){const i=Pb(e);if(i===null||!X1(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const p=r.bucket,w=r.fullPath,B="/b/"+a(p)+"/o/"+a(w),y=J1(B,t,n),U=Tb({alt:"media",token:d});return y+U})[0]}function m6(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(t[s.server]=r[s.local])}return JSON.stringify(t)}class Mb{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r){if(!r)throw $1()}function w6(r,e){function t(n,i){const s=Ob(r,i,e);return jb(s!==null),s}return t}function v6(r,e){function t(n,i){const s=Ob(r,i,e);return jb(s!==null),g6(s,i,r.host,r._protocol)}return t}function Hb(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=TQ():i=UQ():t.getStatus()===402?i=NQ(r.bucket):t.getStatus()===403?i=LQ(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function y6(r){const e=Hb(r);function t(n,i){let s=e(n,i);return n.getStatus()===404&&(s=FQ(r.path)),s.serverResponse=i.serverResponse,s}return t}function B6(r,e,t){const n=e.fullServerUrl(),i=J1(n,r.host,r._protocol),s="GET",a=r.maxOperationRetryTime,l=new Mb(i,s,v6(r,t),a);return l.errorHandler=y6(e),l}function x6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function C6(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=x6(null,e)),n}function _6(r,e,t,n,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let q="";for(let ee=0;ee<2;ee++)q=q+Math.random().toString().slice(2);return q}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const d=C6(e,n,i),p=m6(d,t),w="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,B=`\r
--`+u+"--",y=lu.getBlob(w,n,B);if(y===null)throw OQ();const U={name:d.fullPath},Q=J1(s,r.host,r._protocol),k="POST",M=r.maxUploadRetryTime,D=new Mb(Q,k,w6(r,t),M);return D.urlParams=U,D.headers=a,D.body=y.uploadData(),D.errorHandler=Hb(e),D}class b6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,s){if(this.sent_)throw Bd("cannot .send() more than once");if(Ou(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class E6 extends b6{initXhr(){this.xhr_.responseType="text"}}function Vb(){return new E6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this._service=e,t instanceof CA?this._location=t:this._location=CA.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fc(e,t)}get root(){const e=new CA(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rb(this._location.path)}get storage(){return this._service}get parent(){const e=u6(this._location.path);if(e===null)return null;const t=new CA(this._location.bucket,e);return new Fc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw HQ(e)}}function I6(r,e,t){r._throwIfRoot("uploadBytes");const n=_6(r.storage,r._location,Db(),new lu(e,!0),t);return r.storage.makeRequestWithTokens(n,Vb).then(i=>({metadata:i,ref:r}))}function S6(r){r._throwIfRoot("getDownloadURL");const e=B6(r.storage,r._location,Db());return r.storage.makeRequestWithTokens(e,Vb).then(t=>{if(t===null)throw MQ();return t})}function F6(r,e){const t=c6(r._location.path,e),n=new CA(r._location.bucket,t);return new Fc(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(r){return/^[A-Za-z]+:\/\//.test(r)}function U6(r,e){return new Fc(r,e)}function Kb(r,e){if(r instanceof Z1){const t=r;if(t._bucket==null)throw DQ();const n=new Fc(t,t._bucket);return e!=null?Kb(n,e):n}else return e!==void 0?F6(r,e):r}function T6(r,e){if(e&&N6(e)){if(r instanceof Z1)return U6(r,e);throw lv("To use ref(service, url), the first argument must be a Storage instance.")}else return Kb(r,e)}function c5(r,e){const t=e?.[Nb];return t==null?null:CA.makeFromBucketSpec(t,r)}function L6(r,e,t,n={}){r.host=`${e}:${t}`;const i=Ou(e);i&&(Xv(`https://${r.host}/b`),Yv("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(r._overrideAuthToken=typeof s=="string"?s:cC(s,r.app.options.projectId))}class Z1{constructor(e,t,n,i,s,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=Fb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IQ,this._maxUploadRetryTime=SQ,this._requests=new Set,i!=null?this._bucket=CA.makeFromBucketSpec(i,this._host):this._bucket=c5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=CA.makeFromBucketSpec(this._url,e):this._bucket=c5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(yA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fc(this,e)}_makeRequest(e,t,n,i,s=!0){if(this._deleted)return new VQ(Ub());{const a=e6(e,this._appId,n,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const h5="@firebase/storage",d5="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="storage";function Q6(r,e,t){return r=sn(r),I6(r,e,t)}function k6(r){return r=sn(r),S6(r)}function P6(r,e){return r=sn(r),T6(r,e)}function R6(r=e1(),e){r=sn(r);const n=pm(r,qb).getImmediate({identifier:e}),i=oC("storage");return i&&D6(n,...i),n}function D6(r,e,t,n={}){L6(r,e,t,n)}function O6(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new Z1(t,n,i,e,Tc)}function M6(){Cc(new bu(qb,O6,"PUBLIC").setMultipleInstances(!0)),ho(h5,d5,""),ho(h5,d5,"esm2017")}M6();const j6={apiKey:"AIzaSyCOiFIBRrX7fpgu5ymNSxo8E_FeqzEOacg",authDomain:"invoicepro-8552b.firebaseapp.com",projectId:"invoicepro-8552b",storageBucket:"invoicepro-8552b.firebasestorage.app",messagingSenderId:"764582750732",appId:"1:764582750732:web:3f592edc7959017b93dc29"},ey=fC(j6),Tp=lT(ey),Et=AQ(ey),H6=R6(ey);var ls=(r=>(r.TRIAL="trial",r.ACTIVE="active",r.EXPIRED="expired",r.CANCELLED="cancelled",r.SUSPENDED="suspended",r))(ls||{}),_h=(r=>(r.TRIAL="trial",r.BASIC="basic",r.PREMIUM="premium",r.ENTERPRISE="enterprise",r))(_h||{}),$r=(r=>(r.SUPER_ADMIN="super_admin",r.TENANT_ADMIN="tenant_admin",r.EMPLOYEE="employee",r.CLIENT_USER="client_user",r))($r||{}),rn=(r=>(r.MANAGE_ALL_TENANTS="manage_all_tenants",r.VIEW_ALL_ANALYTICS="view_all_analytics",r.MANAGE_SUBSCRIPTIONS="manage_subscriptions",r.MANAGE_PAYMENTS="manage_payments",r.MANAGE_TENANT_USERS="manage_tenant_users",r.MANAGE_TENANT_SETTINGS="manage_tenant_settings",r.VIEW_TENANT_ANALYTICS="view_tenant_analytics",r.VIEW_LEADS="view_leads",r.CREATE_LEADS="create_leads",r.EDIT_LEADS="edit_leads",r.DELETE_LEADS="delete_leads",r.MANAGE_LEAD_SETTINGS="manage_lead_settings",r.EXPORT_LEADS="export_leads",r.VIEW_INVOICES="view_invoices",r.CREATE_INVOICES="create_invoices",r.EDIT_INVOICES="edit_invoices",r.DELETE_INVOICES="delete_invoices",r.VIEW_CUSTOMERS="view_customers",r.MANAGE_CUSTOMERS="manage_customers",r.MANAGE_INVOICE_SETTINGS="manage_invoice_settings",r.VIEW_DASHBOARD="view_dashboard",r))(rn||{}),kd=(r=>(r.CREATED="Created",r.FOLLOWUP="Followup",r.CLIENT="Client",r.REJECTED="Rejected",r))(kd||{});const f5={super_admin:["manage_all_tenants","view_all_analytics","manage_subscriptions","manage_payments","view_dashboard"],tenant_admin:["manage_tenant_users","manage_tenant_settings","view_tenant_analytics","view_leads","create_leads","edit_leads","delete_leads","manage_lead_settings","export_leads","view_invoices","create_invoices","edit_invoices","delete_invoices","view_customers","manage_customers","manage_invoice_settings","view_dashboard"],employee:["view_leads","create_leads","edit_leads","export_leads","view_invoices","create_invoices","edit_invoices","view_customers","manage_customers","view_dashboard"],client_user:["view_leads","view_dashboard"]},ao={trial:{id:"trial",name:"Free Trial",price:0,currency:"INR",features:["Up to 100 leads","Basic dashboard","Email support"],maxUsers:2,maxLeads:100,maxInvoices:50,trialDays:30},basic:{id:"basic",name:"Basic Plan",price:2999,currency:"INR",features:["Up to 1000 leads","Invoice management","Priority support","Basic analytics"],maxUsers:5,maxLeads:1e3,maxInvoices:500,trialDays:0},premium:{id:"premium",name:"Premium Plan",price:4999,currency:"INR",features:["Unlimited leads","Advanced analytics","Custom branding","API access","24/7 support"],maxUsers:15,maxLeads:-1,maxInvoices:-1,trialDays:0},enterprise:{id:"enterprise",name:"Enterprise Plan",price:9999,currency:"INR",features:["Everything in Premium","White-label solution","Dedicated support","Custom integrations"],maxUsers:-1,maxLeads:-1,maxInvoices:-1,trialDays:0}},Gb=Se.createContext(void 0),ds=()=>{const r=Se.useContext(Gb);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},V6=({children:r})=>{const[e,t]=Se.useState(null),[n,i]=Se.useState(null),[s,a]=Se.useState(null),[l,u]=Se.useState(null),[d,p]=Se.useState(!0),w=async J=>{try{const O=await gg(zr(Et,"users",J));if(O.exists()){const C={id:O.id,...O.data()};return i(C),await Da(zr(Et,"users",J),{lastLogin:new Date}),C.tenantId?await B(C.tenantId):(a(null),u(null)),C}else{const C=ka(hr(Et,"users"));if((await dn(C)).empty){const j={uid:J,email:e?.email||"",name:e?.email?.split("@")[0]||"Super Admin",role:$r.SUPER_ADMIN,permissions:f5[$r.SUPER_ADMIN],isActive:!0,createdAt:new Date,updatedAt:new Date};return await o5(zr(Et,"users",J),j),i({id:J,...j}),a(null),u(null),{id:J,...j}}}}catch(O){console.error("Error fetching user profile:",O)}return null},B=async J=>{try{const O=await gg(zr(Et,"tenants",J));if(O.exists()){const C={id:O.id,...O.data()};if(a(C),C.subscriptionId){const I=await gg(zr(Et,"subscriptions",C.subscriptionId));if(I.exists()){const j={id:I.id,...I.data()};u(j)}}}}catch(O){console.error("Error fetching tenant data:",O)}},y=async()=>{e&&await w(e.uid)},U=async(J,O)=>{const C=await WN(Tp,J,O);await w(C.user.uid)},Q=async(J,O,C)=>{const I=await zN(Tp,J,O),j={uid:I.user.uid,email:J,name:C.name||J.split("@")[0],role:C.role||$r.EMPLOYEE,tenantId:C.tenantId,permissions:C.permissions||f5[C.role||$r.EMPLOYEE],isActive:!0,createdBy:C.createdBy,createdAt:new Date,updatedAt:new Date};await o5(zr(Et,"users",I.user.uid),j),i({id:I.user.uid,...j})},k=async()=>{await JN(Tp),i(null),a(null),u(null)},M=J=>n?.permissions.includes(J)||!1,D=J=>n?.role===J,q=J=>!!(n?.role===$r.SUPER_ADMIN||s?.settings?.allowedModules?.includes(J)),ee=()=>{if(!l)return!1;const J=new Date,O=l.endDate.toDate();return l.status===ls.ACTIVE&&O>J};Se.useEffect(()=>YN(Tp,async O=>{t(O),O?await w(O.uid):(i(null),a(null),u(null)),p(!1)}),[]);const K={currentUser:e,userProfile:n,currentTenant:s,currentSubscription:l,login:U,register:Q,logout:k,loading:d,hasPermission:M,isRole:D,refreshUserProfile:y,canAccessModule:q,isSubscriptionActive:ee};return g.jsx(Gb.Provider,{value:K,children:!d&&r})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Or=(r,e)=>{const t=Se.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:u,...d},p)=>Se.createElement("svg",{ref:p,...K6,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${q6(r)}`,l].join(" "),...d},[...e.map(([w,B])=>Se.createElement(w,B)),...Array.isArray(u)?u:[u]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Or("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Or("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=Or("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=Or("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Or("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Or("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=Or("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Or("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Or("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Or("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Or("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=Or("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=Or("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=Or("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Or("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Or("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Or("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Or("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Or("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Or("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Or("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Or("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Or("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Or("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Or("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=Or("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Or("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Or("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Or("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zo=({children:r,requiredPermission:e,requiredModule:t,fallbackPath:n="/login"})=>{const{currentUser:i,userProfile:s,currentTenant:a,currentSubscription:l,hasPermission:u,canAccessModule:d,isSubscriptionActive:p}=ds();if(!i)return g.jsx(kw,{to:"/login"});if(!s)return g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!s.isActive)return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[g.jsx(g5,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Account Inactive"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Your account has been deactivated. Please contact your administrator."})]})});if(s.tenantId&&l){if(l.status===ls.EXPIRED)return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[g.jsx(Xg,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Subscription Expired"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Your subscription has expired. Please contact your administrator to renew."})]})});if(l.status===ls.SUSPENDED)return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[g.jsx(mf,{className:"mx-auto h-12 w-12 text-yellow-500 mb-4"}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Account Suspended"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Your account has been suspended. Please contact support."})]})})}return t&&!d(t)?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[g.jsx(g5,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Module Not Available"}),g.jsxs("p",{className:"text-gray-600 mb-4",children:["The ",t," module is not available in your current plan. Please upgrade your subscription."]})]})}):e&&!u(e)?g.jsx(kw,{to:n}):g.jsx(g.Fragment,{children:r})},Jl=({children:r})=>{const{currentUser:e,userProfile:t,currentTenant:n,currentSubscription:i,logout:s,hasPermission:a,isRole:l,canAccessModule:u,isSubscriptionActive:d}=ds();Uc();const p=zh(),[w,B]=Se.useState(!1),y=async()=>{try{await s(),p("/login")}catch(q){console.error("Failed to logout:",q)}},Q=(()=>{const q=[];return q.push({name:"Dashboard",href:"/dashboard",icon:$6,permission:rn.VIEW_DASHBOARD}),l($r.SUPER_ADMIN)?q.push({name:"Tenant Management",href:"/admin/tenants",icon:xo,permission:rn.MANAGE_ALL_TENANTS},{name:"User Management",href:"/admin/users",icon:w5,permission:rn.MANAGE_TENANT_USERS}):(u("leads")&&q.push({name:"Leads",href:"/leads",icon:uv,permission:rn.VIEW_LEADS}),u("invoices")&&!l($r.CLIENT_USER)&&q.push({name:"Invoices",href:"/invoices",icon:vf,permission:rn.VIEW_INVOICES},{name:"Customers",href:"/customers",icon:Pc,permission:rn.VIEW_CUSTOMERS}),l($r.TENANT_ADMIN)&&q.push({name:"Subscription",href:"/subscription",icon:Xg,permission:rn.MANAGE_TENANT_SETTINGS}),a(rn.MANAGE_TENANT_USERS)&&q.push({name:"Team",href:"/admin/users",icon:w5,permission:rn.MANAGE_TENANT_USERS})),q.push({name:"Settings",href:"/settings",icon:J6,permission:null}),q.filter(ee=>!ee.permission||a(ee.permission))})(),k=t?.name||e?.email||"User",M=l($r.SUPER_ADMIN)?"VRITIX - Super Admin":n?.name||"Agency Pro",D=()=>{if(l($r.SUPER_ADMIN)||!i)return null;const q=Math.ceil((i.endDate.toDate().getTime()-new Date().getTime())/(1e3*60*60*24));return i.status===ls.TRIAL&&q<=7?g.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:g.jsxs("div",{className:"flex",children:[g.jsx(mf,{className:"h-5 w-5 text-yellow-400"}),g.jsx("div",{className:"ml-3",children:g.jsxs("p",{className:"text-sm text-yellow-700",children:["Trial expires in ",q," days.",g.jsx(Cp,{to:"/subscription",className:"font-medium underline ml-1",children:"Upgrade now"})]})})]})}):d()?null:g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:g.jsxs("div",{className:"flex",children:[g.jsx(mf,{className:"h-5 w-5 text-red-400"}),g.jsx("div",{className:"ml-3",children:g.jsxs("p",{className:"text-sm text-red-700",children:["Subscription expired.",g.jsx(Cp,{to:"/subscription",className:"font-medium underline ml-1",children:"Renew now"})]})})]})})};return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${w?"block":"hidden"}`,children:[g.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>B(!1)}),g.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[g.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-bold text-primary",children:M}),g.jsx("p",{className:"text-xs text-gray-500",children:t?.role.replace("_"," ").toUpperCase()})]}),g.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",children:g.jsx(Rm,{className:"h-6 w-6"})})]}),g.jsxs("div",{className:"flex-1 px-4 py-4",children:[D(),g.jsx("nav",{className:"space-y-2",children:Q.map(q=>{const ee=q.icon;return g.jsxs(Cp,{to:q.href,onClick:()=>B(!1),className:({isActive:K})=>`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${K?"bg-secondary text-primary":"text-gray-700 hover:bg-gray-100"}`,children:[g.jsx(ee,{className:"mr-3 h-5 w-5"}),q.name]},q.name)})})]}),g.jsxs("div",{className:"p-4 border-t",children:[g.jsxs("div",{className:"flex items-center mb-3",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center",children:g.jsx("span",{className:"text-white text-sm font-medium",children:k.charAt(0).toUpperCase()})})}),g.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:k}),g.jsx("p",{className:"text-xs text-gray-500 truncate",children:t?.role.replace("_"," ").toUpperCase()})]})]}),g.jsxs("button",{onClick:y,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 transition-colors",children:[g.jsx(m5,{className:"mr-3 h-5 w-5"}),"Sign out"]})]})]})]}),g.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:g.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6",children:[g.jsx("div",{className:"flex h-16 shrink-0 items-center",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold text-primary",children:M}),g.jsx("p",{className:"text-xs text-gray-500",children:t?.role.replace("_"," ").toUpperCase()})]})}),g.jsxs("div",{className:"flex flex-1 flex-col",children:[D(),g.jsx("nav",{className:"flex-1",children:g.jsx("ul",{role:"list",className:"space-y-1",children:Q.map(q=>{const ee=q.icon;return g.jsx("li",{children:g.jsxs(Cp,{to:q.href,className:({isActive:K})=>`group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors ${K?"bg-secondary text-primary":"text-gray-700 hover:text-primary hover:bg-gray-50"}`,children:[g.jsx(ee,{className:"h-6 w-6 shrink-0"}),q.name]})},q.name)})})})]}),g.jsxs("div",{className:"mt-auto",children:[g.jsxs("div",{className:"flex items-center gap-x-4 px-2 py-3 text-sm font-semibold leading-6 text-gray-900",children:[g.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center",children:g.jsx("span",{className:"text-white text-sm font-medium",children:k.charAt(0).toUpperCase()})}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("span",{className:"block truncate",children:k}),g.jsx("span",{className:"block text-xs text-gray-500 truncate",children:t?.email})]})]}),g.jsxs("button",{onClick:y,className:"group -mx-2 flex w-full gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors",children:[g.jsx(m5,{className:"h-6 w-6 shrink-0"}),"Sign out"]})]})]})}),g.jsxs("div",{className:"lg:pl-72",children:[g.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[g.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>B(!0),children:[g.jsx("span",{className:"sr-only",children:"Open sidebar"}),g.jsx(X6,{className:"h-6 w-6"})]}),g.jsx("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:g.jsx("div",{className:"flex flex-1 items-center",children:t&&g.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Vh,{className:"h-4 w-4"}),g.jsx("span",{children:t.role.replace("_"," ").toUpperCase()})]}),n&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(xo,{className:"h-4 w-4"}),g.jsx("span",{children:n.name})]}),i&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Xg,{className:"h-4 w-4"}),g.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i.status===ls.ACTIVE?"bg-green-100 text-green-800":i.status===ls.TRIAL?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:i.status.toUpperCase()})]})]})})})]}),g.jsx("main",{className:"py-10",children:g.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r})})]})]})},Z6=()=>{const[r,e]=Se.useState(""),[t,n]=Se.useState(""),[i,s]=Se.useState(!1),[a,l]=Se.useState(!1),[u,d]=Se.useState(""),{login:p}=ds(),w=zh(),B=async y=>{y.preventDefault();try{d(""),l(!0),await p(r,t),w("/dashboard")}catch(U){d("Failed to log in. Please check your credentials."),console.error("Login error:",U)}finally{l(!1)}};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary via-gray-900 to-primary flex",children:[g.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/90 to-gray-900/90"}),g.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs("h1",{className:"text-5xl font-bold mb-4 leading-tight text-white",children:["Manage Your",g.jsx("span",{className:"text-secondary block",children:"Digital Agency"})]}),g.jsx("p",{className:"text-xl text-gray-200 leading-relaxed",children:"Complete multi-tenant solution for digital marketing agencies to manage clients, leads, and invoices efficiently."})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"bg-secondary/20 p-3 rounded-lg",children:g.jsx(xo,{className:"h-6 w-6 text-secondary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-white",children:"Multi-Tenant Architecture"}),g.jsx("p",{className:"text-gray-200",children:"Separate data for each client with role-based access"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"bg-secondary/20 p-3 rounded-lg",children:g.jsx(Pc,{className:"h-6 w-6 text-secondary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-white",children:"Lead Management"}),g.jsx("p",{className:"text-gray-200",children:"Track and manage leads for all your clients"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"bg-secondary/20 p-3 rounded-lg",children:g.jsx(Wb,{className:"h-6 w-6 text-secondary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-white",children:"Invoice Generation"}),g.jsx("p",{className:"text-gray-200",children:"Professional invoicing with automated workflows"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"bg-secondary/20 p-3 rounded-lg",children:g.jsx(Vh,{className:"h-6 w-6 text-secondary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-white",children:"Secure & Scalable"}),g.jsx("p",{className:"text-gray-200",children:"Enterprise-grade security with unlimited scalability"})]})]})]})]})]}),g.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gray-50",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"bg-primary p-4 rounded-2xl shadow-lg",children:g.jsx(xo,{className:"h-12 w-12 text-secondary"})})}),g.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Sign in to your agency dashboard"})]}),g.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:g.jsxs("form",{className:"space-y-6",onSubmit:B,children:[u&&g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),g.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:y=>e(y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",placeholder:"Enter your email"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:t,onChange:y=>n(y.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",placeholder:"Enter your password"}),g.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>s(!i),children:i?g.jsx(cv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):g.jsx(wf,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),g.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"}),g.jsx("div",{className:"text-center",children:g.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",g.jsx(Af,{to:"/register",className:"font-medium text-accent hover:text-primary transition-colors",children:"Contact your administrator"})]})})]})})]})})]})},ek=()=>{const[r,e]=Se.useState({name:"",email:"",password:"",confirmPassword:"",role:$r.EMPLOYEE,tenantId:""}),[t,n]=Se.useState(!1),[i,s]=Se.useState(!1),[a,l]=Se.useState(!1),[u,d]=Se.useState(""),[p,w]=Se.useState([]),{register:B,userProfile:y,hasPermission:U}=ds(),Q=zh();Se.useEffect(()=>{k()},[]);const k=async()=>{try{const ee=ka(hr(Et,"tenants"),pQ("isActive","==",!0)),J=(await dn(ee)).docs.map(O=>({id:O.id,...O.data()}));w(J)}catch(ee){console.error("Error fetching tenants:",ee)}},M=async ee=>{if(ee.preventDefault(),r.password!==r.confirmPassword)return d("Passwords do not match");if(r.password.length<6)return d("Password must be at least 6 characters");try{d(""),l(!0),await B(r.email,r.password,{name:r.name,role:r.role,tenantId:r.tenantId||void 0,createdBy:y?.uid}),Q("/dashboard")}catch(K){d("Failed to create account. Please try again."),console.error("Registration error:",K)}finally{l(!1)}},D=ee=>{e(K=>({...K,[ee.target.name]:ee.target.value}))};return U("manage_users")?g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary via-gray-900 to-primary flex",children:[g.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/90 to-gray-900/90"}),g.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs("h1",{className:"text-5xl font-bold mb-4 leading-tight text-white",children:["Create New",g.jsx("span",{className:"text-secondary block",children:"User Account"})]}),g.jsx("p",{className:"text-xl text-gray-200 leading-relaxed",children:"Add team members and clients to your agency platform with role-based access control."})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"bg-secondary/20 p-3 rounded-lg",children:g.jsx($b,{className:"h-6 w-6 text-secondary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-white",children:"Role-Based Access"}),g.jsx("p",{className:"text-gray-200",children:"Assign specific roles and permissions"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"bg-secondary/20 p-3 rounded-lg",children:g.jsx(xo,{className:"h-6 w-6 text-secondary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-white",children:"Tenant Assignment"}),g.jsx("p",{className:"text-gray-200",children:"Associate users with specific client tenants"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"bg-secondary/20 p-3 rounded-lg",children:g.jsx(Vh,{className:"h-6 w-6 text-secondary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-white",children:"Secure Access"}),g.jsx("p",{className:"text-gray-200",children:"Enterprise-grade security and data isolation"})]})]})]})]})]}),g.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gray-50",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"bg-primary p-4 rounded-2xl shadow-lg",children:g.jsx(Pc,{className:"h-12 w-12 text-secondary"})})}),g.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Add a new user to your agency"})]}),g.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:g.jsxs("form",{className:"space-y-6",onSubmit:M,children:[u&&g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),g.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:r.name,onChange:D,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",placeholder:"Enter full name"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),g.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:D,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",placeholder:"Enter email address"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),g.jsxs("select",{id:"role",name:"role",value:r.role,onChange:D,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",children:[g.jsx("option",{value:$r.EMPLOYEE,children:"Employee"}),g.jsx("option",{value:$r.ADMIN,children:"Admin"}),g.jsx("option",{value:$r.CLIENT,children:"Client"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"tenantId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Client/Tenant (Optional)"}),g.jsxs("select",{id:"tenantId",name:"tenantId",value:r.tenantId,onChange:D,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",children:[g.jsx("option",{value:"",children:"No specific tenant (Agency access)"}),p.map(ee=>g.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:"new-password",required:!0,value:r.password,onChange:D,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",placeholder:"Enter password"}),g.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>n(!t),children:t?g.jsx(cv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):g.jsx(wf,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",autoComplete:"new-password",required:!0,value:r.confirmPassword,onChange:D,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors",placeholder:"Confirm password"}),g.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>s(!i),children:i?g.jsx(cv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):g.jsx(wf,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),g.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"}),g.jsx("div",{className:"text-center",children:g.jsx(Af,{to:"/login",className:"font-medium text-accent hover:text-primary transition-colors",children:"Back to sign in"})})]})})]})})]}):g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[g.jsx(Vh,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to create new accounts."}),g.jsx(Af,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-gray-800",children:"Back to Dashboard"})]})})};function Sr(r){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(r)}function Nc(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ts(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function bo(r){Ts(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Sr(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function tk(r,e){Ts(2,arguments);var t=bo(r).getTime(),n=Nc(e);return new Date(t+n)}var rk={};function Dm(){return rk}function nk(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function ik(r){return Ts(1,arguments),r instanceof Date||Sr(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function sk(r){if(Ts(1,arguments),!ik(r)&&typeof r!="number")return!1;var e=bo(r);return!isNaN(Number(e))}function Ak(r,e){Ts(2,arguments);var t=Nc(e);return tk(r,-t)}var ak=864e5;function ok(r){Ts(1,arguments);var e=bo(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=t-n;return Math.floor(i/ak)+1}function Yg(r){Ts(1,arguments);var e=1,t=bo(r),n=t.getUTCDay(),i=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function Xb(r){Ts(1,arguments);var e=bo(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var i=Yg(n),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var a=Yg(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function lk(r){Ts(1,arguments);var e=Xb(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Yg(t);return n}var uk=6048e5;function ck(r){Ts(1,arguments);var e=bo(r),t=Yg(e).getTime()-lk(e).getTime();return Math.round(t/uk)+1}function Jg(r,e){var t,n,i,s,a,l,u,d;Ts(1,arguments);var p=Dm(),w=Nc((t=(n=(i=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:p.weekStartsOn)!==null&&n!==void 0?n:(u=p.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&t!==void 0?t:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var B=bo(r),y=B.getUTCDay(),U=(y<w?7:0)+y-w;return B.setUTCDate(B.getUTCDate()-U),B.setUTCHours(0,0,0,0),B}function Yb(r,e){var t,n,i,s,a,l,u,d;Ts(1,arguments);var p=bo(r),w=p.getUTCFullYear(),B=Dm(),y=Nc((t=(n=(i=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:B.firstWeekContainsDate)!==null&&n!==void 0?n:(u=B.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=new Date(0);U.setUTCFullYear(w+1,0,y),U.setUTCHours(0,0,0,0);var Q=Jg(U,e),k=new Date(0);k.setUTCFullYear(w,0,y),k.setUTCHours(0,0,0,0);var M=Jg(k,e);return p.getTime()>=Q.getTime()?w+1:p.getTime()>=M.getTime()?w:w-1}function hk(r,e){var t,n,i,s,a,l,u,d;Ts(1,arguments);var p=Dm(),w=Nc((t=(n=(i=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&n!==void 0?n:(u=p.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&t!==void 0?t:1),B=Yb(r,e),y=new Date(0);y.setUTCFullYear(B,0,w),y.setUTCHours(0,0,0,0);var U=Jg(y,e);return U}var dk=6048e5;function fk(r,e){Ts(1,arguments);var t=bo(r),n=Jg(t,e).getTime()-hk(t,e).getTime();return Math.round(n/dk)+1}function Dr(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var Zl={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Dr(t==="yy"?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):Dr(n+1,2)},d:function(e,t){return Dr(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return Dr(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Dr(e.getUTCHours(),t.length)},m:function(e,t){return Dr(e.getUTCMinutes(),t.length)},s:function(e,t){return Dr(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,n-3));return Dr(s,t.length)}},sh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pk={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Zl.y(e,t)},Y:function(e,t,n,i){var s=Yb(e,i),a=s>0?s:1-s;if(t==="YY"){var l=a%100;return Dr(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Dr(a,t.length)},R:function(e,t){var n=Xb(e);return Dr(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return Dr(n,t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Dr(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Dr(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Zl.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Dr(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var s=fk(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Dr(s,t.length)},I:function(e,t,n){var i=ck(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Dr(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zl.d(e,t)},D:function(e,t,n){var i=ok(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Dr(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Dr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Dr(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Dr(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i=e.getUTCHours(),s;switch(i===12?s=sh.noon:i===0?s=sh.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i=e.getUTCHours(),s;switch(i>=17?s=sh.evening:i>=12?s=sh.afternoon:i>=4?s=sh.morning:s=sh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Zl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zl.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Dr(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Dr(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zl.s(e,t)},S:function(e,t){return Zl.S(e,t)},X:function(e,t,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return y5(a);case"XXXX":case"XX":return hc(a);case"XXXXX":case"XXX":default:return hc(a,":")}},x:function(e,t,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(t){case"x":return y5(a);case"xxxx":case"xx":return hc(a);case"xxxxx":case"xxx":default:return hc(a,":")}},O:function(e,t,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+v5(a,":");case"OOOO":default:return"GMT"+hc(a,":")}},z:function(e,t,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+v5(a,":");case"zzzz":default:return"GMT"+hc(a,":")}},t:function(e,t,n,i){var s=i._originalDate||e,a=Math.floor(s.getTime()/1e3);return Dr(a,t.length)},T:function(e,t,n,i){var s=i._originalDate||e,a=s.getTime();return Dr(a,t.length)}};function v5(r,e){var t=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),s=n%60;if(s===0)return t+String(i);var a=e;return t+String(i)+a+Dr(s,2)}function y5(r,e){if(r%60===0){var t=r>0?"-":"+";return t+Dr(Math.abs(r)/60,2)}return hc(r,e)}function hc(r,e){var t=e||"",n=r>0?"-":"+",i=Math.abs(r),s=Dr(Math.floor(i/60),2),a=Dr(i%60,2);return n+s+t+a}var B5=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Jb=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},gk=function(e,t){var n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return B5(e,t);var a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",B5(i,t)).replace("{{time}}",Jb(s,t))},mk={p:Jb,P:gk},wk=["D","DD"],vk=["YY","YYYY"];function yk(r){return wk.indexOf(r)!==-1}function Bk(r){return vk.indexOf(r)!==-1}function x5(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var xk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ck=function(e,t,n){var i,s=xk[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function rw(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var _k={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ek={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ik={date:rw({formats:_k,defaultWidth:"full"}),time:rw({formats:bk,defaultWidth:"full"}),dateTime:rw({formats:Ek,defaultWidth:"full"})},Sk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fk=function(e,t,n,i){return Sk[e]};function xd(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",i;if(n==="formatting"&&r.formattingValues){var s=r.defaultFormattingWidth||r.defaultWidth,a=t!=null&&t.width?String(t.width):s;i=r.formattingValues[a]||r.formattingValues[s]}else{var l=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[u]||r.values[l]}var d=r.argumentCallback?r.argumentCallback(e):e;return i[d]}}var Nk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pk=function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rk={ordinalNumber:Pk,era:xd({values:Nk,defaultWidth:"wide"}),quarter:xd({values:Uk,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:xd({values:Tk,defaultWidth:"wide"}),day:xd({values:Lk,defaultWidth:"wide"}),dayPeriod:xd({values:Qk,defaultWidth:"wide",formattingValues:kk,defaultFormattingWidth:"wide"})};function Cd(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(i);if(!s)return null;var a=s[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(l)?Ok(l,function(w){return w.test(a)}):Dk(l,function(w){return w.test(a)}),d;d=r.valueCallback?r.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;var p=e.slice(a.length);return{value:d,rest:p}}}function Dk(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function Ok(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function Mk(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],s=e.match(r.parsePattern);if(!s)return null;var a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;var l=e.slice(i.length);return{value:a,rest:l}}}var jk=/^(\d+)(th|st|nd|rd)?/i,Hk=/\d+/i,Vk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kk={any:[/^b/i,/^(a|c)/i]},qk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gk={any:[/1/i,/2/i,/3/i,/4/i]},zk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$k={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zk={ordinalNumber:Mk({matchPattern:jk,parsePattern:Hk,valueCallback:function(e){return parseInt(e,10)}}),era:Cd({matchPatterns:Vk,defaultMatchWidth:"wide",parsePatterns:Kk,defaultParseWidth:"any"}),quarter:Cd({matchPatterns:qk,defaultMatchWidth:"wide",parsePatterns:Gk,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cd({matchPatterns:zk,defaultMatchWidth:"wide",parsePatterns:Wk,defaultParseWidth:"any"}),day:Cd({matchPatterns:$k,defaultMatchWidth:"wide",parsePatterns:Xk,defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:Yk,defaultMatchWidth:"any",parsePatterns:Jk,defaultParseWidth:"any"})},eP={code:"en-US",formatDistance:Ck,formatLong:Ik,formatRelative:Fk,localize:Rk,match:Zk,options:{weekStartsOn:0,firstWeekContainsDate:1}},tP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nP=/^'([^]*?)'?$/,iP=/''/g,sP=/[a-zA-Z]/;function Qu(r,e,t){var n,i,s,a,l,u,d,p,w,B,y,U,Q,k;Ts(2,arguments);var M=String(e),D=Dm(),q=(n=(i=void 0)!==null&&i!==void 0?i:D.locale)!==null&&n!==void 0?n:eP,ee=Nc((s=(a=(l=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&l!==void 0?l:D.firstWeekContainsDate)!==null&&a!==void 0?a:(d=D.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(ee>=1&&ee<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=Nc((w=(B=(y=(U=void 0)!==null&&U!==void 0?U:void 0)!==null&&y!==void 0?y:D.weekStartsOn)!==null&&B!==void 0?B:(Q=D.locale)===null||Q===void 0||(k=Q.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&w!==void 0?w:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!q.localize)throw new RangeError("locale must contain localize property");if(!q.formatLong)throw new RangeError("locale must contain formatLong property");var J=bo(r);if(!sk(J))throw new RangeError("Invalid time value");var O=nk(J),C=Ak(J,O),I={firstWeekContainsDate:ee,weekStartsOn:K,locale:q,_originalDate:J},j=M.match(rP).map(function(N){var T=N[0];if(T==="p"||T==="P"){var S=mk[T];return S(N,q.formatLong)}return N}).join("").match(tP).map(function(N){if(N==="''")return"'";var T=N[0];if(T==="'")return AP(N);var S=pk[T];if(S)return Bk(N)&&x5(N,e,String(r)),yk(N)&&x5(N,e,String(r)),S(C,N,q.localize,I);if(T.match(sP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return N}).join("");return j}function AP(r){var e=r.match(nP);return e?e[1].replace(iP,"'"):r}const aP=({onEdit:r,onView:e,onNew:t})=>{const{currentUser:n}=ds(),[i,s]=Se.useState([]),[a,l]=Se.useState(!0);Se.useEffect(()=>{u()},[]);const u=async()=>{try{const w=hr(Et,`users/${n?.uid}/invoices`),y=(await dn(w)).docs.map(U=>({id:U.id,...U.data()}));y.sort((U,Q)=>new Date(Q.createdAt).getTime()-new Date(U.createdAt).getTime()),s(y)}catch(w){console.error("Error fetching invoices:",w)}finally{l(!1)}},d=async w=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await Sc(zr(Et,`users/${n?.uid}/invoices`,w)),s(i.filter(B=>B.id!==w))}catch(B){console.error("Error deleting invoice:",B)}},p=w=>{switch(w){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"paid":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return a?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoices"}),g.jsx("p",{className:"text-gray-600",children:"Manage your invoices"})]}),g.jsxs("button",{onClick:t,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-2"}),"New Invoice"]})]}),i.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(vf,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No invoices"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first invoice."}),g.jsx("div",{className:"mt-6",children:g.jsxs("button",{onClick:t,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-2"}),"Create Invoice"]})})]}):g.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:g.jsx("ul",{className:"divide-y divide-gray-200",children:i.map(w=>g.jsx("li",{children:g.jsx("div",{className:"px-4 py-4 sm:px-6",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(vf,{className:"h-6 w-6 text-gray-400"})}),g.jsxs("div",{className:"ml-4",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("p",{className:"text-sm font-medium text-blue-600",children:w.invoiceNumber}),g.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-medium rounded-full ${p(w.status)}`,children:w.status})]}),g.jsxs("div",{className:"mt-1",children:[g.jsx("p",{className:"text-sm text-gray-900",children:w.customer.name}),g.jsxs("p",{className:"text-sm text-gray-500",children:[Qu(new Date(w.date),"MMM dd, yyyy")," • ₹",w.total.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:()=>e(w),className:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:g.jsx(wf,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>r(w),className:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:g.jsx(Pm,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>d(w.id),className:"inline-flex items-center p-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:g.jsx(Lu,{className:"w-4 h-4"})})]})]})})},w.id))})})]})},oP="modulepreload",lP=function(r){return"/"+r},C5={},hv=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(t.map(d=>{if(d=lP(d),d in C5)return;C5[d]=!0;const p=d.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const B=document.createElement("link");if(B.rel=p?"stylesheet":oP,p||(B.as="script"),B.crossOrigin="",B.href=d,l&&B.setAttribute("nonce",l),document.head.appendChild(B),p)return new Promise((y,U)=>{B.addEventListener("load",y),B.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var cs=Uint8Array,_A=Uint16Array,ny=Int32Array,Om=new cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mm=new cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dv=new cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zb=function(r,e){for(var t=new _A(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new ny(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},eE=Zb(Om,2),tE=eE.b,fv=eE.r;tE[28]=258,fv[258]=28;var rE=Zb(Mm,0),uP=rE.b,_5=rE.r,pv=new _A(32768);for(var nn=0;nn<32768;++nn){var eu=(nn&43690)>>1|(nn&21845)<<1;eu=(eu&52428)>>2|(eu&13107)<<2,eu=(eu&61680)>>4|(eu&3855)<<4,pv[nn]=((eu&65280)>>8|(eu&255)<<8)>>1}var yo=function(r,e,t){for(var n=r.length,i=0,s=new _A(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new _A(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(t){l=new _A(1<<e);var u=15-e;for(i=0;i<n;++i)if(r[i])for(var d=i<<4|r[i],p=e-r[i],w=a[r[i]-1]++<<p,B=w|(1<<p)-1;w<=B;++w)l[pv[w]>>u]=d}else for(l=new _A(n),i=0;i<n;++i)r[i]&&(l[i]=pv[a[r[i]-1]++]>>15-r[i]);return l},ku=new cs(288);for(var nn=0;nn<144;++nn)ku[nn]=8;for(var nn=144;nn<256;++nn)ku[nn]=9;for(var nn=256;nn<280;++nn)ku[nn]=7;for(var nn=280;nn<288;++nn)ku[nn]=8;var yf=new cs(32);for(var nn=0;nn<32;++nn)yf[nn]=5;var cP=yo(ku,9,0),hP=yo(ku,9,1),dP=yo(yf,5,0),fP=yo(yf,5,1),nw=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Na=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},iw=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},iy=function(r){return(r+7)/8|0},nE=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new cs(r.subarray(e,t))},pP=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],La=function(r,e,t){var n=new Error(e||pP[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,La),!t)throw n;return n},gP=function(r,e,t,n){var i=r.length,s=0;if(!i||e.f&&!e.l)return t||new cs(0);var a=!t,l=a||e.i!=2,u=e.i;a&&(t=new cs(i*3));var d=function(ke){var Xe=t.length;if(ke>Xe){var $e=new cs(Math.max(Xe*2,ke));$e.set(t),t=$e}},p=e.f||0,w=e.p||0,B=e.b||0,y=e.l,U=e.d,Q=e.m,k=e.n,M=i*8;do{if(!y){p=Na(r,w,1);var D=Na(r,w+1,3);if(w+=3,D)if(D==1)y=hP,U=fP,Q=9,k=5;else if(D==2){var J=Na(r,w,31)+257,O=Na(r,w+10,15)+4,C=J+Na(r,w+5,31)+1;w+=14;for(var I=new cs(C),j=new cs(19),N=0;N<O;++N)j[dv[N]]=Na(r,w+N*3,7);w+=O*3;for(var T=nw(j),S=(1<<T)-1,te=yo(j,T,1),N=0;N<C;){var Be=te[Na(r,w,S)];w+=Be&15;var q=Be>>4;if(q<16)I[N++]=q;else{var ae=0,ue=0;for(q==16?(ue=3+Na(r,w,3),w+=2,ae=I[N-1]):q==17?(ue=3+Na(r,w,7),w+=3):q==18&&(ue=11+Na(r,w,127),w+=7);ue--;)I[N++]=ae}}var se=I.subarray(0,J),ce=I.subarray(J);Q=nw(se),k=nw(ce),y=yo(se,Q,1),U=yo(ce,k,1)}else La(1);else{var q=iy(w)+4,ee=r[q-4]|r[q-3]<<8,K=q+ee;if(K>i){u&&La(0);break}l&&d(B+ee),t.set(r.subarray(q,K),B),e.b=B+=ee,e.p=w=K*8,e.f=p;continue}if(w>M){u&&La(0);break}}l&&d(B+131072);for(var fe=(1<<Q)-1,ie=(1<<k)-1,R=w;;R=w){var ae=y[iw(r,w)&fe],z=ae>>4;if(w+=ae&15,w>M){u&&La(0);break}if(ae||La(2),z<256)t[B++]=z;else if(z==256){R=w,y=null;break}else{var re=z-254;if(z>264){var N=z-257,oe=Om[N];re=Na(r,w,(1<<oe)-1)+tE[N],w+=oe}var de=U[iw(r,w)&ie],xe=de>>4;de||La(3),w+=de&15;var ce=uP[xe];if(xe>3){var oe=Mm[xe];ce+=iw(r,w)&(1<<oe)-1,w+=oe}if(w>M){u&&La(0);break}l&&d(B+131072);var ge=B+re;if(B<ce){var Ce=s-ce,je=Math.min(ce,ge);for(Ce+B<0&&La(3);B<je;++B)t[B]=n[Ce+B]}for(;B<ge;++B)t[B]=t[B-ce]}}e.l=y,e.p=R,e.b=B,e.f=p,y&&(p=1,e.m=Q,e.d=U,e.n=k)}while(!p);return B!=t.length&&a?nE(t,0,B):t.subarray(0,B)},el=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},_d=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},sw=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:sE,l:0};if(i==1){var a=new cs(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(K,J){return K.f-J.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],d=0,p=1,w=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};p!=i-1;)l=t[t[d].f<t[w].f?d++:w++],u=t[d!=p&&t[d].f<t[w].f?d++:w++],t[p++]={s:-1,f:l.f+u.f,l,r:u};for(var B=s[0].s,n=1;n<i;++n)s[n].s>B&&(B=s[n].s);var y=new _A(B+1),U=gv(t[p-1],y,0);if(U>e){var n=0,Q=0,k=U-e,M=1<<k;for(s.sort(function(J,O){return y[O.s]-y[J.s]||J.f-O.f});n<i;++n){var D=s[n].s;if(y[D]>e)Q+=M-(1<<U-y[D]),y[D]=e;else break}for(Q>>=k;Q>0;){var q=s[n].s;y[q]<e?Q-=1<<e-y[q]++-1:++n}for(;n>=0&&Q;--n){var ee=s[n].s;y[ee]==e&&(--y[ee],++Q)}U=e}return{t:new cs(y),l:U}},gv=function(r,e,t){return r.s==-1?Math.max(gv(r.l,e,t+1),gv(r.r,e,t+1)):e[r.s]=t},b5=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new _A(++e),n=0,i=r[0],s=1,a=function(u){t[n++]=u},l=1;l<=e;++l)if(r[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[l]}return{c:t.subarray(0,n),n:e}},bd=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},iE=function(r,e,t){var n=t.length,i=iy(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},E5=function(r,e,t,n,i,s,a,l,u,d,p){el(e,p++,t),++i[256];for(var w=sw(i,15),B=w.t,y=w.l,U=sw(s,15),Q=U.t,k=U.l,M=b5(B),D=M.c,q=M.n,ee=b5(Q),K=ee.c,J=ee.n,O=new _A(19),C=0;C<D.length;++C)++O[D[C]&31];for(var C=0;C<K.length;++C)++O[K[C]&31];for(var I=sw(O,7),j=I.t,N=I.l,T=19;T>4&&!j[dv[T-1]];--T);var S=d+5<<3,te=bd(i,ku)+bd(s,yf)+a,Be=bd(i,B)+bd(s,Q)+a+14+3*T+bd(O,j)+2*O[16]+3*O[17]+7*O[18];if(u>=0&&S<=te&&S<=Be)return iE(e,p,r.subarray(u,u+d));var ae,ue,se,ce;if(el(e,p,1+(Be<te)),p+=2,Be<te){ae=yo(B,y,0),ue=B,se=yo(Q,k,0),ce=Q;var fe=yo(j,N,0);el(e,p,q-257),el(e,p+5,J-1),el(e,p+10,T-4),p+=14;for(var C=0;C<T;++C)el(e,p+3*C,j[dv[C]]);p+=3*T;for(var ie=[D,K],R=0;R<2;++R)for(var z=ie[R],C=0;C<z.length;++C){var re=z[C]&31;el(e,p,fe[re]),p+=j[re],re>15&&(el(e,p,z[C]>>5&127),p+=z[C]>>12)}}else ae=cP,ue=ku,se=dP,ce=yf;for(var C=0;C<l;++C){var oe=n[C];if(oe>255){var re=oe>>18&31;_d(e,p,ae[re+257]),p+=ue[re+257],re>7&&(el(e,p,oe>>23&31),p+=Om[re]);var de=oe&31;_d(e,p,se[de]),p+=ce[de],de>3&&(_d(e,p,oe>>5&8191),p+=Mm[de])}else _d(e,p,ae[oe]),p+=ue[oe]}return _d(e,p,ae[256]),p+ue[256]},mP=new ny([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sE=new cs(0),wP=function(r,e,t,n,i,s){var a=s.z||r.length,l=new cs(n+a+5*(1+Math.ceil(a/7e3))+i),u=l.subarray(n,l.length-i),d=s.l,p=(s.r||0)&7;if(e){p&&(u[0]=s.r>>3);for(var w=mP[e-1],B=w>>13,y=w&8191,U=(1<<t)-1,Q=s.p||new _A(32768),k=s.h||new _A(U+1),M=Math.ceil(t/3),D=2*M,q=function(At){return(r[At]^r[At+1]<<M^r[At+2]<<D)&U},ee=new ny(25e3),K=new _A(288),J=new _A(32),O=0,C=0,I=s.i||0,j=0,N=s.w||0,T=0;I+2<a;++I){var S=q(I),te=I&32767,Be=k[S];if(Q[te]=Be,k[S]=te,N<=I){var ae=a-I;if((O>7e3||j>24576)&&(ae>423||!d)){p=E5(r,u,0,ee,K,J,C,j,T,I-T,p),j=O=C=0,T=I;for(var ue=0;ue<286;++ue)K[ue]=0;for(var ue=0;ue<30;++ue)J[ue]=0}var se=2,ce=0,fe=y,ie=te-Be&32767;if(ae>2&&S==q(I-ie))for(var R=Math.min(B,ae)-1,z=Math.min(32767,I),re=Math.min(258,ae);ie<=z&&--fe&&te!=Be;){if(r[I+se]==r[I+se-ie]){for(var oe=0;oe<re&&r[I+oe]==r[I+oe-ie];++oe);if(oe>se){if(se=oe,ce=ie,oe>R)break;for(var de=Math.min(ie,oe-2),xe=0,ue=0;ue<de;++ue){var ge=I-ie+ue&32767,Ce=Q[ge],je=ge-Ce&32767;je>xe&&(xe=je,Be=ge)}}}te=Be,Be=Q[te],ie+=te-Be&32767}if(ce){ee[j++]=268435456|fv[se]<<18|_5[ce];var ke=fv[se]&31,Xe=_5[ce]&31;C+=Om[ke]+Mm[Xe],++K[257+ke],++J[Xe],N=I+se,++O}else ee[j++]=r[I],++K[r[I]]}}for(I=Math.max(I,N);I<a;++I)ee[j++]=r[I],++K[r[I]];p=E5(r,u,d,ee,K,J,C,j,T,I-T,p),d||(s.r=p&7|u[p/8|0]<<3,p-=7,s.h=k,s.p=Q,s.i=I,s.w=N)}else{for(var I=s.w||0;I<a+d;I+=65535){var $e=I+65535;$e>=a&&(u[p/8|0]=d,$e=a),p=iE(u,p+1,r.subarray(I,$e))}s.i=a}return nE(l,0,n+iy(p)+i)},AE=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},vP=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new cs(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return wP(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},aE=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},yP=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=AE();i.p(e.dictionary),aE(r,2,i.d())}},BP=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&La(6,"invalid zlib data"),(r[1]>>5&1)==1&&La(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function mv(r,e){e||(e={});var t=AE();t.p(r);var n=vP(r,e,e.dictionary?6:2,4);return yP(n,e),aE(n,n.length-4,t.d()),n}function xP(r,e){return gP(r.subarray(BP(r),-4),{i:2},e,e)}var CP=typeof TextDecoder<"u"&&new TextDecoder,_P=0;try{CP.decode(sE,{stream:!0}),_P=1}catch{}var Ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Aw(){Ot.console&&typeof Ot.console.log=="function"&&Ot.console.log.apply(Ot.console,arguments)}var Gr={log:Aw,warn:function(r){Ot.console&&(typeof Ot.console.warn=="function"?Ot.console.warn.apply(Ot.console,arguments):Aw.call(null,arguments))},error:function(r){Ot.console&&(typeof Ot.console.error=="function"?Ot.console.error.apply(Ot.console,arguments):Aw(r))}};function aw(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){dc(n.response,e,t)},n.onerror=function(){Gr.error("could not download file")},n.send()}function I5(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Yd,wv,dc=Ot.saveAs||((typeof window>"u"?"undefined":Sr(window))!=="object"||window!==Ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Ot.URL||Ot.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?I5(i.href)?aw(r,e,t):Lp(i,i.target="_blank"):Lp(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(I5(r))aw(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Lp(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Sr(s)!=="object"&&(Gr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return aw(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(Ot.HTMLElement)||Ot.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Sr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},l.readAsDataURL(r)}else{var u=Ot.URL||Ot.webkitURL,d=u.createObjectURL(r);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oE(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ow(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=ns(t,n,i,s,e[0],7,-680876936),s=ns(s,t,n,i,e[1],12,-389564586),i=ns(i,s,t,n,e[2],17,606105819),n=ns(n,i,s,t,e[3],22,-1044525330),t=ns(t,n,i,s,e[4],7,-176418897),s=ns(s,t,n,i,e[5],12,1200080426),i=ns(i,s,t,n,e[6],17,-1473231341),n=ns(n,i,s,t,e[7],22,-45705983),t=ns(t,n,i,s,e[8],7,1770035416),s=ns(s,t,n,i,e[9],12,-1958414417),i=ns(i,s,t,n,e[10],17,-42063),n=ns(n,i,s,t,e[11],22,-1990404162),t=ns(t,n,i,s,e[12],7,1804603682),s=ns(s,t,n,i,e[13],12,-40341101),i=ns(i,s,t,n,e[14],17,-1502002290),t=is(t,n=ns(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=is(s,t,n,i,e[6],9,-1069501632),i=is(i,s,t,n,e[11],14,643717713),n=is(n,i,s,t,e[0],20,-373897302),t=is(t,n,i,s,e[5],5,-701558691),s=is(s,t,n,i,e[10],9,38016083),i=is(i,s,t,n,e[15],14,-660478335),n=is(n,i,s,t,e[4],20,-405537848),t=is(t,n,i,s,e[9],5,568446438),s=is(s,t,n,i,e[14],9,-1019803690),i=is(i,s,t,n,e[3],14,-187363961),n=is(n,i,s,t,e[8],20,1163531501),t=is(t,n,i,s,e[13],5,-1444681467),s=is(s,t,n,i,e[2],9,-51403784),i=is(i,s,t,n,e[7],14,1735328473),t=ss(t,n=is(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ss(s,t,n,i,e[8],11,-2022574463),i=ss(i,s,t,n,e[11],16,1839030562),n=ss(n,i,s,t,e[14],23,-35309556),t=ss(t,n,i,s,e[1],4,-1530992060),s=ss(s,t,n,i,e[4],11,1272893353),i=ss(i,s,t,n,e[7],16,-155497632),n=ss(n,i,s,t,e[10],23,-1094730640),t=ss(t,n,i,s,e[13],4,681279174),s=ss(s,t,n,i,e[0],11,-358537222),i=ss(i,s,t,n,e[3],16,-722521979),n=ss(n,i,s,t,e[6],23,76029189),t=ss(t,n,i,s,e[9],4,-640364487),s=ss(s,t,n,i,e[12],11,-421815835),i=ss(i,s,t,n,e[15],16,530742520),t=As(t,n=ss(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=As(s,t,n,i,e[7],10,1126891415),i=As(i,s,t,n,e[14],15,-1416354905),n=As(n,i,s,t,e[5],21,-57434055),t=As(t,n,i,s,e[12],6,1700485571),s=As(s,t,n,i,e[3],10,-1894986606),i=As(i,s,t,n,e[10],15,-1051523),n=As(n,i,s,t,e[1],21,-2054922799),t=As(t,n,i,s,e[8],6,1873313359),s=As(s,t,n,i,e[15],10,-30611744),i=As(i,s,t,n,e[6],15,-1560198380),n=As(n,i,s,t,e[13],21,1309151649),t=As(t,n,i,s,e[4],6,-145523070),s=As(s,t,n,i,e[11],10,-1120210379),i=As(i,s,t,n,e[2],15,718787259),n=As(n,i,s,t,e[9],21,-343485551),r[0]=du(t,r[0]),r[1]=du(n,r[1]),r[2]=du(i,r[2]),r[3]=du(s,r[3])}function jm(r,e,t,n,i,s){return e=du(du(e,r),du(n,s)),du(e<<i|e>>>32-i,t)}function ns(r,e,t,n,i,s,a){return jm(e&t|~e&n,r,e,i,s,a)}function is(r,e,t,n,i,s,a){return jm(e&n|t&~n,r,e,i,s,a)}function ss(r,e,t,n,i,s,a){return jm(e^t^n,r,e,i,s,a)}function As(r,e,t,n,i,s,a){return jm(t^(e|~n),r,e,i,s,a)}function lE(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)ow(n,bP(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ow(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,ow(n,i),n}function bP(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}Yd=Ot.atob.bind(Ot),wv=Ot.btoa.bind(Ot);var S5="0123456789abcdef".split("");function EP(r){for(var e="",t=0;t<4;t++)e+=S5[r>>8*t+4&15]+S5[r>>8*t&15];return e}function IP(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function vv(r){return lE(r).map(IP).join("")}var SP=function(r){for(var e=0;e<r.length;e++)r[e]=EP(r[e]);return r.join("")}(lE("hello"))!="5d41402abc4b2a76b9719d911017c592";function du(r,e){if(SP){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yv(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length>>0),new Array(s+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var p=l[u];d=(d+p+a.charCodeAt(u))%256,l[u]=l[d],l[d]=p}t=r,n=l}else l=n;var w=e.length,B=0,y=0,U="";for(u=0;u<w;u++)y=(y+(p=l[B=(B+1)%256]))%256,l[B]=l[y],l[y]=p,a=l[(l[B]+l[y])%256],U+=String.fromCharCode(e.charCodeAt(u)^a);return U}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F5={print:4,modify:8,copy:16,"annot-forms":32};function wh(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(l){if(F5.perm!==void 0)throw new Error("Invalid permission: "+l);i+=F5[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=vv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yv(this.encryptionKey,this.padding)}function vh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=r[n]}return e}function N5(r){if(Sr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(l){Ot.console&&Gr.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zg(r){if(!(this instanceof Zg))return new Zg(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function uE(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function fc(r,e,t,n,i){if(!(this instanceof fc))return new fc(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,uE.call(this,n,i)}function bh(r,e,t,n,i){if(!(this instanceof bh))return new bh(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,uE.call(this,n,i)}function Rt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,u=16,d="S",p=null;Sr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(p=r.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(u=r.floatPrecision),d=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var w=r.putOnlyUsedFonts||!1,B={},y={internal:{},__private__:{}};y.__private__.PubSub=N5;var U="1.3",Q=y.__private__.getPdfVersion=function(){return U};y.__private__.setPdfVersion=function(x){U=x};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var M=y.__private__.getPageFormat=function(x){return k[x]};i=i||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},q=D.COMPAT;function ee(){this.saveGraphicsState(),Ae(new dt(st,0,0,-st,0,di()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),d="n",q=D.ADVANCED}function K(){this.restoreGraphicsState(),d="S",q=D.COMPAT}var J=y.__private__.combineFontStyleAndFontWeight=function(x,V){if(x=="bold"&&V=="normal"||x=="bold"&&V==400||x=="normal"&&V=="italic"||x=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(x=V==400||V==="normal"?x==="italic"?"italic":"normal":V!=700&&V!=="bold"||x!=="normal"?(V==700?"bold":V)+""+x:"bold"),x};y.advancedAPI=function(x){var V=q===D.COMPAT;return V&&ee.call(this),typeof x!="function"||(x(this),V&&K.call(this)),this},y.compatAPI=function(x){var V=q===D.ADVANCED;return V&&K.call(this),typeof x!="function"||(x(this),V&&ee.call(this)),this},y.isAdvancedAPI=function(){return q===D.ADVANCED};var O,C=function(x){if(q!==D.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=y.roundToPrecision=y.__private__.roundToPrecision=function(x,V){var le=e||V;if(isNaN(x)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(le).replace(/0+$/,"")};O=y.hpf=y.__private__.hpf=typeof u=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return I(x,u)}:u==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return I(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return I(x,16)};var j=y.f2=y.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return I(x,2)},N=y.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return I(x,3)},T=y.scale=y.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return q===D.COMPAT?x*st:q===D.ADVANCED?x:void 0},S=function(x){return q===D.COMPAT?di()-x:q===D.ADVANCED?x:void 0},te=function(x){return T(S(x))};y.__private__.setPrecision=y.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Be,ae="00000000000000000000000000000000",ue=y.__private__.getFileId=function(){return ae},se=y.__private__.setFileId=function(x){return ae=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(or=new wh(p.userPermissions,p.userPassword,p.ownerPassword,ae)),ae};y.setFileId=function(x){return se(x),this},y.getFileId=function(){return ue()};var ce=y.__private__.convertDateToPDFDate=function(x){var V=x.getTimezoneOffset(),le=V<0?"+":"-",pe=Math.floor(Math.abs(V/60)),Ie=Math.abs(V%60),De=[le,re(pe),"'",re(Ie),"'"].join("");return["D:",x.getFullYear(),re(x.getMonth()+1),re(x.getDate()),re(x.getHours()),re(x.getMinutes()),re(x.getSeconds()),De].join("")},fe=y.__private__.convertPDFDateToDate=function(x){var V=parseInt(x.substr(2,4),10),le=parseInt(x.substr(6,2),10)-1,pe=parseInt(x.substr(8,2),10),Ie=parseInt(x.substr(10,2),10),De=parseInt(x.substr(12,2),10),We=parseInt(x.substr(14,2),10);return new Date(V,le,pe,Ie,De,We,0)},ie=y.__private__.setCreationDate=function(x){var V;if(x===void 0&&(x=new Date),x instanceof Date)V=ce(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=x}return Be=V},R=y.__private__.getCreationDate=function(x){var V=Be;return x==="jsDate"&&(V=fe(Be)),V};y.setCreationDate=function(x){return ie(x),this},y.getCreationDate=function(x){return R(x)};var z,re=y.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},oe=y.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},de=0,xe=[],ge=[],Ce=0,je=[],ke=[],Xe=!1,$e=ge,At=function(){de=0,Ce=0,ge=[],xe=[],je=[],tA=Vr(),li=Vr()};y.__private__.setCustomOutputDestination=function(x){Xe=!0,$e=x};var Te=function(x){Xe||($e=x)};y.__private__.resetCustomOutputDestination=function(){Xe=!1,$e=ge};var Ae=y.__private__.out=function(x){return x=x.toString(),Ce+=x.length+1,$e.push(x),$e},bt=y.__private__.write=function(x){return Ae(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},ze=y.__private__.getArrayBuffer=function(x){for(var V=x.length,le=new ArrayBuffer(V),pe=new Uint8Array(le);V--;)pe[V]=x.charCodeAt(V);return le},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ve};var et=r.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(x){return et=q===D.ADVANCED?x/st:x,this};var nt,rt=y.__private__.getFontSize=y.getFontSize=function(){return q===D.COMPAT?et:et*st},wt=r.R2L||!1;y.__private__.setR2L=y.setR2L=function(x){return wt=x,this},y.__private__.getR2L=y.getR2L=function(){return wt};var vt,St=y.__private__.setZoomMode=function(x){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))nt=x;else if(isNaN(x)){if(V.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');nt=x}else nt=parseInt(x,10)};y.__private__.getZoomMode=function(){return nt};var ct,yt=y.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');vt=x};y.__private__.getPageMode=function(){return vt};var Ht=y.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');ct=x};y.__private__.getLayoutMode=function(){return ct},y.__private__.setDisplayMode=y.setDisplayMode=function(x,V,le){return St(x),Ht(V),yt(le),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(x){if(Object.keys(Ft).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[x]},y.__private__.getDocumentProperties=function(){return Ft},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(x){for(var V in Ft)Ft.hasOwnProperty(V)&&x[V]&&(Ft[V]=x[V]);return this},y.__private__.setDocumentProperty=function(x,V){if(Object.keys(Ft).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[x]=V};var Dt,st,ar,Wt,jn,fr={},Fr={},Hi=[],Zt={},Ls={},Qr={},An={},Hn=null,kr=0,Tt=[],rr=new N5(y),fs=r.hotfixes||[],fn={},Vn={},Vi=[],dt=function x(V,le,pe,Ie,De,We){if(!(this instanceof x))return new x(V,le,pe,Ie,De,We);isNaN(V)&&(V=1),isNaN(le)&&(le=0),isNaN(pe)&&(pe=0),isNaN(Ie)&&(Ie=1),isNaN(De)&&(De=0),isNaN(We)&&(We=0),this._matrix=[V,le,pe,Ie,De,We]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(x)},dt.prototype.multiply=function(x){var V=x.sx*this.sx+x.shy*this.shx,le=x.sx*this.shy+x.shy*this.sy,pe=x.shx*this.sx+x.sy*this.shx,Ie=x.shx*this.shy+x.sy*this.sy,De=x.tx*this.sx+x.ty*this.shx+this.tx,We=x.tx*this.shy+x.ty*this.sy+this.ty;return new dt(V,le,pe,Ie,De,We)},dt.prototype.decompose=function(){var x=this.sx,V=this.shy,le=this.shx,pe=this.sy,Ie=this.tx,De=this.ty,We=Math.sqrt(x*x+V*V),at=(x/=We)*le+(V/=We)*pe;le-=x*at,pe-=V*at;var f=Math.sqrt(le*le+pe*pe);return at/=f,x*(pe/=f)<V*(le/=f)&&(x=-x,V=-V,at=-at,We=-We),{scale:new dt(We,0,0,f,0,0),translate:new dt(1,0,0,1,Ie,De),rotate:new dt(x,V,-V,x,0,0),skew:new dt(1,0,at,1,0,0)}},dt.prototype.toString=function(x){return this.join(" ")},dt.prototype.inversed=function(){var x=this.sx,V=this.shy,le=this.shx,pe=this.sy,Ie=this.tx,De=this.ty,We=1/(x*pe-V*le),at=pe*We,f=-V*We,E=-le*We,P=x*We;return new dt(at,f,E,P,-at*Ie-E*De,-f*Ie-P*De)},dt.prototype.applyToPoint=function(x){var V=x.x*this.sx+x.y*this.shx+this.tx,le=x.x*this.shy+x.y*this.sy+this.ty;return new ys(V,le)},dt.prototype.applyToRectangle=function(x){var V=this.applyToPoint(x),le=this.applyToPoint(new ys(x.x+x.w,x.y+x.h));return new uA(V.x,V.y,le.x-V.x,le.y-V.y)},dt.prototype.clone=function(){var x=this.sx,V=this.shy,le=this.shx,pe=this.sy,Ie=this.tx,De=this.ty;return new dt(x,V,le,pe,Ie,De)},y.Matrix=dt;var oi=y.matrixMult=function(x,V){return V.multiply(x)},yn=new dt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=yn;var Bn=function(x,V){if(!Ls[x]){var le=(V instanceof fc?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);V.id=le,Ls[x]=le,Zt[le]=V,rr.publish("addPattern",V)}};y.ShadingPattern=fc,y.TilingPattern=bh,y.addShadingPattern=function(x,V){return C("addShadingPattern()"),Bn(x,V),this},y.beginTilingPattern=function(x){C("beginTilingPattern()"),za(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},y.endTilingPattern=function(x,V){C("endTilingPattern()"),V.stream=ke[z].join(`
`),Bn(x,V),rr.publish("endTilingPattern",V),Vi.pop().restore()};var Hr=y.__private__.newObject=function(){var x=Vr();return Yr(x,!0),x},Vr=y.__private__.newObjectDeferred=function(){return de++,xe[de]=function(){return Ce},de},Yr=function(x,V){return V=typeof V=="boolean"&&V,xe[x]=Ce,V&&Ae(x+" 0 obj"),x},IA=y.__private__.newAdditionalObject=function(){var x={objId:Vr(),content:""};return je.push(x),x},tA=Vr(),li=Vr(),Ki=y.__private__.decodeColorString=function(x){var V=x.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var le=parseFloat(V[0]);V=[le,le,le,"r"]}for(var pe="#",Ie=0;Ie<3;Ie++)pe+=("0"+Math.floor(255*parseFloat(V[Ie])).toString(16)).slice(-2);return pe},pn=y.__private__.encodeColorString=function(x){var V;typeof x=="string"&&(x={ch1:x});var le=x.ch1,pe=x.ch2,Ie=x.ch3,De=x.ch4,We=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var at=new oE(le);if(at.ok)le=at.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var f=parseInt(le.substr(1),16);le=f>>16&255,pe=f>>8&255,Ie=255&f}if(pe===void 0||De===void 0&&le===pe&&pe===Ie)if(typeof le=="string")V=le+" "+We[0];else switch(x.precision){case 2:V=j(le/255)+" "+We[0];break;case 3:default:V=N(le/255)+" "+We[0]}else if(De===void 0||Sr(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return V=["1.","1.","1.",We[1]].join(" ");if(typeof le=="string")V=[le,pe,Ie,We[1]].join(" ");else switch(x.precision){case 2:V=[j(le/255),j(pe/255),j(Ie/255),We[1]].join(" ");break;default:case 3:V=[N(le/255),N(pe/255),N(Ie/255),We[1]].join(" ")}}else if(typeof le=="string")V=[le,pe,Ie,De,We[2]].join(" ");else switch(x.precision){case 2:V=[j(le),j(pe),j(Ie),j(De),We[2]].join(" ");break;case 3:default:V=[N(le),N(pe),N(Ie),N(De),We[2]].join(" ")}return V},ui=y.__private__.getFilters=function(){return a},an=y.__private__.putStream=function(x){var V=(x=x||{}).data||"",le=x.filters||ui(),pe=x.alreadyAppliedFilters||[],Ie=x.addLength1||!1,De=V.length,We=x.objectId,at=function(qt){return qt};if(p!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(at=or.encryptor(We,0));var f={};le===!0&&(le=["FlateEncode"]);var E=x.additionalKeyValues||[],P=(f=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(V,le):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(f.data.length!==0&&(E.push({key:"Length",value:f.data.length}),Ie===!0&&E.push({key:"Length1",value:De})),P.length!=0)if(P.split("/").length-1==1)E.push({key:"Filter",value:P});else{E.push({key:"Filter",value:"["+P+"]"});for(var Y=0;Y<E.length;Y+=1)if(E[Y].key==="DecodeParms"){for(var be=[],Le=0;Le<f.reverseChain.split("/").length-1;Le+=1)be.push("null");be.push(E[Y].value),E[Y].value="["+be.join(" ")+"]"}}Ae("<<");for(var Ye=0;Ye<E.length;Ye++)Ae("/"+E[Ye].key+" "+E[Ye].value);Ae(">>"),f.data.length!==0&&(Ae("stream"),Ae(at(f.data)),Ae("endstream"))},ps=y.__private__.putPage=function(x){var V=x.number,le=x.data,pe=x.objId,Ie=x.contentsObjId;Yr(pe,!0),Ae("<</Type /Page"),Ae("/Parent "+x.rootDictionaryObjId+" 0 R"),Ae("/Resources "+x.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(O(x.mediaBox.bottomLeftX))+" "+parseFloat(O(x.mediaBox.bottomLeftY))+" "+O(x.mediaBox.topRightX)+" "+O(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Ae("/CropBox ["+O(x.cropBox.bottomLeftX)+" "+O(x.cropBox.bottomLeftY)+" "+O(x.cropBox.topRightX)+" "+O(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Ae("/BleedBox ["+O(x.bleedBox.bottomLeftX)+" "+O(x.bleedBox.bottomLeftY)+" "+O(x.bleedBox.topRightX)+" "+O(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Ae("/TrimBox ["+O(x.trimBox.bottomLeftX)+" "+O(x.trimBox.bottomLeftY)+" "+O(x.trimBox.topRightX)+" "+O(x.trimBox.topRightY)+"]"),x.artBox!==null&&Ae("/ArtBox ["+O(x.artBox.bottomLeftX)+" "+O(x.artBox.bottomLeftY)+" "+O(x.artBox.topRightX)+" "+O(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Ae("/UserUnit "+x.userUnit),rr.publish("putPage",{objId:pe,pageContext:Tt[V],pageNumber:V,page:le}),Ae("/Contents "+Ie+" 0 R"),Ae(">>"),Ae("endobj");var De=le.join(`
`);return q===D.ADVANCED&&(De+=`
Q`),Yr(Ie,!0),an({data:De,filters:ui(),objectId:Ie}),Ae("endobj"),pe},rA=y.__private__.putPages=function(){var x,V,le=[];for(x=1;x<=kr;x++)Tt[x].objId=Vr(),Tt[x].contentsObjId=Vr();for(x=1;x<=kr;x++)le.push(ps({number:x,data:ke[x],objId:Tt[x].objId,contentsObjId:Tt[x].contentsObjId,mediaBox:Tt[x].mediaBox,cropBox:Tt[x].cropBox,bleedBox:Tt[x].bleedBox,trimBox:Tt[x].trimBox,artBox:Tt[x].artBox,userUnit:Tt[x].userUnit,rootDictionaryObjId:tA,resourceDictionaryObjId:li}));Yr(tA,!0),Ae("<</Type /Pages");var pe="/Kids [";for(V=0;V<kr;V++)pe+=le[V]+" 0 R ";Ae(pe+"]"),Ae("/Count "+kr),Ae(">>"),Ae("endobj"),rr.publish("postPutPages")},nA=function(x){rr.publish("putFont",{font:x,out:Ae,newObject:Hr,putStream:an}),x.isAlreadyPutted!==!0&&(x.objectNumber=Hr(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+vh(x.postScriptName)),Ae("/Subtype /Type1"),typeof x.encoding=="string"&&Ae("/Encoding /"+x.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},iA=function(){for(var x in fr)fr.hasOwnProperty(x)&&(w===!1||w===!0&&B.hasOwnProperty(x))&&nA(fr[x])},SA=function(x){x.objectNumber=Hr();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[O(x.x),O(x.y),O(x.x+x.width),O(x.y+x.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var le=x.pages[1].join(`
`);an({data:le,additionalKeyValues:V,objectId:x.objectNumber}),Ae("endobj")},na=function(){for(var x in fn)fn.hasOwnProperty(x)&&SA(fn[x])},pl=function(x,V){var le,pe=[],Ie=1/(V-1);for(le=0;le<1;le+=Ie)pe.push(le);if(pe.push(1),x[0].offset!=0){var De={offset:0,color:x[0].color};x.unshift(De)}if(x[x.length-1].offset!=1){var We={offset:1,color:x[x.length-1].color};x.push(We)}for(var at="",f=0,E=0;E<pe.length;E++){for(le=pe[E];le>x[f+1].offset;)f++;var P=x[f].offset,Y=(le-P)/(x[f+1].offset-P),be=x[f].color,Le=x[f+1].color;at+=oe(Math.round((1-Y)*be[0]+Y*Le[0]).toString(16))+oe(Math.round((1-Y)*be[1]+Y*Le[1]).toString(16))+oe(Math.round((1-Y)*be[2]+Y*Le[2]).toString(16))}return at.trim()},Nr=function(x,V){V||(V=21);var le=Hr(),pe=pl(x.colors,V),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+V+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),an({data:pe,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),Ae("endobj"),x.objectNumber=Hr(),Ae("<< /ShadingType "+x.type),Ae("/ColorSpace /DeviceRGB");var De="/Coords ["+O(parseFloat(x.coords[0]))+" "+O(parseFloat(x.coords[1]))+" ";x.type===2?De+=O(parseFloat(x.coords[2]))+" "+O(parseFloat(x.coords[3])):De+=O(parseFloat(x.coords[2]))+" "+O(parseFloat(x.coords[3]))+" "+O(parseFloat(x.coords[4]))+" "+O(parseFloat(x.coords[5])),Ae(De+="]"),x.matrix&&Ae("/Matrix ["+x.matrix.toString()+"]"),Ae("/Function "+le+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},gl=function(x,V){var le=Vr(),pe=Hr();V.push({resourcesOid:le,objectOid:pe}),x.objectNumber=pe;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+x.boundingBox.map(O).join(" ")+"]"}),Ie.push({key:"XStep",value:O(x.xStep)}),Ie.push({key:"YStep",value:O(x.yStep)}),Ie.push({key:"Resources",value:le+" 0 R"}),x.matrix&&Ie.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),an({data:x.stream,additionalKeyValues:Ie,objectId:x.objectNumber}),Ae("endobj")},Qs=function(x){var V;for(V in Zt)Zt.hasOwnProperty(V)&&(Zt[V]instanceof fc?Nr(Zt[V]):Zt[V]instanceof bh&&gl(Zt[V],x))},sA=function(x){for(var V in x.objectNumber=Hr(),Ae("<<"),x)switch(V){case"opacity":Ae("/ca "+j(x[V]));break;case"stroke-opacity":Ae("/CA "+j(x[V]))}Ae(">>"),Ae("endobj")},qi=function(){var x;for(x in Qr)Qr.hasOwnProperty(x)&&sA(Qr[x])},ia=function(){for(var x in Ae("/XObject <<"),fn)fn.hasOwnProperty(x)&&fn[x].objectNumber>=0&&Ae("/"+x+" "+fn[x].objectNumber+" 0 R");rr.publish("putXobjectDict"),Ae(">>")},ml=function(){or.oid=Hr(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+or.v),Ae("/R "+or.r),Ae("/U <"+or.toHexString(or.U)+">"),Ae("/O <"+or.toHexString(or.O)+">"),Ae("/P "+or.P),Ae(">>"),Ae("endobj")},FA=function(){for(var x in Ae("/Font <<"),fr)fr.hasOwnProperty(x)&&(w===!1||w===!0&&B.hasOwnProperty(x))&&Ae("/"+x+" "+fr[x].objectNumber+" 0 R");Ae(">>")},bi=function(){if(Object.keys(Zt).length>0){for(var x in Ae("/Shading <<"),Zt)Zt.hasOwnProperty(x)&&Zt[x]instanceof fc&&Zt[x].objectNumber>=0&&Ae("/"+x+" "+Zt[x].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),Ae(">>")}},sa=function(x){if(Object.keys(Zt).length>0){for(var V in Ae("/Pattern <<"),Zt)Zt.hasOwnProperty(V)&&Zt[V]instanceof y.TilingPattern&&Zt[V].objectNumber>=0&&Zt[V].objectNumber<x&&Ae("/"+V+" "+Zt[V].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),Ae(">>")}},Xn=function(){if(Object.keys(Qr).length>0){var x;for(x in Ae("/ExtGState <<"),Qr)Qr.hasOwnProperty(x)&&Qr[x].objectNumber>=0&&Ae("/"+x+" "+Qr[x].objectNumber+" 0 R");rr.publish("putGStateDict"),Ae(">>")}},Kr=function(x){Yr(x.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),FA(),bi(),sa(x.objectOid),Xn(),ia(),Ae(">>"),Ae("endobj")},Fo=function(){var x=[];iA(),qi(),na(),Qs(x),rr.publish("putResources"),x.forEach(Kr),Kr({resourcesOid:li,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources")},No=function(){rr.publish("putAdditionalObjects");for(var x=0;x<je.length;x++){var V=je[x];Yr(V.objId,!0),Ae(V.content),Ae("endobj")}rr.publish("postPutAdditionalObjects")},Aa=function(x){Fr[x.fontName]=Fr[x.fontName]||{},Fr[x.fontName][x.fontStyle]=x.id},NA=function(x,V,le,pe,Ie){var De={id:"F"+(Object.keys(fr).length+1).toString(10),postScriptName:x,fontName:V,fontStyle:le,encoding:pe,isStandardFont:Ie||!1,metadata:{}};return rr.publish("addFont",{font:De,instance:this}),fr[De.id]=De,Aa(De),De.id},UA=function(x){for(var V=0,le=Ve.length;V<le;V++){var pe=NA.call(this,x[V][0],x[V][1],x[V][2],Ve[V][3],!0);w===!1&&(B[pe]=!0);var Ie=x[V][0].split("-");Aa({id:pe,fontName:Ie[0],fontStyle:Ie[1]||""})}rr.publish("addFonts",{fonts:fr,dictionary:Fr})},Yn=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(pe){var V=pe.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var le="Error in function "+V.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Ot.console)throw new Error(le);Ot.console.error(le,pe),Ot.alert&&alert(le)}},x.foo.bar=x,x.foo},Ha=function(x,V){var le,pe,Ie,De,We,at,f,E,P;if(Ie=(V=V||{}).sourceEncoding||"Unicode",We=V.outputEncoding,(V.autoencode||We)&&fr[Dt].metadata&&fr[Dt].metadata[Ie]&&fr[Dt].metadata[Ie].encoding&&(De=fr[Dt].metadata[Ie].encoding,!We&&fr[Dt].encoding&&(We=fr[Dt].encoding),!We&&De.codePages&&(We=De.codePages[0]),typeof We=="string"&&(We=De[We]),We)){for(f=!1,at=[],le=0,pe=x.length;le<pe;le++)(E=We[x.charCodeAt(le)])?at.push(String.fromCharCode(E)):at.push(x[le]),at[le].charCodeAt(0)>>8&&(f=!0);x=at.join("")}for(le=x.length;f===void 0&&le!==0;)x.charCodeAt(le-1)>>8&&(f=!0),le--;if(!f)return x;for(at=V.noBOM?[]:[254,255],le=0,pe=x.length;le<pe;le++){if((P=(E=x.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(P),at.push(E-(P<<8))}return String.fromCharCode.apply(void 0,at)},on=y.__private__.pdfEscape=y.pdfEscape=function(x,V){return Ha(x,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jn=y.__private__.beginPage=function(x){ke[++kr]=[],Tt[kr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},AA(kr),Te(ke[z])},TA=function(x,V){var le,pe,Ie;switch(t=V||t,typeof x=="string"&&(le=M(x.toLowerCase()),Array.isArray(le)&&(pe=le[0],Ie=le[1])),Array.isArray(x)&&(pe=x[0]*st,Ie=x[1]*st),isNaN(pe)&&(pe=i[0],Ie=i[1]),(pe>14400||Ie>14400)&&(Gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Ie=Math.min(14400,Ie)),i=[pe,Ie],t.substr(0,1)){case"l":Ie>pe&&(i=[Ie,pe]);break;case"p":pe>Ie&&(i=[Ie,pe])}Jn(i),RA(To),Ae(xn),Qo!==0&&Ae(Qo+" J"),DA!==0&&Ae(DA+" j"),rr.publish("addPage",{pageNumber:kr})},LA=function(x){x>0&&x<=kr&&(ke.splice(x,1),Tt.splice(x,1),kr--,z>kr&&(z=kr),this.setPage(z))},AA=function(x){x>0&&x<=kr&&(z=x)},xr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return ke.length-1},aA=function(x,V,le){var pe,Ie=void 0;return le=le||{},x=x!==void 0?x:fr[Dt].fontName,V=V!==void 0?V:fr[Dt].fontStyle,pe=x.toLowerCase(),Fr[pe]!==void 0&&Fr[pe][V]!==void 0?Ie=Fr[pe][V]:Fr[x]!==void 0&&Fr[x][V]!==void 0?Ie=Fr[x][V]:le.disableWarning===!1&&Gr.warn("Unable to look up font label for font '"+x+"', '"+V+"'. Refer to getFontList() for available fonts."),Ie||le.noFallback||(Ie=Fr.times[V])==null&&(Ie=Fr.times.normal),Ie},Yt=y.__private__.putInfo=function(){var x=Hr(),V=function(pe){return pe};for(var le in p!==null&&(V=or.encryptor(x,0)),Ae("<<"),Ae("/Producer ("+on(V("jsPDF "+Rt.version))+")"),Ft)Ft.hasOwnProperty(le)&&Ft[le]&&Ae("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+on(V(Ft[le]))+")");Ae("/CreationDate ("+on(V(Be))+")"),Ae(">>"),Ae("endobj")},ks=y.__private__.putCatalog=function(x){var V=(x=x||{}).rootDictionaryObjId||tA;switch(Hr(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+V+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+nt;le.substr(le.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+j(nt)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}vt&&Ae("/PageMode /"+vt),rr.publish("putCatalog"),Ae(">>"),Ae("endobj")},wl=y.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(de+1)),Ae("/Root "+de+" 0 R"),Ae("/Info "+(de-1)+" 0 R"),p!==null&&Ae("/Encrypt "+or.oid+" 0 R"),Ae("/ID [ <"+ae+"> <"+ae+"> ]"),Ae(">>")},Va=y.__private__.putHeader=function(){Ae("%PDF-"+U),Ae("%ºß¬à")},vl=y.__private__.putXRef=function(){var x="0000000000";Ae("xref"),Ae("0 "+(de+1)),Ae("0000000000 65535 f ");for(var V=1;V<=de;V++)typeof xe[V]=="function"?Ae((x+xe[V]()).slice(-10)+" 00000 n "):xe[V]!==void 0?Ae((x+xe[V]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},Ps=y.__private__.buildDocument=function(){At(),Te(ge),rr.publish("buildDocument"),Va(),rA(),No(),Fo(),p!==null&&ml(),Yt(),ks();var x=Ce;return vl(),wl(),Ae("startxref"),Ae(""+x),Ae("%%EOF"),Te(ke[z]),ge.join(`
`)},aa=y.__private__.getBlob=function(x){return new Blob([ze(x)],{type:"application/pdf"})},QA=y.output=y.__private__.output=Yn(function(x,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",x){case void 0:return Ps();case"save":y.save(V.filename);break;case"arraybuffer":return ze(Ps());case"blob":return aa(Ps());case"bloburi":case"bloburl":if(Ot.URL!==void 0&&typeof Ot.URL.createObjectURL=="function")return Ot.URL&&Ot.URL.createObjectURL(aa(Ps()))||void 0;Gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",pe=Ps();try{le=wv(pe)}catch{le=wv(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+V.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ie=V.pdfObjectUrl,De="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",at=Ot.open();return at!==null&&at.document.write(We),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',E=Ot.open();if(E!==null){E.document.write(f);var P=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=V.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(P.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Y='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',be=Ot.open();if(be!==null&&(be.document.write(Y),be.document.title=V.filename),be||typeof safari>"u")return be;break;case"datauri":case"dataurl":return Ot.document.location.href=this.output("datauristring",V);default:return null}}),gs=function(x){return Array.isArray(fs)===!0&&fs.indexOf(x)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=gs("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var or=null;ie(),se();var ms=function(x){return p!==null?or.encryptor(x,0):function(V){return V}},Gi=y.__private__.getPageInfo=y.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[x].objId,pageNumber:x,pageContext:Tt[x]}},Lt=y.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Tt)if(Tt[V].objId===x)break;return Gi(V)},zi=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Tt[z].objId,pageNumber:z,pageContext:Tt[z]}};y.addPage=function(){return TA.apply(this,arguments),this},y.setPage=function(){return AA.apply(this,arguments),Te.call(this,ke[z]),this},y.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},y.movePage=function(x,V){var le,pe;if(x>V){le=ke[x],pe=Tt[x];for(var Ie=x;Ie>V;Ie--)ke[Ie]=ke[Ie-1],Tt[Ie]=Tt[Ie-1];ke[V]=le,Tt[V]=pe,this.setPage(V)}else if(x<V){le=ke[x],pe=Tt[x];for(var De=x;De<V;De++)ke[De]=ke[De+1],Tt[De]=Tt[De+1];ke[V]=le,Tt[V]=pe,this.setPage(V)}return this},y.deletePage=function(){return LA.apply(this,arguments),this},y.__private__.text=y.text=function(x,V,le,pe,Ie){var De,We,at,f,E,P,Y,be,Le,Ye=(pe=pe||{}).scope||this;if(typeof x=="number"&&typeof V=="number"&&(typeof le=="string"||Array.isArray(le))){var qt=le;le=V,V=x,x=qt}if(arguments[3]instanceof dt?(C("The transform parameter of text() with a Matrix value"),Le=Ie):(at=arguments[4],f=arguments[5],Sr(Y=arguments[3])==="object"&&Y!==null||(typeof at=="string"&&(f=at,at=null),typeof Y=="string"&&(f=Y,Y=null),typeof Y=="number"&&(at=Y,Y=null),pe={flags:Y,angle:at,align:f})),isNaN(V)||isNaN(le)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Ye;var er="",Gt=!1,wr=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:mr,Cr=Ye.internal.scaleFactor;function Si(Pr){return Pr=Pr.split("	").join(Array(pe.TabLen||9).join(" ")),on(Pr,Y)}function ti(Pr){for(var _r,cn=Pr.concat(),Cn=[],HA=cn.length;HA--;)typeof(_r=cn.shift())=="string"?Cn.push(_r):Array.isArray(Pr)&&(_r.length===1||_r[1]===void 0&&_r[2]===void 0)?Cn.push(_r[0]):Cn.push([_r[0],_r[1],_r[2]]);return Cn}function hA(Pr,_r){var cn;if(typeof Pr=="string")cn=_r(Pr)[0];else if(Array.isArray(Pr)){for(var Cn,HA,Ul=Pr.concat(),jo=[],zu=Ul.length;zu--;)typeof(Cn=Ul.shift())=="string"?jo.push(_r(Cn)[0]):Array.isArray(Cn)&&typeof Cn[0]=="string"&&(HA=_r(Cn[0],Cn[1],Cn[2]),jo.push([HA[0],HA[1],HA[2]]));cn=jo}return cn}var dA=!1,xl=!0;if(typeof x=="string")dA=!0;else if(Array.isArray(x)){var Cl=x.concat();We=[];for(var ko,un=Cl.length;un--;)(typeof(ko=Cl.shift())!="string"||Array.isArray(ko)&&typeof ko[0]!="string")&&(xl=!1);dA=xl}if(dA===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var _l=et/Ye.internal.scaleFactor,bl=_l*(wr-1);switch(pe.baseline){case"bottom":le-=bl;break;case"top":le+=_l-bl;break;case"hanging":le+=_l-2*bl;break;case"middle":le+=_l/2-bl}if((P=pe.maxWidth||0)>0&&(typeof x=="string"?x=Ye.splitTextToSize(x,P):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Pr,_r){return Pr.concat(Ye.splitTextToSize(_r,P))},[]))),De={text:x,x:V,y:le,options:pe,mutex:{pdfEscape:on,activeFontKey:Dt,fonts:fr,activeFontSize:et}},rr.publish("preProcessText",De),x=De.text,at=(pe=De.options).angle,!(Le instanceof dt)&&at&&typeof at=="number"){at*=Math.PI/180,pe.rotationDirection===0&&(at=-at),q===D.ADVANCED&&(at=-at);var El=Math.cos(at),Il=Math.sin(at);Le=new dt(El,Il,-Il,El,0,0)}else at&&at instanceof dt&&(Le=at);q!==D.ADVANCED||Le||(Le=yn),(E=pe.charSpace||lA)!==void 0&&(er+=O(T(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(be=pe.horizontalScale)!==void 0&&(er+=O(100*be)+` Tz
`),pe.lang;var Fi=-1,Po=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,ca=Ye.internal.getCurrentPageInfo().pageContext;switch(Po){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var Dc=ca.usedRenderingMode!==void 0?ca.usedRenderingMode:-1;Fi!==-1?er+=Fi+` Tr
`:Dc!==-1&&(er+=`0 Tr
`),Fi!==-1&&(ca.usedRenderingMode=Fi),f=pe.align||"left";var Ni,Sl=et*wr,qu=Ye.internal.pageSize.getWidth(),Fl=fr[Dt];E=pe.charSpace||lA,P=pe.maxWidth||0,Y=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var MA=[],Xa=function(Pr){return Ye.getStringUnitWidth(Pr,{font:Fl,charSpace:E,fontSize:et,doKerning:!1})*et/Cr};if(Object.prototype.toString.call(x)==="[object Array]"){var Ui;We=ti(x),f!=="left"&&(Ni=We.map(Xa));var fi,Ya=0;if(f==="right"){V-=Ni[0],x=[],un=We.length;for(var ha=0;ha<un;ha++)ha===0?(fi=Ii(V),Ui=ln(le)):(fi=T(Ya-Ni[ha]),Ui=-Sl),x.push([We[ha],fi,Ui]),Ya=Ni[ha]}else if(f==="center"){V-=Ni[0]/2,x=[],un=We.length;for(var da=0;da<un;da++)da===0?(fi=Ii(V),Ui=ln(le)):(fi=T((Ya-Ni[da])/2),Ui=-Sl),x.push([We[da],fi,Ui]),Ya=Ni[da]}else if(f==="left"){x=[],un=We.length;for(var Nl=0;Nl<un;Nl++)x.push(We[Nl])}else if(f==="justify"&&Fl.encoding==="Identity-H"){x=[],un=We.length,P=P!==0?P:qu;for(var fa=0,pr=0;pr<un;pr++)if(Ui=pr===0?ln(le):-Sl,fi=pr===0?Ii(V):fa,pr<un-1){var pa=T((P-Ni[pr])/(We[pr].split(" ").length-1)),pi=We[pr].split(" ");x.push([pi[0]+" ",fi,Ui]),fa=0;for(var Bs=1;Bs<pi.length;Bs++){var Ro=(Xa(pi[Bs-1]+" "+pi[Bs])-Xa(pi[Bs]))*Cr+pa;Bs==pi.length-1?x.push([pi[Bs],Ro,0]):x.push([pi[Bs]+" ",Ro,0]),fa-=Ro}}else x.push([We[pr],fi,Ui]);x.push(["",fa,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],un=We.length,P=P!==0?P:qu,pr=0;pr<un;pr++)Ui=pr===0?ln(le):-Sl,fi=pr===0?Ii(V):0,pr<un-1?MA.push(O(T((P-Ni[pr])/(We[pr].split(" ").length-1)))):MA.push(0),x.push([We[pr],fi,Ui])}}var Gu=typeof pe.R2L=="boolean"?pe.R2L:wt;Gu===!0&&(x=hA(x,function(Pr,_r,cn){return[Pr.split("").reverse().join(""),_r,cn]})),De={text:x,x:V,y:le,options:pe,mutex:{pdfEscape:on,activeFontKey:Dt,fonts:fr,activeFontSize:et}},rr.publish("postProcessText",De),x=De.text,Gt=De.mutex.isHex||!1;var Do=fr[Dt].encoding;Do!=="WinAnsiEncoding"&&Do!=="StandardEncoding"||(x=hA(x,function(Pr,_r,cn){return[Si(Pr),_r,cn]})),We=ti(x),x=[];for(var Oo,Mo,xs,ga=0,jA=1,ma=Array.isArray(We[0])?jA:ga,wa="",Ja=function(Pr,_r,cn){var Cn="";return cn instanceof dt?(cn=typeof pe.angle=="number"?oi(cn,new dt(1,0,0,1,Pr,_r)):oi(new dt(1,0,0,1,Pr,_r),cn),q===D.ADVANCED&&(cn=oi(new dt(1,0,0,-1,0,0),cn)),Cn=cn.join(" ")+` Tm
`):Cn=O(Pr)+" "+O(_r)+` Td
`,Cn},ri=0;ri<We.length;ri++){switch(wa="",ma){case jA:xs=(Gt?"<":"(")+We[ri][0]+(Gt?">":")"),Oo=parseFloat(We[ri][1]),Mo=parseFloat(We[ri][2]);break;case ga:xs=(Gt?"<":"(")+We[ri]+(Gt?">":")"),Oo=Ii(V),Mo=ln(le)}MA!==void 0&&MA[ri]!==void 0&&(wa=MA[ri]+` Tw
`),ri===0?x.push(wa+Ja(Oo,Mo,Le)+xs):ma===ga?x.push(wa+xs):ma===jA&&x.push(wa+Ja(Oo,Mo,Le)+xs)}x=ma===ga?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Wi=`BT
/`;return Wi+=Dt+" "+et+` Tf
`,Wi+=O(et*wr)+` TL
`,Wi+=Jr+`
`,Wi+=er,Wi+=x,Ae(Wi+="ET"),B[Dt]=!0,Ye};var Rs=y.__private__.clip=y.clip=function(x){return Ae(x==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Rs("evenodd")},y.__private__.discardPath=y.discardPath=function(){return Ae("n"),this};var Ds=y.__private__.isValidStyle=function(x){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(V=!0),V};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(x){return Ds(x)&&(d=x),this};var Uo=y.__private__.getStyle=y.getStyle=function(x){var V=d;switch(x){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=x}return V},Zn=y.close=function(){return Ae("h"),this};y.stroke=function(){return Ae("S"),this},y.fill=function(x){return Ka("f",x),this},y.fillEvenOdd=function(x){return Ka("f*",x),this},y.fillStroke=function(x){return Ka("B",x),this},y.fillStrokeEvenOdd=function(x){return Ka("B*",x),this};var Ka=function(x,V){Sr(V)==="object"?oa(V,x):Ae(x)},qa=function(x){x===null||q===D.ADVANCED&&x===void 0||(x=Uo(x),Ae(x))};function oA(x,V,le,pe,Ie){var De=new bh(V||this.boundingBox,le||this.xStep,pe||this.yStep,this.gState,Ie||this.matrix);De.stream=this.stream;var We=x+"$$"+this.cloneIndex+++"$$";return Bn(We,De),De}var oa=function(x,V){var le=Ls[x.key],pe=Zt[le];if(pe instanceof fc)Ae("q"),Ae(yl(V)),pe.gState&&y.setGState(pe.gState),Ae(x.matrix.toString()+" cm"),Ae("/"+le+" sh"),Ae("Q");else if(pe instanceof bh){var Ie=new dt(1,0,0,-1,0,di());x.matrix&&(Ie=Ie.multiply(x.matrix||yn),le=oA.call(pe,x.key,x.boundingBox,x.xStep,x.yStep,Ie).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+le+" scn"),pe.gState&&y.setGState(pe.gState),Ae(V),Ae("Q")}},yl=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ei=y.moveTo=function(x,V){return Ae(O(T(x))+" "+O(te(V))+" m"),this},ei=y.lineTo=function(x,V){return Ae(O(T(x))+" "+O(te(V))+" l"),this},ci=y.curveTo=function(x,V,le,pe,Ie,De){return Ae([O(T(x)),O(te(V)),O(T(le)),O(te(pe)),O(T(Ie)),O(te(De)),"c"].join(" ")),this};y.__private__.line=y.line=function(x,V,le,pe,Ie){if(isNaN(x)||isNaN(V)||isNaN(le)||isNaN(pe)||!Ds(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return q===D.COMPAT?this.lines([[le-x,pe-V]],x,V,[1,1],Ie||"S"):this.lines([[le-x,pe-V]],x,V,[1,1]).stroke()},y.__private__.lines=y.lines=function(x,V,le,pe,Ie,De){var We,at,f,E,P,Y,be,Le,Ye,qt,er,Gt;if(typeof x=="number"&&(Gt=le,le=V,V=x,x=Gt),pe=pe||[1,1],De=De||!1,isNaN(V)||isNaN(le)||!Array.isArray(x)||!Array.isArray(pe)||!Ds(Ie)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ei(V,le),We=pe[0],at=pe[1],E=x.length,qt=V,er=le,f=0;f<E;f++)(P=x[f]).length===2?(qt=P[0]*We+qt,er=P[1]*at+er,ei(qt,er)):(Y=P[0]*We+qt,be=P[1]*at+er,Le=P[2]*We+qt,Ye=P[3]*at+er,qt=P[4]*We+qt,er=P[5]*at+er,ci(Y,be,Le,Ye,qt,er));return De&&Zn(),qa(Ie),this},y.path=function(x){for(var V=0;V<x.length;V++){var le=x[V],pe=le.c;switch(le.op){case"m":Ei(pe[0],pe[1]);break;case"l":ei(pe[0],pe[1]);break;case"c":ci.apply(this,pe);break;case"h":Zn()}}return this},y.__private__.rect=y.rect=function(x,V,le,pe,Ie){if(isNaN(x)||isNaN(V)||isNaN(le)||isNaN(pe)||!Ds(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return q===D.COMPAT&&(pe=-pe),Ae([O(T(x)),O(te(V)),O(T(le)),O(T(pe)),"re"].join(" ")),qa(Ie),this},y.__private__.triangle=y.triangle=function(x,V,le,pe,Ie,De,We){if(isNaN(x)||isNaN(V)||isNaN(le)||isNaN(pe)||isNaN(Ie)||isNaN(De)||!Ds(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-x,pe-V],[Ie-le,De-pe],[x-Ie,V-De]],x,V,[1,1],We,!0),this},y.__private__.roundedRect=y.roundedRect=function(x,V,le,pe,Ie,De,We){if(isNaN(x)||isNaN(V)||isNaN(le)||isNaN(pe)||isNaN(Ie)||isNaN(De)||!Ds(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*le),De=Math.min(De,.5*pe),this.lines([[le-2*Ie,0],[Ie*at,0,Ie,De-De*at,Ie,De],[0,pe-2*De],[0,De*at,-Ie*at,De,-Ie,De],[2*Ie-le,0],[-Ie*at,0,-Ie,-De*at,-Ie,-De],[0,2*De-pe],[0,-De*at,Ie*at,-De,Ie,-De]],x+Ie,V,[1,1],We,!0),this},y.__private__.ellipse=y.ellipse=function(x,V,le,pe,Ie){if(isNaN(x)||isNaN(V)||isNaN(le)||isNaN(pe)||!Ds(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*le,We=4/3*(Math.SQRT2-1)*pe;return Ei(x+le,V),ci(x+le,V-We,x+De,V-pe,x,V-pe),ci(x-De,V-pe,x-le,V-We,x-le,V),ci(x-le,V+We,x-De,V+pe,x,V+pe),ci(x+De,V+pe,x+le,V+We,x+le,V),qa(Ie),this},y.__private__.circle=y.circle=function(x,V,le,pe){if(isNaN(x)||isNaN(V)||isNaN(le)||!Ds(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,V,le,le,pe)},y.setFont=function(x,V,le){return le&&(V=J(V,le)),Dt=aA(x,V,{disableWarning:!1}),this};var kA=y.__private__.getFont=y.getFont=function(){return fr[aA.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var x,V,le={};for(x in Fr)if(Fr.hasOwnProperty(x))for(V in le[x]=[],Fr[x])Fr[x].hasOwnProperty(V)&&le[x].push(V);return le},y.addFont=function(x,V,le,pe,Ie){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(le=J(le,pe)),Ie=Ie||"Identity-H",NA.call(this,x,V,le,Ie)};var mr,To=r.lineWidth||.200025,PA=y.__private__.getLineWidth=y.getLineWidth=function(){return To},RA=y.__private__.setLineWidth=y.setLineWidth=function(x){return To=x,Ae(O(T(x))+" w"),this};y.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(x,V){if(x=x||[],V=V||0,isNaN(V)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(le){return O(T(le))}).join(" "),V=O(T(V)),Ae("["+x+"] "+V+" d"),this};var la=y.__private__.getLineHeight=y.getLineHeight=function(){return et*mr};y.__private__.getLineHeight=y.getLineHeight=function(){return et*mr};var Ga=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(mr=x),this},hi=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return mr};Ga(r.lineHeight);var Ii=y.__private__.getHorizontalCoordinate=function(x){return T(x)},ln=y.__private__.getVerticalCoordinate=function(x){return q===D.ADVANCED?x:Tt[z].mediaBox.topRightY-Tt[z].mediaBox.bottomLeftY-T(x)},Lo=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(x){return O(Ii(x))},ws=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(x){return O(ln(x))},xn=r.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Ki(xn)},y.__private__.setStrokeColor=y.setDrawColor=function(x,V,le,pe){return xn=pn({ch1:x,ch2:V,ch3:le,ch4:pe,pdfColorType:"draw",precision:2}),Ae(xn),this};var ua=r.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Ki(ua)},y.__private__.setFillColor=y.setFillColor=function(x,V,le,pe){return ua=pn({ch1:x,ch2:V,ch3:le,ch4:pe,pdfColorType:"fill",precision:2}),Ae(ua),this};var Jr=r.textColor||"0 g",vs=y.__private__.getTextColor=y.getTextColor=function(){return Ki(Jr)};y.__private__.setTextColor=y.setTextColor=function(x,V,le,pe){return Jr=pn({ch1:x,ch2:V,ch3:le,ch4:pe,pdfColorType:"text",precision:3}),this};var lA=r.charSpace,Os=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(lA||0)};y.__private__.setCharSpace=y.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lA=x,this};var Qo=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(x){var V=y.CapJoinStyles[x];if(V===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qo=V,Ae(V+" J"),this};var DA=0;y.__private__.setLineJoin=y.setLineJoin=function(x){var V=y.CapJoinStyles[x];if(V===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return DA=V,Ae(V+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(O(T(x))+" M"),this},y.GState=Zg,y.setGState=function(x){(x=typeof x=="string"?Qr[An[x]]:Ms(null,x)).equals(Hn)||(Ae("/"+x.id+" gs"),Hn=x)};var Ms=function(x,V){if(!x||!An[x]){var le=!1;for(var pe in Qr)if(Qr.hasOwnProperty(pe)&&Qr[pe].equals(V)){le=!0;break}if(le)V=Qr[pe];else{var Ie="GS"+(Object.keys(Qr).length+1).toString(10);Qr[Ie]=V,V.id=Ie}return x&&(An[x]=V.id),rr.publish("addGState",V),V}};y.addGState=function(x,V){return Ms(x,V),this},y.saveGraphicsState=function(){return Ae("q"),Hi.push({key:Dt,size:et,color:Jr}),this},y.restoreGraphicsState=function(){Ae("Q");var x=Hi.pop();return Dt=x.key,et=x.size,Jr=x.color,Hn=null,this},y.setCurrentTransformationMatrix=function(x){return Ae(x.toString()+" cm"),this},y.comment=function(x){return Ae("#"+x),this};var ys=function(x,V){var le=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(De){isNaN(De)||(le=parseFloat(De))}});var pe=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(De){isNaN(De)||(pe=parseFloat(De))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(De){Ie=De.toString()}}),this},uA=function(x,V,le,pe){ys.call(this,x,V),this.type="rect";var Ie=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(We){isNaN(We)||(Ie=parseFloat(We))}});var De=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(We){isNaN(We)||(De=parseFloat(We))}}),this},OA=function(){this.page=kr,this.currentPage=z,this.pages=ke.slice(0),this.pagesContext=Tt.slice(0),this.x=ar,this.y=Wt,this.matrix=jn,this.width=js(z),this.height=di(z),this.outputDestination=$e,this.id="",this.objectNumber=-1};OA.prototype.restore=function(){kr=this.page,z=this.currentPage,Tt=this.pagesContext,ke=this.pages,ar=this.x,Wt=this.y,jn=this.matrix,Wa(z,this.width),$a(z,this.height),$e=this.outputDestination};var za=function(x,V,le,pe,Ie){Vi.push(new OA),kr=z=0,ke=[],ar=x,Wt=V,jn=Ie,Jn([le,pe])},Bl=function(x){if(Vn[x])Vi.pop().restore();else{var V=new OA,le="Xo"+(Object.keys(fn).length+1).toString(10);V.id=le,Vn[x]=le,fn[le]=V,rr.publish("addFormObject",V),Vi.pop().restore()}};for(var cA in y.beginFormObject=function(x,V,le,pe,Ie){return za(x,V,le,pe,Ie),this},y.endFormObject=function(x){return Bl(x),this},y.doFormObject=function(x,V){var le=fn[Vn[x]];return Ae("q"),Ae(V.toString()+" cm"),Ae("/"+le.id+" Do"),Ae("Q"),this},y.getFormObject=function(x){var V=fn[Vn[x]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},y.save=function(x,V){return x=x||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(dc(aa(Ps()),x),typeof dc.unload=="function"&&Ot.setTimeout&&setTimeout(dc.unload,911),this):new Promise(function(le,pe){try{var Ie=dc(aa(Ps()),x);typeof dc.unload=="function"&&Ot.setTimeout&&setTimeout(dc.unload,911),le(Ie)}catch(De){pe(De.message)}})},Rt.API)Rt.API.hasOwnProperty(cA)&&(cA==="events"&&Rt.API.events.length?function(x,V){var le,pe,Ie;for(Ie=V.length-1;Ie!==-1;Ie--)le=V[Ie][0],pe=V[Ie][1],x.subscribe.apply(x,[le].concat(typeof pe=="function"?[pe]:pe))}(rr,Rt.API.events):y[cA]=Rt.API[cA]);var js=y.getPageWidth=function(x){return(Tt[x=x||z].mediaBox.topRightX-Tt[x].mediaBox.bottomLeftX)/st},Wa=y.setPageWidth=function(x,V){Tt[x].mediaBox.topRightX=V*st+Tt[x].mediaBox.bottomLeftX},di=y.getPageHeight=function(x){return(Tt[x=x||z].mediaBox.topRightY-Tt[x].mediaBox.bottomLeftY)/st},$a=y.setPageHeight=function(x,V){Tt[x].mediaBox.topRightY=V*st+Tt[x].mediaBox.bottomLeftY};return y.internal={pdfEscape:on,getStyle:Uo,getFont:kA,getFontSize:rt,getCharSpace:Os,getTextColor:vs,getLineHeight:la,getLineHeightFactor:hi,getLineWidth:PA,write:bt,getHorizontalCoordinate:Ii,getVerticalCoordinate:ln,getCoordinateString:Lo,getVerticalCoordinateString:ws,collections:{},newObject:Hr,newAdditionalObject:IA,newObjectDeferred:Vr,newObjectDeferredBegin:Yr,getFilters:ui,putStream:an,events:rr,scaleFactor:st,pageSize:{getWidth:function(){return js(z)},setWidth:function(x){Wa(z,x)},getHeight:function(){return di(z)},setHeight:function(x){$a(z,x)}},encryptionOptions:p,encryption:or,getEncryptor:ms,output:QA,getNumberOfPages:xr,pages:ke,out:Ae,f2:j,f3:N,getPageInfo:Gi,getPageInfoByObjId:Lt,getCurrentPageInfo:zi,getPDFVersion:Q,Point:ys,Rectangle:uA,Matrix:dt,hasHotfix:gs},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return js(z)},set:function(x){Wa(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return di(z)},set:function(x){$a(z,x)},enumerable:!0,configurable:!0}),UA.call(y,Ve),Dt="F1",TA(i,t),rr.publish("initialized"),y}wh.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},wh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},wh.prototype.processOwnerPassword=function(r,e){return yv(vv(e).substr(0,5),r)},wh.prototype.encryptor=function(r,e){var t=vv(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return yv(t,n)}},Zg.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Sr(r)!==Sr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Rt.API={events:[]},Rt.version="3.0.1";var In=Rt.API,sy=1,Rc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ah=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(r){return r.toFixed(2)},tu=function(r){return r.toFixed(5)};In.__acroform__={};var eA=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},U5=function(r){return r*sy},oo=function(r){var e=new hE,t=Ct.internal.getHeight(r)||0,n=Ct.internal.getWidth(r)||0;return e.BBox=[0,0,Number($t(n)),Number($t(t))],e},FP=In.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},NP=In.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},UP=In.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},Dn=In.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UP(r,e-1)},On=In.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return FP(r,e-1)},Mn=In.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NP(r,e-1)},TP=In.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],l=r[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=n(s+l)||0,u.upperRight_X=t(i+a)||0,u.upperRight_Y=n(s)||0,[Number($t(u.lowerLeft_X)),Number($t(u.lowerLeft_Y)),Number($t(u.upperRight_X)),Number($t(u.upperRight_Y))]},LP=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=Bv(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+$t(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=oo(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},Bv=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=t,a=Ct.internal.getHeight(r)||0;a=a<0?-a:a;var l=Ct.internal.getWidth(r)||0;l=l<0?-l:l;var u=function(N,T,S){if(N+1<i.length){var te=T+" "+i[N+1][0];return Qp(te,r,S).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var d,p,w=Qp("3",r,s).height,B=r.multiline?a-s:(a-w)/2,y=B+=2,U=0,Q=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qp(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var M="",D=0,q=0;q<i.length;q++)if(i.hasOwnProperty(q)){var ee=!1;if(i[q].length!==1&&k!==i[q].length-1){if((w+2)*(D+2)+2>a)continue e;M+=i[q][k],ee=!0,Q=q,q--}else{M=(M+=i[q][k]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var K=parseInt(q),J=u(K,M,s),O=q>=i.length-1;if(J&&!O){M+=" ",k=0;continue}if(J||O){if(O)Q=K;else if(r.multiline&&(w+2)*(D+2)+2>a)continue e}else{if(!r.multiline||(w+2)*(D+2)+2>a)continue e;Q=K}}for(var C="",I=U;I<=Q;I++){var j=i[I];if(r.multiline){if(I===Q){C+=j[k]+" ",k=(k+1)%j.length;continue}if(I===U){C+=j[j.length-1]+" ";continue}}C+=j[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,p=Qp(C,r,s).width,r.textAlign){case"right":d=l-p-2;break;case"center":d=(l-p)/2;break;case"left":default:d=2}e+=$t(d)+" "+$t(y)+` Td
`,e+="("+Rc(C)+`) Tj
`,e+=-$t(d)+` 0 Td
`,y=-(s+2),p=0,U=ee?Q:Q+1,D++,M=""}break}return n.text=e,n.fontSize=s,n},Qp=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},QP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kP=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},PP=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,i=r[t];e.internal.newObjectDeferredBegin(i.objId,!0),Sr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},RP=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Oa.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(QP)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sy=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new dE,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&kP(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],u=[],d=l.Rect;if(l.Rect&&(l.Rect=TP(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ct.createDefaultAppearanceStream(l),Sr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=LP(l);u.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var w="";for(var B in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(B)){var y=l.appearanceStreamContent[B];if(w+="/"+B+" ",w+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var a in y)if(y.hasOwnProperty(a)){var U=y[a];typeof U=="function"&&(U=U.call(i,l)),w+="/"+a+" "+U+" ",i.internal.acroformPlugin.xForms.indexOf(U)>=0||i.internal.acroformPlugin.xForms.push(U)}}else typeof(U=y)=="function"&&(U=U.call(i,l)),w+="/"+a+" "+U,i.internal.acroformPlugin.xForms.indexOf(U)>=0||i.internal.acroformPlugin.xForms.push(U);w+=">>"}u.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}s&&PP(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},cE=In.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Sr(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+Rc(n(r[s].toString()))+")"):i+=r[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lw=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+Rc(n(r))+")"},co=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};co.prototype.toString=function(){return this.objId+" 0 R"},co.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},co.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:cE(i,this.objId,this.scope)}):i instanceof co?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var hE=function(){co.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};eA(hE,co);var dE=function(){co.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Rc(t(r))+")"}},set:function(t){r=t}})};eA(dE,co);var Oa=function r(){co.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');e=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(e,3)},set:function(M){M?this.F=On(e,3):this.F=Mn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');t=M}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(M){n=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(M){n[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(M){n[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(M){n[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(M){n[3]=M}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof em)return;s="FieldObject"+r.FieldNum++}var M=function(D){return D};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+Rc(M(s))+")"},set:function(M){s=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(M){s=M}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(M){a=M}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(M){l=M}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(M){u=M}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/sy:d},set:function(M){d=M}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(M){p=M}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof em||this instanceof vc))return lw(w,this.objId,this.scope)},set:function(M){M=M.toString(),w=M}});var B=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Ci?B:lw(B,this.objId,this.scope)},set:function(M){M=M.toString(),B=this instanceof Ci?M:M.substr(0,1)==="("?Ah(M.substr(1,M.length-2)):Ah(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci?Ah(B.substr(1,B.length-1)):B},set:function(M){M=M.toString(),B=this instanceof Ci?"/"+M:M}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ci?y:lw(y,this.objId,this.scope)},set:function(M){M=M.toString(),y=this instanceof Ci?M:M.substr(0,1)==="("?Ah(M.substr(1,M.length-2)):Ah(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci?Ah(y.substr(1,y.length-1)):y},set:function(M){M=M.toString(),y=this instanceof Ci?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,Q=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Q},set:function(M){M=!!M,Q=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(M){U=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(M){M?this.Ff=On(this.Ff,1):this.Ff=Mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(M){M?this.Ff=On(this.Ff,2):this.Ff=Mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(M){M?this.Ff=On(this.Ff,3):this.Ff=Mn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');k=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(k){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};eA(Oa,co);var Th=function(){Oa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cE(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,a,l){l||(l=1);for(var u,d=[];u=a.exec(s);)d.push(u[l]);return d}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(t){t?this.Ff=On(this.Ff,18):this.Ff=Mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=On(this.Ff,19):this.Ff=Mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(t){t?(this.Ff=On(this.Ff,20),e.sort()):this.Ff=Mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(t){t?this.Ff=On(this.Ff,22):this.Ff=Mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(t){t?this.Ff=On(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(t){t?this.Ff=On(this.Ff,27):this.Ff=Mn(this.Ff,27)}}),this.hasAppearanceStream=!1};eA(Th,Oa);var Lh=function(){Th.call(this),this.fontName="helvetica",this.combo=!1};eA(Lh,Th);var Qh=function(){Lh.call(this),this.combo=!0};eA(Qh,Lh);var mg=function(){Qh.call(this),this.edit=!0};eA(mg,Qh);var Ci=function(){Oa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(t){t?this.Ff=On(this.Ff,15):this.Ff=Mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(t){t?this.Ff=On(this.Ff,16):this.Ff=Mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(t){t?this.Ff=On(this.Ff,17):this.Ff=Mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(t){t?this.Ff=On(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Rc(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Sr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};eA(Ci,Oa);var wg=function(){Ci.call(this),this.pushButton=!0};eA(wg,Ci);var kh=function(){Ci.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};eA(kh,Ci);var em=function(){var r,e;Oa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Rc(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Sr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};eA(em,Oa),kh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},kh.prototype.createOption=function(r){var e=new em;return e.Parent=this,e.optionName=r,this.Kids.push(e),DP.call(this.scope,e),e};var vg=function(){Ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};eA(vg,Ci);var vc=function(){Oa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(e){e?this.Ff=On(this.Ff,13):this.Ff=Mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(e){e?this.Ff=On(this.Ff,21):this.Ff=Mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(e){e?this.Ff=On(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(e){e?this.Ff=On(this.Ff,24):this.Ff=Mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(e){e?this.Ff=On(this.Ff,25):this.Ff=Mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(e){e?this.Ff=On(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};eA(vc,Oa);var yg=function(){vc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(r){r?this.Ff=On(this.Ff,14):this.Ff=Mn(this.Ff,14)}}),this.password=!0};eA(yg,vc);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=oo(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=Bv(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+$t(Ct.internal.getWidth(r))+" "+$t(Ct.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+$t(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=oo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=Ct.internal.getHeight(r),a=Ct.internal.getWidth(r),l=Bv(r,r.caption);return i.push("1 g"),i.push("0 0 "+$t(a)+" "+$t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$t(a-1)+" "+$t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+$t(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=oo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(Ct.internal.getWidth(r))+" "+$t(Ct.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Ct.RadioButton.Circle.YesNormal,e.D[r]=Ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=oo(r);e.scope=r.scope;var t=[],n=Ct.internal.getWidth(r)<=Ct.internal.getHeight(r)?Ct.internal.getWidth(r)/4:Ct.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Ct.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+tu(Ct.internal.getWidth(r)/2)+" "+tu(Ct.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=oo(r);e.scope=r.scope;var t=[],n=Ct.internal.getWidth(r)<=Ct.internal.getHeight(r)?Ct.internal.getWidth(r)/4:Ct.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5)),a=Number((n*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+tu(Ct.internal.getWidth(r)/2)+" "+tu(Ct.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+tu(Ct.internal.getWidth(r)/2)+" "+tu(Ct.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=oo(r);e.scope=r.scope;var t=[],n=Ct.internal.getWidth(r)<=Ct.internal.getHeight(r)?Ct.internal.getWidth(r)/4:Ct.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+tu(Ct.internal.getWidth(r)/2)+" "+tu(Ct.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Ct.RadioButton.Cross.YesNormal,e.D[r]=Ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=oo(r);e.scope=r.scope;var t=[],n=Ct.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+$t(Ct.internal.getWidth(r)-2)+" "+$t(Ct.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push($t(n.x1.x)+" "+$t(n.x1.y)+" m"),t.push($t(n.x2.x)+" "+$t(n.x2.y)+" l"),t.push($t(n.x4.x)+" "+$t(n.x4.y)+" m"),t.push($t(n.x3.x)+" "+$t(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=oo(r);e.scope=r.scope;var t=Ct.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(Ct.internal.getWidth(r))+" "+$t(Ct.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+$t(Ct.internal.getWidth(r)-2)+" "+$t(Ct.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push($t(t.x1.x)+" "+$t(t.x1.y)+" m"),n.push($t(t.x2.x)+" "+$t(t.x2.y)+" l"),n.push($t(t.x4.x)+" "+$t(t.x4.y)+" m"),n.push($t(t.x3.x)+" "+$t(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=oo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(Ct.internal.getWidth(r))+" "+$t(Ct.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Ct.internal.getWidth(r),t=Ct.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Ct.internal.getWidth=function(r){var e=0;return Sr(r)==="object"&&(e=U5(r.Rect[2])),e},Ct.internal.getHeight=function(r){var e=0;return Sr(r)==="object"&&(e=U5(r.Rect[3])),e};var DP=In.addField=function(r){if(RP(this,r),!(r instanceof Oa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};In.AcroFormChoiceField=Th,In.AcroFormListBox=Lh,In.AcroFormComboBox=Qh,In.AcroFormEditBox=mg,In.AcroFormButton=Ci,In.AcroFormPushButton=wg,In.AcroFormRadioButton=kh,In.AcroFormCheckBox=vg,In.AcroFormTextField=vc,In.AcroFormPasswordField=yg,In.AcroFormAppearance=Ct,In.AcroForm={ChoiceField:Th,ListBox:Lh,ComboBox:Qh,EditBox:mg,Button:Ci,PushButton:wg,RadioButton:kh,CheckBox:vg,TextField:vc,PasswordField:yg,Appearance:Ct},Rt.AcroForm={ChoiceField:Th,ListBox:Lh,ComboBox:Qh,EditBox:mg,Button:Ci,PushButton:wg,RadioButton:kh,CheckBox:vg,TextField:vc,PasswordField:yg,Appearance:Ct};Rt.AcroForm;function fE(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(N,T){var S,te,Be,ae,ue,se=e;if((T=T||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(J(N))for(ue in t)for(Be=t[ue],S=0;S<Be.length;S+=1){for(ae=!0,te=0;te<Be[S].length;te+=1)if(Be[S][te]!==void 0&&Be[S][te]!==N[te]){ae=!1;break}if(ae===!0){se=ue;break}}else for(ue in t)for(Be=t[ue],S=0;S<Be.length;S+=1){for(ae=!0,te=0;te<Be[S].length;te+=1)if(Be[S][te]!==void 0&&Be[S][te]!==N.charCodeAt(te)){ae=!1;break}if(ae===!0){se=ue;break}}return se===e&&T!==e&&(se=T),se},i=function N(T){for(var S=this.internal.write,te=this.internal.putStream,Be=(0,this.internal.getFilters)();Be.indexOf("FlateEncode")!==-1;)Be.splice(Be.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:T.width}),ae.push({key:"Height",value:T.height}),T.colorSpace===k.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===k.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var ue="",se=0,ce=T.transparency.length;se<ce;se++)ue+=T.transparency[se]+" "+T.transparency[se]+" ";ae.push({key:"Mask",value:"["+ue+"]"})}T.sMask!==void 0&&ae.push({key:"SMask",value:T.objectId+1+" 0 R"});var fe=T.filter!==void 0?["/"+T.filter]:void 0;if(te({data:T.data,additionalKeyValues:ae,alreadyAppliedFilters:fe,objectId:T.objectId}),S("endobj"),"sMask"in T&&T.sMask!==void 0){var ie="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,R={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ie,data:T.sMask};"filter"in T&&(R.filter=T.filter),N.call(this,R)}if(T.colorSpace===k.INDEXED){var z=this.internal.newObject();te({data:C(new Uint8Array(T.palette)),objectId:z}),S("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var T in N)i.call(this,N[T])},a=function(){var N,T=this.internal.collections.addImage_images,S=this.internal.write;for(var te in T)S("/I"+(N=T[te]).index,N.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var N=this.internal.collections.addImage_images;return l.call(this),N},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(N){return typeof r["process"+N.toUpperCase()]=="function"},w=function(N){return Sr(N)==="object"&&N.nodeType===1},B=function(N,T){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var S=""+N.getAttribute("src");if(S.indexOf("data:image/")===0)return Yd(unescape(S).split("base64,").pop());var te=r.loadFile(S,!0);if(te!==void 0)return te}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var Be;switch(T){case"PNG":Be="image/png";break;case"WEBP":Be="image/webp";break;case"JPEG":case"JPG":default:Be="image/jpeg"}return Yd(N.toDataURL(Be,1).split("base64,").pop())}},y=function(N){var T=this.internal.collections.addImage_images;if(T){for(var S in T)if(N===T[S].alias)return T[S]}},U=function(N,T,S){return N||T||(N=-96,T=-96),N<0&&(N=-1*S.width*72/N/this.internal.scaleFactor),T<0&&(T=-1*S.height*72/T/this.internal.scaleFactor),N===0&&(N=T*S.width/S.height),T===0&&(T=N*S.height/S.width),[N,T]},Q=function(N,T,S,te,Be,ae){var ue=U.call(this,S,te,Be),se=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,fe=u.call(this);if(S=ue[0],te=ue[1],fe[Be.index]=Be,ae){ae*=Math.PI/180;var ie=Math.cos(ae),R=Math.sin(ae),z=function(oe){return oe.toFixed(4)},re=[z(ie),z(R),z(-1*R),z(ie),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,se(N),ce(T+te),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([se(S),"0","0",se(te),"0","0","cm"].join(" "))):this.internal.write([se(S),"0","0",se(te),se(N),ce(T+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Be.index+" Do"),this.internal.write("Q")},k=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(N){var T,S,te=0;if(typeof N=="string")for(S=N.length,T=0;T<S;T++)te=(te<<5)-te+N.charCodeAt(T),te|=0;else if(J(N))for(S=N.byteLength/2,T=0;T<S;T++)te=(te<<5)-te+N[T],te|=0;return te},q=r.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var T=!0;return N.length===0&&(T=!1),N.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(T=!1),T},ee=r.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var T=N.indexOf(",");return T<0?null:N.substring(0,T).trim().endsWith("base64")?N.substring(T+1):null},K=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(N){return K()&&N instanceof ArrayBuffer};var J=r.__addimage__.isArrayBufferView=function(N){return K()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},O=r.__addimage__.binaryStringToUint8Array=function(N){for(var T=N.length,S=new Uint8Array(T),te=0;te<T;te++)S[te]=N.charCodeAt(te);return S},C=r.__addimage__.arrayBufferToBinaryString=function(N){for(var T="",S=J(N)?N:new Uint8Array(N),te=0;te<S.length;te+=8192)T+=String.fromCharCode.apply(null,S.subarray(te,te+8192));return T};r.addImage=function(){var N,T,S,te,Be,ae,ue,se,ce;if(typeof arguments[1]=="number"?(T=e,S=arguments[1],te=arguments[2],Be=arguments[3],ae=arguments[4],ue=arguments[5],se=arguments[6],ce=arguments[7]):(T=arguments[1],S=arguments[2],te=arguments[3],Be=arguments[4],ae=arguments[5],ue=arguments[6],se=arguments[7],ce=arguments[8]),Sr(N=arguments[0])==="object"&&!w(N)&&"imageData"in N){var fe=N;N=fe.imageData,T=fe.format||T||e,S=fe.x||S||0,te=fe.y||te||0,Be=fe.w||fe.width||Be,ae=fe.h||fe.height||ae,ue=fe.alias||ue,se=fe.compression||se,ce=fe.rotation||fe.angle||ce}var ie=this.internal.getFilters();if(se===void 0&&ie.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(S)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=I.call(this,N,T,ue,se);return Q.call(this,S,te,Be,ae,R,ce),this};var I=function(N,T,S,te){var Be,ae,ue;if(typeof N=="string"&&n(N)===e){N=unescape(N);var se=j(N,!1);(se!==""||(se=r.loadFile(N,!0))!==void 0)&&(N=se)}if(w(N)&&(N=B(N,T)),T=n(N,T),!p(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ue=S)==null||ue.length===0)&&(S=function(ce){return typeof ce=="string"||J(ce)?D(ce):J(ce.data)?D(ce.data):null}(N)),(Be=y.call(this,S))||(K()&&(N instanceof Uint8Array||T==="RGBA"||(ae=N,N=O(N))),Be=this["process"+T.toUpperCase()](N,d.call(this),S,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in r.image_compression?ce:M.NONE}(te),ae)),!Be)throw new Error("An unknown error occurred whilst processing the image.");return Be},j=r.__addimage__.convertBase64ToBinaryString=function(N,T){T=typeof T!="boolean"||T;var S,te="";if(typeof N=="string"){var Be;S=(Be=ee(N))!==null&&Be!==void 0?Be:N;try{te=Yd(S)}catch(ae){if(T)throw q(S)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};r.getImageProperties=function(N){var T,S,te="";if(w(N)&&(N=B(N)),typeof N=="string"&&n(N)===e&&((te=j(N,!1))===""&&(te=r.loadFile(N)||""),N=te),S=n(N),!p(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(!K()||N instanceof Uint8Array||(N=O(N)),!(T=this["process"+S.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=S,T}})(Rt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Rt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,w=0;w<d.length&&!p;w++)switch((n=d[w]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var B=0;B<d.length;B++){n=d[B];var y=this.internal.pdfEscape,U=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var Q=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(Q.objId),D=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+y(M(n.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+y(M(D))+") >>",Q.content=s;var q=Q.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+q,n.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(Q.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var ee=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(U(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ee+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var K=this.annotations._nameMap[n.options.name];n.options.pageNumber=K.page,n.options.top=K.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(U(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var J=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+J+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:d(n),w:u(t+i),h:d(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,l,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var p=this.splitTextToSize(t,l).length;a=Math.ceil(d*p)}else l=u,a=d;return this.text(t,n,i,s),i+=.2*d,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,i-d,l,a,s),u},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Rt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(Q){return e[Q.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(Q){return typeof Q=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Q)},l=r.__arabicParser__.isArabicEndLetter=function(Q){return a(Q)&&s(Q)&&e[Q.charCodeAt(0)].length<=2},u=r.__arabicParser__.isArabicAlfLetter=function(Q){return a(Q)&&i.indexOf(Q.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(Q){return a(Q)&&s(Q)&&e[Q.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(Q){return a(Q)&&s(Q)&&e[Q.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(Q){return a(Q)&&s(Q)&&e[Q.charCodeAt(0)].length>=3};var p=r.__arabicParser__.arabicLetterHasMedialForm=function(Q){return a(Q)&&s(Q)&&e[Q.charCodeAt(0)].length==4},w=r.__arabicParser__.resolveLigatures=function(Q){var k=0,M=t,D="",q=0;for(k=0;k<Q.length;k+=1)M[Q.charCodeAt(k)]!==void 0?(q++,typeof(M=M[Q.charCodeAt(k)])=="number"&&(D+=String.fromCharCode(M),M=t,q=0),k===Q.length-1&&(M=t,D+=Q.charAt(k-(q-1)),k-=q-1,q=0)):(M=t,D+=Q.charAt(k-q),k-=q,q=0);return D};r.__arabicParser__.isArabicDiacritic=function(Q){return Q!==void 0&&n[Q.charCodeAt(0)]!==void 0};var B=r.__arabicParser__.getCorrectForm=function(Q,k,M){return a(Q)?s(Q)===!1?-1:!d(Q)||!a(k)&&!a(M)||!a(M)&&l(k)||l(Q)&&!a(k)||l(Q)&&u(k)||l(Q)&&l(k)?0:p(Q)&&a(k)&&!l(k)&&a(M)&&d(M)?3:l(Q)||!a(M)?1:2:-1},y=function(Q){var k=0,M=0,D=0,q="",ee="",K="",J=(Q=Q||"").split("\\s+"),O=[];for(k=0;k<J.length;k+=1){for(O.push(""),M=0;M<J[k].length;M+=1)q=J[k][M],ee=J[k][M-1],K=J[k][M+1],a(q)?(D=B(q,ee,K),O[k]+=D!==-1?String.fromCharCode(e[q.charCodeAt(0)][D]):q):O[k]+=q;O[k]=w(O[k])}return O.join(" ")},U=r.__arabicParser__.processArabic=r.processArabic=function(){var Q,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(k)){var D=0;for(M=[],D=0;D<k.length;D+=1)Array.isArray(k[D])?M.push([y(k[D][0]),k[D][1],k[D][2]]):M.push([y(k[D])]);Q=M}else Q=y(k);return typeof arguments[0]=="string"?Q:(arguments[0].text=Q,arguments[0])};r.events.push(["preProcessText",U])}(Rt.API),Rt.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Rt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(Q){u=Q}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(Q){d=Q}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(Q){p=Q}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(Q){w=Q}});var B=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return B},set:function(Q){B=Q}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(Q){y=Q}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(Q){U=Q}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},r.getTextDimensions=function(u,d){n.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),B=d.scaleFactor||this.internal.scaleFactor,y=0,U=0,Q=0,k=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var M=d.maxWidth;M>0?typeof u=="string"?u=this.splitTextToSize(u,M):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(q,ee){return q.concat(k.splitTextToSize(ee,M))},[])):u=Array.isArray(u)?u:[u];for(var D=0;D<u.length;D++)y<(Q=this.getStringUnitWidth(u[D],{font:w})*p)&&(y=Q);return y!==0&&(U=u.length),{w:y/=B,h:Math.max((U*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/B,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,B=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=w.top,y&&B&&(this.printHeaderRow(u.lineNumber,!0),u.y+=B[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};r.table=function(u,d,p,w,B){if(n.call(this),!p)throw new Error("No data for PDF table.");var y,U,Q,k,M=[],D=[],q=[],ee={},K={},J=[],O=[],C=(B=B||{}).autoSize||!1,I=B.printHeaders!==!1,j=B.css&&B.css["font-size"]!==void 0?16*B.css["font-size"]:B.fontSize||12,N=B.margins||Object.assign({width:this.getPageWidth()},e),T=typeof B.padding=="number"?B.padding:3,S=B.headerBackgroundColor||"#c8c8c8",te=B.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=S,this.internal.__cell__.headerTextColor=te,this.setFontSize(j),w==null)D=M=Object.keys(p[0]),q=M.map(function(){return"left"});else if(Array.isArray(w)&&Sr(w[0])==="object")for(M=w.map(function(fe){return fe.name}),D=w.map(function(fe){return fe.prompt||fe.name||""}),q=w.map(function(fe){return fe.align||"left"}),y=0;y<w.length;y+=1)K[w[y].name]=w[y].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(D=M=w,q=M.map(function(){return"left"}));if(C||Array.isArray(w)&&typeof w[0]=="string")for(y=0;y<M.length;y+=1){for(ee[k=M[y]]=p.map(function(fe){return fe[k]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=ee[k],this.setFont(void 0,"normal"),Q=0;Q<U.length;Q+=1)J.push(this.getTextDimensions(U[Q],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[k]=Math.max.apply(null,J)+T+T,J=[]}if(I){var Be={};for(y=0;y<M.length;y+=1)Be[M[y]]={},Be[M[y]].text=D[y],Be[M[y]].align=q[y];var ae=l.call(this,Be,K);O=M.map(function(fe){return new s(u,d,K[fe],ae,Be[fe].text,void 0,Be[fe].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var ue=w.reduce(function(fe,ie){return fe[ie.name]=ie.align,fe},{});for(y=0;y<p.length;y+=1){"rowStart"in B&&B.rowStart instanceof Function&&B.rowStart({row:y,data:p[y]},this);var se=l.call(this,p[y],K);for(Q=0;Q<M.length;Q+=1){var ce=p[y][M[Q]];"cellStart"in B&&B.cellStart instanceof Function&&B.cellStart({row:y,col:Q,data:ce},this),a.call(this,new s(u,d,K[M[Q]],se,ce,y+2,ue[M[Q]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var p=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,B=this.internal.scaleFactor;return Object.keys(u).map(function(y){var U=u[y];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,d[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*w/B+p+p},this).reduce(function(y,U){return Math.max(y,U)},0)};r.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},r.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var B=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,B.push(p)),p.lineNumber=u;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(U)}B.length>0&&this.setTableHeaderRow(B),this.setFont(void 0,"normal"),t=!1}}(Rt.API);var pE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xv=fE(gE),mE=[100,200,300,400,500,600,700,800,900],OP=fE(mE);function Cv(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return pE[s=s||"normal"]?s:"normal"}(r.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(r.weight),i=function(s){return typeof xv[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function T5(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var MP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},L5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q5(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function jP(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},MP,t.genericFontFamilies||{}),s=null,a=null,l=0;l<e.length;++l)if(i[(s=Cv(e[l])).family]&&(s.family=i[s.family]),r.hasOwnProperty(s.family)){a=r[s.family];break}if(!(a=a||r[n]))throw new Error("Could not find a font-family for the rule '"+Q5(s)+"' and default family '"+n+"'.");if(a=function(u,d){if(d[u])return d[u];var p=xv[u],w=p<=xv.normal?-1:1,B=T5(d,gE,p,w);if(!B)throw new Error("Could not find a matching font-stretch value for "+u);return B}(s.stretch,a),a=function(u,d){if(d[u])return d[u];for(var p=pE[u],w=0;w<p.length;++w)if(d[p[w]])return d[p[w]];throw new Error("Could not find a matching font-style for "+u)}(s.style,a),!(a=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var p=OP[u],w=T5(d,mE,p,u<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+u);return w}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Q5(s)+"'.");return a}function k5(r){return r.trimLeft()}function HP(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function VP(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var kp,P5,R5,uw=["times"];(function(r){var e,t,n,i,s,a,l,u,d,p=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new a,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new a,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new p}]);var w=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=R;Object.defineProperty(this,"pdf",{get:function(){return z}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Te){re=!!Te}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Te){oe=!!Te}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Te){isNaN(Te)||(de=Te)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Te){isNaN(Te)||(xe=Te)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Te){var Ae;typeof Te=="number"?Ae=[Te,Te,Te,Te]:((Ae=new Array(4))[0]=Te[0],Ae[1]=Te.length>=2?Te[1]:Ae[0],Ae[2]=Te.length>=3?Te[2]:Ae[0],Ae[3]=Te.length>=4?Te[3]:Ae[1]),d.margin=Ae}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Te){ge=Te}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Te){Ce=Te}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Te){je=Te}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Te){Te instanceof p&&(d=Te)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Te){d.path=Te}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Te){ke=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var Ae;Ae=B(Te),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var Ae=B(Te);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var Xe=null;function $e(Te,Ae){if(Xe===null){var bt=function(ze){var Ve=[];return Object.keys(ze).forEach(function(et){ze[et].forEach(function(nt){var rt=null;switch(nt){case"bold":rt={family:et,weight:"bold"};break;case"italic":rt={family:et,style:"italic"};break;case"bolditalic":rt={family:et,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:et}}rt!==null&&(rt.ref={name:et,style:nt},Ve.push(rt))})}),Ve}(Te.getFontList());Xe=function(ze){for(var Ve={},et=0;et<ze.length;++et){var nt=Cv(ze[et]),rt=nt.family,wt=nt.stretch,vt=nt.style,St=nt.weight;Ve[rt]=Ve[rt]||{},Ve[rt][wt]=Ve[rt][wt]||{},Ve[rt][wt][vt]=Ve[rt][wt][vt]||{},Ve[rt][wt][vt][St]=nt}return Ve}(bt.concat(Ae))}return Xe}var At=null;Object.defineProperty(this,"fontFaces",{get:function(){return At},set:function(Te){Xe=null,At=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var Ae;if(this.ctx.font=Te,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var bt=Ae[1];Ae[2];var ze=Ae[3],Ve=Ae[4];Ae[5];var et=Ae[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(nt==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var rt=function(Ft){var Dt,st,ar=[],Wt=Ft.trim();if(Wt==="")return uw;if(Wt in L5)return[L5[Wt]];for(;Wt!=="";){switch(st=null,Dt=(Wt=k5(Wt)).charAt(0)){case'"':case"'":st=HP(Wt.substring(1),Dt);break;default:st=VP(Wt)}if(st===null||(ar.push(st[0]),(Wt=k5(st[1]))!==""&&Wt.charAt(0)!==","))return uw;Wt=Wt.replace(/^,/,"")}return ar}(et);if(this.fontFaces){var wt=jP($e(this.pdf,this.fontFaces),rt.map(function(Ft){return{family:Ft,stretch:"normal",weight:ze,style:bt}}));this.pdf.setFont(wt.ref.name,wt.ref.style)}else{var vt="";(ze==="bold"||parseInt(ze,10)>=700||bt==="bold")&&(vt="bold"),bt==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var St="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<rt.length;yt++){if(this.pdf.internal.getFont(rt[yt],vt,{noFallback:!0,disableWarning:!0})!==void 0){St=rt[yt];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(rt[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=rt[yt],vt="bold";else if(this.pdf.internal.getFont(rt[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=rt[yt],vt="normal";break}}if(St===""){for(var Ht=0;Ht<rt.length;Ht++)if(ct[rt[Ht]]){St=ct[rt[Ht]];break}}St=St===""?"Times":St,this.pdf.setFont(St,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};w.prototype.setLineDash=function(R){this.lineDash=R},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){ee.call(this,"fill",!1)},w.prototype.stroke=function(){ee.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(R,z){if(isNaN(R)||isNaN(z))throw Gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new a(R,z));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(R,z)},w.prototype.closePath=function(){var R=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Sr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){R=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(R.x,R.y)},w.prototype.lineTo=function(R,z){if(isNaN(R)||isNaN(z))throw Gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new a(R,z));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ee.call(this,null,!0)},w.prototype.quadraticCurveTo=function(R,z,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(R)||isNaN(z))throw Gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new a(re,oe)),xe=this.ctx.transform.applyToPoint(new a(R,z));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},w.prototype.bezierCurveTo=function(R,z,re,oe,de,xe){if(isNaN(de)||isNaN(xe)||isNaN(R)||isNaN(z)||isNaN(re)||isNaN(oe))throw Gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(de,xe)),Ce=this.ctx.transform.applyToPoint(new a(R,z)),je=this.ctx.transform.applyToPoint(new a(re,oe));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:je.x,y2:je.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},w.prototype.arc=function(R,z,re,oe,de,xe){if(isNaN(R)||isNaN(z)||isNaN(re)||isNaN(oe)||isNaN(de))throw Gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(R,z));R=ge.x,z=ge.y;var Ce=this.ctx.transform.applyToPoint(new a(0,re)),je=this.ctx.transform.applyToPoint(new a(0,0));re=Math.sqrt(Math.pow(Ce.x-je.x,2)+Math.pow(Ce.y-je.y,2))}Math.abs(de-oe)>=2*Math.PI&&(oe=0,de=2*Math.PI),this.path.push({type:"arc",x:R,y:z,radius:re,startAngle:oe,endAngle:de,counterclockwise:xe})},w.prototype.arcTo=function(R,z,re,oe,de){throw new Error("arcTo not implemented.")},w.prototype.rect=function(R,z,re,oe){if(isNaN(R)||isNaN(z)||isNaN(re)||isNaN(oe))throw Gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,z),this.lineTo(R+re,z),this.lineTo(R+re,z+oe),this.lineTo(R,z+oe),this.lineTo(R,z),this.lineTo(R+re,z),this.lineTo(R,z)},w.prototype.fillRect=function(R,z,re,oe){if(isNaN(R)||isNaN(z)||isNaN(re)||isNaN(oe))throw Gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,z,re,oe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},w.prototype.strokeRect=function(R,z,re,oe){if(isNaN(R)||isNaN(z)||isNaN(re)||isNaN(oe))throw Gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(R,z,re,oe),this.stroke())},w.prototype.clearRect=function(R,z,re,oe){if(isNaN(R)||isNaN(z)||isNaN(re)||isNaN(oe))throw Gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,z,re,oe))},w.prototype.save=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},w.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(z),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var B=function(R){var z,re,oe,de;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))z=0,re=0,oe=0,de=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(xe!==null)z=parseInt(xe[1]),re=parseInt(xe[2]),oe=parseInt(xe[3]),de=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)z=parseInt(xe[1]),re=parseInt(xe[2]),oe=parseInt(xe[3]),de=parseFloat(xe[4]);else{if(de=1,typeof R=="string"&&R.charAt(0)!=="#"){var ge=new oE(R);R=ge.ok?ge.toHex():"#000000"}R.length===4?(z=R.substring(1,2),z+=z,re=R.substring(2,3),re+=re,oe=R.substring(3,4),oe+=oe):(z=R.substring(1,3),re=R.substring(3,5),oe=R.substring(5,7)),z=parseInt(z,16),re=parseInt(re,16),oe=parseInt(oe,16)}}return{r:z,g:re,b:oe,a:de,style:R}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(R,z,re,oe){if(isNaN(z)||isNaN(re)||typeof R!="string")throw Gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!y.call(this)){var de=se(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;T.call(this,{text:R,x:z,y:re,scale:xe,angle:de,align:this.textAlign,maxWidth:oe})}},w.prototype.strokeText=function(R,z,re,oe){if(isNaN(z)||isNaN(re)||typeof R!="string")throw Gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){oe=isNaN(oe)?void 0:oe;var de=se(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;T.call(this,{text:R,x:z,y:re,scale:xe,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:oe})}},w.prototype.measureText=function(R){if(typeof R!="string")throw Gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,re=this.pdf.internal.scaleFactor,oe=z.internal.getFontSize(),de=z.getStringUnitWidth(R)*oe/z.internal.scaleFactor,xe=function(ge){var Ce=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new xe({width:de*=Math.round(96*re/72*1e4)/1e4})},w.prototype.scale=function(R,z){if(isNaN(R)||isNaN(z))throw Gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new u(R,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},w.prototype.rotate=function(R){if(isNaN(R))throw Gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},w.prototype.translate=function(R,z){if(isNaN(R)||isNaN(z))throw Gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new u(1,0,0,1,R,z);this.ctx.transform=this.ctx.transform.multiply(re)},w.prototype.transform=function(R,z,re,oe,de,xe){if(isNaN(R)||isNaN(z)||isNaN(re)||isNaN(oe)||isNaN(de)||isNaN(xe))throw Gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new u(R,z,re,oe,de,xe);this.ctx.transform=this.ctx.transform.multiply(ge)},w.prototype.setTransform=function(R,z,re,oe,de,xe){R=isNaN(R)?1:R,z=isNaN(z)?0:z,re=isNaN(re)?0:re,oe=isNaN(oe)?1:oe,de=isNaN(de)?0:de,xe=isNaN(xe)?0:xe,this.ctx.transform=new u(R,z,re,oe,de,xe)};var Q=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(R,z,re,oe,de,xe,ge,Ce,je){var ke=this.pdf.getImageProperties(R),Xe=1,$e=1,At=1,Te=1;oe!==void 0&&Ce!==void 0&&(At=Ce/oe,Te=je/de,Xe=ke.width/oe*Ce/oe,$e=ke.height/de*je/de),xe===void 0&&(xe=z,ge=re,z=0,re=0),oe!==void 0&&Ce===void 0&&(Ce=oe,je=de),oe===void 0&&Ce===void 0&&(Ce=ke.width,je=ke.height);for(var Ae,bt=this.ctx.transform.decompose(),ze=se(bt.rotate.shx),Ve=new u,et=(Ve=(Ve=(Ve=Ve.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new l(xe-z*At,ge-re*Te,oe*Xe,de*$e)),nt=k.call(this,et),rt=[],wt=0;wt<nt.length;wt+=1)rt.indexOf(nt[wt])===-1&&rt.push(nt[wt]);if(q(rt),this.autoPaging)for(var vt=rt[0],St=rt[rt.length-1],ct=vt;ct<St+1;ct++){this.pdf.setPage(ct);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=ct===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=ct===1?0:Ft+(ct-2)*Dt;if(this.ctx.clip_path.length!==0){var ar=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ae,this.posX+this.margin[3],-st+Ht+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=ar}var Wt=JSON.parse(JSON.stringify(et));Wt=D([Wt],this.posX+this.margin[3],-st+Ht+this.ctx.prevPageLastElemOffset)[0];var jn=(ct>vt||ct<St)&&Q.call(this);jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Dt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,ze),jn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",et.x,et.y,et.w,et.h,null,null,ze)};var k=function(R,z,re){var oe=[];z=z||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":oe.push(Math.floor((R.y+de)/re)+1);break;case"arc":oe.push(Math.floor((R.y+de-R.radius)/re)+1),oe.push(Math.floor((R.y+de+R.radius)/re)+1);break;case"qct":var xe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);oe.push(Math.floor((xe.y+de)/re)+1),oe.push(Math.floor((xe.y+xe.h+de)/re)+1);break;case"bct":var ge=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);oe.push(Math.floor((ge.y+de)/re)+1),oe.push(Math.floor((ge.y+ge.h+de)/re)+1);break;case"rect":oe.push(Math.floor((R.y+de)/re)+1),oe.push(Math.floor((R.y+R.h+de)/re)+1)}for(var Ce=0;Ce<oe.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ce];)M.call(this);return oe},M=function(){var R=this.fillStyle,z=this.strokeStyle,re=this.font,oe=this.lineCap,de=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=z,this.font=re,this.lineCap=oe,this.lineWidth=de,this.lineJoin=xe},D=function(R,z,re){for(var oe=0;oe<R.length;oe++)switch(R[oe].type){case"bct":R[oe].x2+=z,R[oe].y2+=re;case"qct":R[oe].x1+=z,R[oe].y1+=re;case"mt":case"lt":case"arc":default:R[oe].x+=z,R[oe].y+=re}return R},q=function(R){return R.sort(function(z,re){return z-re})},ee=function(R,z){for(var re,oe,de=this.fillStyle,xe=this.strokeStyle,ge=this.lineCap,Ce=this.lineWidth,je=Math.abs(Ce*this.ctx.transform.scaleX),ke=this.lineJoin,Xe=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),At=[],Te=0;Te<$e.length;Te++)if($e[Te].x!==void 0)for(var Ae=k.call(this,$e[Te]),bt=0;bt<Ae.length;bt+=1)At.indexOf(Ae[bt])===-1&&At.push(Ae[bt]);for(var ze=0;ze<At.length;ze++)for(;this.pdf.internal.getNumberOfPages()<At[ze];)M.call(this);if(q(At),this.autoPaging)for(var Ve=At[0],et=At[At.length-1],nt=Ve;nt<et+1;nt++){this.pdf.setPage(nt),this.fillStyle=de,this.strokeStyle=xe,this.lineCap=ge,this.lineWidth=je,this.lineJoin=ke;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=nt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=nt===1?0:vt+(nt-2)*St;if(this.ctx.clip_path.length!==0){var yt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(re,this.posX+this.margin[3],-ct+wt+this.ctx.prevPageLastElemOffset),K.call(this,R,!0),this.path=yt}if(oe=JSON.parse(JSON.stringify(Xe)),this.path=D(oe,this.posX+this.margin[3],-ct+wt+this.ctx.prevPageLastElemOffset),z===!1||nt===0){var Ht=(nt>Ve||nt<et)&&Q.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,St,null).clip().discardPath()),K.call(this,R,z),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=je,K.call(this,R,z),this.lineWidth=Ce;this.path=Xe},K=function(R,z){if((R!=="stroke"||z||!U.call(this))&&(R==="stroke"||z||!y.call(this))){for(var re,oe,de=[],xe=this.path,ge=0;ge<xe.length;ge++){var Ce=xe[ge];switch(Ce.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Ce,deltas:[],abs:[]});break;case"lt":var je=de.length;if(xe[ge-1]&&!isNaN(xe[ge-1].x)&&(re=[Ce.x-xe[ge-1].x,Ce.y-xe[ge-1].y],je>0)){for(;je>=0;je--)if(de[je-1].close!==!0&&de[je-1].begin!==!0){de[je-1].deltas.push(re),de[je-1].abs.push(Ce);break}}break;case"bct":re=[Ce.x1-xe[ge-1].x,Ce.y1-xe[ge-1].y,Ce.x2-xe[ge-1].x,Ce.y2-xe[ge-1].y,Ce.x-xe[ge-1].x,Ce.y-xe[ge-1].y],de[de.length-1].deltas.push(re);break;case"qct":var ke=xe[ge-1].x+2/3*(Ce.x1-xe[ge-1].x),Xe=xe[ge-1].y+2/3*(Ce.y1-xe[ge-1].y),$e=Ce.x+2/3*(Ce.x1-Ce.x),At=Ce.y+2/3*(Ce.y1-Ce.y),Te=Ce.x,Ae=Ce.y;re=[ke-xe[ge-1].x,Xe-xe[ge-1].y,$e-xe[ge-1].x,At-xe[ge-1].y,Te-xe[ge-1].x,Ae-xe[ge-1].y],de[de.length-1].deltas.push(re);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Ce)}}oe=z?null:R==="stroke"?"stroke":"fill";for(var bt=!1,ze=0;ze<de.length;ze++)if(de[ze].arc)for(var Ve=de[ze].abs,et=0;et<Ve.length;et++){var nt=Ve[et];nt.type==="arc"?C.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,z,!bt):S.call(this,nt.x,nt.y),bt=!0}else if(de[ze].close===!0)this.pdf.internal.out("h"),bt=!1;else if(de[ze].begin!==!0){var rt=de[ze].start.x,wt=de[ze].start.y;te.call(this,de[ze].deltas,rt,wt),bt=!0}oe&&I.call(this,oe),z&&j.call(this)}},J=function(R){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-re;case"top":return R+z-re;case"hanging":return R+z-2*re;case"middle":return R+z/2-re;case"ideographic":return R;case"alphabetic":default:return R}},O=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(z,re){this.colorStops.push([z,re])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(R,z,re,oe,de,xe,ge,Ce,je){for(var ke=ae.call(this,re,oe,de,xe),Xe=0;Xe<ke.length;Xe++){var $e=ke[Xe];Xe===0&&(je?N.call(this,$e.x1+R,$e.y1+z):S.call(this,$e.x1+R,$e.y1+z)),Be.call(this,R,z,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}Ce?j.call(this):I.call(this,ge)},I=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(R,z){this.pdf.internal.out(t(R)+" "+n(z)+" m")},T=function(R){var z;switch(R.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var re=this.pdf.getTextDimensions(R.text),oe=J.call(this,R.y),de=O.call(this,oe)-re.h,xe=this.ctx.transform.applyToPoint(new a(R.x,oe)),ge=this.ctx.transform.decompose(),Ce=new u;Ce=(Ce=(Ce=Ce.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var je,ke,Xe,$e=this.ctx.transform.applyToRectangle(new l(R.x,oe,re.w,re.h)),At=Ce.applyToRectangle(new l(R.x,de,re.w,re.h)),Te=k.call(this,At),Ae=[],bt=0;bt<Te.length;bt+=1)Ae.indexOf(Te[bt])===-1&&Ae.push(Te[bt]);if(q(Ae),this.autoPaging)for(var ze=Ae[0],Ve=Ae[Ae.length-1],et=ze;et<Ve+1;et++){this.pdf.setPage(et);var nt=et===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],vt=wt-this.margin[0],St=this.pdf.internal.pageSize.width-this.margin[1],ct=St-this.margin[3],yt=et===1?0:rt+(et-2)*vt;if(this.ctx.clip_path.length!==0){var Ht=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(je,this.posX+this.margin[3],-1*yt+nt),K.call(this,"fill",!0),this.path=Ht}var Ft=D([JSON.parse(JSON.stringify(At))],this.posX+this.margin[3],-yt+nt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*R.scale),Xe=this.lineWidth,this.lineWidth=Xe*R.scale);var Dt=this.autoPaging!=="text";if(Dt||Ft.y+Ft.h<=wt){if(Dt||Ft.y>=nt&&Ft.x<=St){var st=Dt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||St-Ft.x)[0],ar=D([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-yt+nt+this.ctx.prevPageLastElemOffset)[0],Wt=Dt&&(et>ze||et<Ve)&&Q.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,vt,null).clip().discardPath()),this.pdf.text(st,ar.x,ar.y,{angle:R.angle,align:z,renderingMode:R.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else Ft.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-Ft.y);R.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Xe)}else R.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*R.scale),Xe=this.lineWidth,this.lineWidth=Xe*R.scale),this.pdf.text(R.text,xe.x+this.posX,xe.y+this.posY,{angle:R.angle,align:z,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Xe)},S=function(R,z,re,oe){re=re||0,oe=oe||0,this.pdf.internal.out(t(R+re)+" "+n(z+oe)+" l")},te=function(R,z,re){return this.pdf.lines(R,z,re,null,null)},Be=function(R,z,re,oe,de,xe,ge,Ce){this.pdf.internal.out([e(i(re+R)),e(s(oe+z)),e(i(de+R)),e(s(xe+z)),e(i(ge+R)),e(s(Ce+z)),"c"].join(" "))},ae=function(R,z,re,oe){for(var de=2*Math.PI,xe=Math.PI/2;z>re;)z-=de;var ge=Math.abs(re-z);ge<de&&oe&&(ge=de-ge);for(var Ce=[],je=oe?-1:1,ke=z;ge>1e-5;){var Xe=ke+je*Math.min(ge,xe);Ce.push(ue.call(this,R,ke,Xe)),ge-=Math.abs(Xe-ke),ke=Xe}return Ce},ue=function(R,z,re){var oe=(re-z)/2,de=R*Math.cos(oe),xe=R*Math.sin(oe),ge=de,Ce=-xe,je=ge*ge+Ce*Ce,ke=je+ge*de+Ce*xe,Xe=4/3*(Math.sqrt(2*je*ke)-ke)/(ge*xe-Ce*de),$e=ge-Xe*Ce,At=Ce+Xe*ge,Te=$e,Ae=-At,bt=oe+z,ze=Math.cos(bt),Ve=Math.sin(bt);return{x1:R*Math.cos(z),y1:R*Math.sin(z),x2:$e*ze-At*Ve,y2:$e*Ve+At*ze,x3:Te*ze-Ae*Ve,y3:Te*Ve+Ae*ze,x4:R*Math.cos(re),y4:R*Math.sin(re)}},se=function(R){return 180*R/Math.PI},ce=function(R,z,re,oe,de,xe){var ge=R+.5*(re-R),Ce=z+.5*(oe-z),je=de+.5*(re-de),ke=xe+.5*(oe-xe),Xe=Math.min(R,de,ge,je),$e=Math.max(R,de,ge,je),At=Math.min(z,xe,Ce,ke),Te=Math.max(z,xe,Ce,ke);return new l(Xe,At,$e-Xe,Te-At)},fe=function(R,z,re,oe,de,xe,ge,Ce){var je,ke,Xe,$e,At,Te,Ae,bt,ze,Ve,et,nt,rt,wt,vt=re-R,St=oe-z,ct=de-re,yt=xe-oe,Ht=ge-de,Ft=Ce-xe;for(ke=0;ke<41;ke++)ze=(Ae=(Xe=R+(je=ke/40)*vt)+je*((At=re+je*ct)-Xe))+je*(At+je*(de+je*Ht-At)-Ae),Ve=(bt=($e=z+je*St)+je*((Te=oe+je*yt)-$e))+je*(Te+je*(xe+je*Ft-Te)-bt),ke==0?(et=ze,nt=Ve,rt=ze,wt=Ve):(et=Math.min(et,ze),nt=Math.min(nt,Ve),rt=Math.max(rt,ze),wt=Math.max(wt,Ve));return new l(Math.round(et),Math.round(nt),Math.round(rt-et),Math.round(wt-nt))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,z,re=(R=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:z}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Rt.API),function(r){var e=function(s){var a,l,u,d,p,w,B,y,U,Q;for(l=[],u=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(w=(p=((p=((p=((p=(p-(Q=p%85))/85)-(U=p%85))/85)-(y=p%85))/85)-(B=p%85))/85)%85,l.push(w+33,B+33,y+33,U+33,Q+33)):l.push(122);return function(k,M){for(var D=M;D>0;D--)k.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,u,d,p,w=String,B="length",y=255,U="charCodeAt",Q="slice",k="replace";for(s[Q](-2),s=s[Q](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),u=[],d=0,p=(s+=a="uuuuu"[Q](s[B]%5||5))[B];p>d;d+=5)l=52200625*(s[U](d)-33)+614125*(s[U](d+1)-33)+7225*(s[U](d+2)-33)+85*(s[U](d+3)-33)+(s[U](d+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(M,D){for(var q=D;q>0;q--)M.pop()}(u,a[B]),w.fromCharCode.apply(w,u)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=mv(a)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};r.processDataByFilters=function(s,a){var l=0,u=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=n(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Rt.API),function(r){r.loadFile=function(e,t,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(u,d,p){var w=new XMLHttpRequest,B=0,y=function(U){var Q=U.length,k=[],M=String.fromCharCode;for(B=0;B<Q;B+=1)k.push(M(255&U.charCodeAt(B)));return k.join("")};if(w.open("GET",u,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?p(y(this.responseText)):p(void 0)}),w.send(null),d&&w.status===200)return y(w.responseText)}(i,s,a)}catch{}return l}(e,t,n)},r.loadImageFile=r.loadFile}(Rt.API),function(r){function e(){return(Ot.html2canvas?Promise.resolve(Ot.html2canvas):hv(()=>Promise.resolve().then(()=>Uj),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Ot.DOMPurify?Promise.resolve(Ot.DOMPurify):hv(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Sr(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(d,p){for(var w=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),B=d.firstChild;B;B=B.nextSibling)p!==!0&&B.nodeType===1&&B.nodeName==="SCRIPT"||w.appendChild(u(B,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(w.width=d.width,w.height=d.height,w.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(w.value=d.value),w.addEventListener("load",function(){w.scrollTop=d.scrollTop,w.scrollLeft=d.scrollLeft},!0)),w}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var B=0;B<d.length;++B){var y=d[B],U=y.src.find(function(Q){return Q.format==="truetype"});U&&u.addFont(U.url,y.ref.name,y.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,u.context2d.save(!0),l(this.prop.container,w)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(a=a||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,d){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(d,p){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(w){return u.updateProgress(null,d),w}).then(d,p).then(function(w){return u.updateProgress(1),w})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=u.call(d,a,l);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Rt.getPageSize=function(a,l,u){if(Sr(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var p,w=(""+u).toLowerCase(),B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var y,U=0,Q=0;if(B.hasOwnProperty(w))U=B[w][1]/p,Q=B[w][0]/p;else try{U=u[1],Q=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",Q>U&&(y=Q,Q=U,U=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",U>Q&&(y=Q,Q=U,U=y)}return{width:Q,height:U,unit:l,k:p,orientation:a}},r.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Cv):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(Rt.API),Rt.API.addJS=function(r){return R5=r,this.internal.events.subscribe("postPutResources",function(){kp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),P5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+R5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kp!==void 0&&P5!==void 0&&this.internal.out("/Names <</JavaScript "+kp+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=n.exec(a);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var w=t.internal.newObject();p.push(w);var B=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+B.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<p.length;s++)t.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var u=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Rt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,l){var u,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(w){for(var B,y=256*w.charCodeAt(4)+w.charCodeAt(5),U=w.length,Q={width:0,height:0,numcomponents:1},k=4;k<U;k+=2){if(k+=y,e.indexOf(w.charCodeAt(k+1))!==-1){B=256*w.charCodeAt(k+5)+w.charCodeAt(k+6),Q={width:256*w.charCodeAt(k+7)+w.charCodeAt(k+8),height:B,numcomponents:w.charCodeAt(k+9)};break}y=256*w.charCodeAt(k+2)+w.charCodeAt(k+3)}return Q}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return p}}(Rt.API);var ah,Pp,D5,O5,M5,KP=function(){var r,e,t;function n(s){var a,l,u,d,p,w,B,y,U,Q,k,M,D,q;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(a=this.readUInt32(),U=(function(){var ee,K;for(K=[],ee=0;ee<4;++ee)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,w.delay=1e3*p/d,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(U==="fdAT"&&(this.pos+=4,a-=4),s=w?.data||this.imgData,M=0;0<=a?M<a:M>a;0<=a?++M:--M)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((Q=u-this.transparency.indexed.length)>0)for(D=0;0<=Q?D<Q:D>Q;0<=Q?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":B=(k=this.read(a)).indexOf(0),y=String.fromCharCode.apply(String,k.slice(0,B)),this.text[y]=String.fromCharCode.apply(String,k.slice(B+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(q=this.colorType)===4||q===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),u=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(w,B,y,U){var Q,k,M,D,q,ee,K,J,O,C,I,j,N,T,S,te,Be,ae,ue,se,ce,fe=Math.ceil((d.width-w)/y),ie=Math.ceil((d.height-B)/U),R=d.width==fe&&d.height==ie;for(T=a*fe,j=R?l:new Uint8Array(T*ie),ee=s.length,N=0,k=0;N<ie&&u<ee;){switch(s[u++]){case 0:for(D=Be=0;Be<T;D=Be+=1)j[k++]=s[u++];break;case 1:for(D=ae=0;ae<T;D=ae+=1)Q=s[u++],q=D<a?0:j[k-a],j[k++]=(Q+q)%256;break;case 2:for(D=ue=0;ue<T;D=ue+=1)Q=s[u++],M=(D-D%a)/a,S=N&&j[(N-1)*T+M*a+D%a],j[k++]=(S+Q)%256;break;case 3:for(D=se=0;se<T;D=se+=1)Q=s[u++],M=(D-D%a)/a,q=D<a?0:j[k-a],S=N&&j[(N-1)*T+M*a+D%a],j[k++]=(Q+Math.floor((q+S)/2))%256;break;case 4:for(D=ce=0;ce<T;D=ce+=1)Q=s[u++],M=(D-D%a)/a,q=D<a?0:j[k-a],N===0?S=te=0:(S=j[(N-1)*T+M*a+D%a],te=M&&j[(N-1)*T+(M-1)*a+D%a]),K=q+S-te,J=Math.abs(K-q),C=Math.abs(K-S),I=Math.abs(K-te),O=J<=C&&J<=I?q:C<=I?S:te,j[k++]=(Q+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!R){var z=((B+N*U)*d.width+w)*a,re=N*T;for(D=0;D<fe;D+=1){for(var oe=0;oe<a;oe+=1)l[z++]=j[re++];z+=(y-1)*a}}N++}}return s=xP(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},n.prototype.decodePalette=function(){var s,a,l,u,d,p,w,B,y;for(l=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+l.length),u=0,s=0,a=w=0,B=l.length;w<B;a=w+=3)d[u++]=l[a],d[u++]=l[a+1],d[u++]=l[a+2],d[u++]=(y=p[s++])!=null?y:255;return d},n.prototype.copyToImageData=function(s,a){var l,u,d,p,w,B,y,U,Q,k,M;if(u=this.colors,Q=null,l=this.hasAlphaChannel,this.palette.length&&(Q=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),u=4,l=!0),U=(d=s.data||s).length,w=Q||a,p=B=0,u===1)for(;p<U;)y=Q?4*a[p/4]:B,k=w[y++],d[p++]=k,d[p++]=k,d[p++]=k,d[p++]=l?w[y++]:255,B=y;else for(;p<U;)y=Q?4*a[p/4]:B,d[p++]=w[y++],d[p++]=w[y++],d[p++]=w[y++],d[p++]=l?w[y++]:255,B=y},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ot)==="[object Window]"){try{e=Ot.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,l,u,d,p,w,B,y;if(this.animation){for(y=[],l=p=0,w=(B=this.animation.frames).length;p<w;l=++p)a=B[l],u=s.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,d),a.imageData=u,y.push(a.image=r(u));return y}},n.prototype.renderFrame=function(s,a){var l,u,d;return l=(u=this.animation.frames)[a],d=u[a-1],a===0&&s.clearRect(0,0,this.width,this.height),d?.disposeOp===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var a,l,u,d,p,w,B=this;return l=0,w=this.animation,d=w.numFrames,u=w.frames,p=w.numPlays,(a=function(){var y,U;if(y=l++%d,U=u[y],B.renderFrame(s,y),d>1&&l/d<p)return B.animation._timeout=setTimeout(a,U.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function qP(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<(7&i)+1;r[e++],r[e++];var l=null,u=null;s&&(l=e,u=a,e+=3*a);var d=!0,p=[],w=0,B=null,y=0,U=null;for(this.width=t,this.height=n;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,U=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var Q=r[e++];w=r[e++]|r[e++]<<8,B=r[e++],(1&Q)==0&&(B=null),y=Q>>2&7,e++;break;case 254:for(;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var k=r[e++]|r[e++]<<8,M=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,q=r[e++]|r[e++]<<8,ee=r[e++],K=ee>>6&1,J=1<<(7&ee)+1,O=l,C=u,I=!1;ee>>7&&(I=!0,O=e,C=J,e+=3*J);var j=e;for(e++;;){var N;if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}p.push({x:k,y:M,width:D,height:q,has_local_palette:I,palette_offset:O,palette_size:C,data_offset:j,data_length:e-j,transparent_index:B,interlaced:!!K,delay:w,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return U},this.frameInfo=function(T){if(T<0||T>=p.length)throw new Error("Frame index out of range.");return p[T]},this.decodeAndBlitFrameBGRA=function(T,S){var te=this.frameInfo(T),Be=te.width*te.height,ae=new Uint8Array(Be);j5(r,te.data_offset,ae,Be);var ue=te.palette_offset,se=te.transparent_index;se===null&&(se=256);var ce=te.width,fe=t-ce,ie=ce,R=4*(te.y*t+te.x),z=4*((te.y+te.height)*t+te.x),re=R,oe=4*fe;te.interlaced===!0&&(oe+=4*t*7);for(var de=8,xe=0,ge=ae.length;xe<ge;++xe){var Ce=ae[xe];if(ie===0&&(ie=ce,(re+=oe)>=z&&(oe=4*fe+4*t*(de-1),re=R+(ce+fe)*(de<<1),de>>=1)),Ce===se)re+=4;else{var je=r[ue+3*Ce],ke=r[ue+3*Ce+1],Xe=r[ue+3*Ce+2];S[re++]=Xe,S[re++]=ke,S[re++]=je,S[re++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(T,S){var te=this.frameInfo(T),Be=te.width*te.height,ae=new Uint8Array(Be);j5(r,te.data_offset,ae,Be);var ue=te.palette_offset,se=te.transparent_index;se===null&&(se=256);var ce=te.width,fe=t-ce,ie=ce,R=4*(te.y*t+te.x),z=4*((te.y+te.height)*t+te.x),re=R,oe=4*fe;te.interlaced===!0&&(oe+=4*t*7);for(var de=8,xe=0,ge=ae.length;xe<ge;++xe){var Ce=ae[xe];if(ie===0&&(ie=ce,(re+=oe)>=z&&(oe=4*fe+4*t*(de-1),re=R+(ce+fe)*(de<<1),de>>=1)),Ce===se)re+=4;else{var je=r[ue+3*Ce],ke=r[ue+3*Ce+1],Xe=r[ue+3*Ce+2];S[re++]=je,S[re++]=ke,S[re++]=Xe,S[re++]=255}--ie}}}function j5(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,l=a+1,u=i+1,d=(1<<u)-1,p=0,w=0,B=0,y=r[e++],U=new Int32Array(4096),Q=null;;){for(;p<16&&y!==0;)w|=r[e++]<<p,p+=8,y===1?y=r[e++]:--y;if(p<u)break;var k=w&d;if(w>>=u,p-=u,k!==s){if(k===a)break;for(var M=k<l?k:Q,D=0,q=M;q>s;)q=U[q]>>8,++D;var ee=q;if(B+D+(M!==k?1:0)>n)return void Gr.log("Warning, gif stream longer than expected.");t[B++]=ee;var K=B+=D;for(M!==k&&(t[B++]=ee),q=M;D--;)q=U[q],t[--K]=255&q,q>>=8;Q!==null&&l<4096&&(U[l++]=Q<<8|ee,l>=d+1&&u<12&&(++u,d=d<<1|1)),Q=k}else l=a+1,d=(1<<(u=i+1))-1,Q=null}return B!==n&&Gr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cw(r){var e,t,n,i,s,a=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),p=new Array(64),w=new Array(65535),B=new Array(65535),y=new Array(64),U=new Array(64),Q=[],k=0,M=7,D=new Array(64),q=new Array(64),ee=new Array(64),K=new Array(256),J=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(R,z){for(var re=0,oe=0,de=new Array,xe=1;xe<=16;xe++){for(var ge=1;ge<=R[xe];ge++)de[z[oe]]=[],de[z[oe]][0]=re,de[z[oe]][1]=xe,oe++,re++;re*=2}return de}function ue(R){for(var z=R[0],re=R[1]-1;re>=0;)z&1<<re&&(k|=1<<M),re--,--M<0&&(k==255?(se(255),se(0)):se(k),M=7,k=0)}function se(R){Q.push(R)}function ce(R){se(R>>8&255),se(255&R)}function fe(R,z,re,oe,de){for(var xe,ge=de[0],Ce=de[240],je=function(Ve,et){var nt,rt,wt,vt,St,ct,yt,Ht,Ft,Dt,st=0;for(Ft=0;Ft<8;++Ft){nt=Ve[st],rt=Ve[st+1],wt=Ve[st+2],vt=Ve[st+3],St=Ve[st+4],ct=Ve[st+5],yt=Ve[st+6];var ar=nt+(Ht=Ve[st+7]),Wt=nt-Ht,jn=rt+yt,fr=rt-yt,Fr=wt+ct,Hi=wt-ct,Zt=vt+St,Ls=vt-St,Qr=ar+Zt,An=ar-Zt,Hn=jn+Fr,kr=jn-Fr;Ve[st]=Qr+Hn,Ve[st+4]=Qr-Hn;var Tt=.707106781*(kr+An);Ve[st+2]=An+Tt,Ve[st+6]=An-Tt;var rr=.382683433*((Qr=Ls+Hi)-(kr=fr+Wt)),fs=.5411961*Qr+rr,fn=1.306562965*kr+rr,Vn=.707106781*(Hn=Hi+fr),Vi=Wt+Vn,dt=Wt-Vn;Ve[st+5]=dt+fs,Ve[st+3]=dt-fs,Ve[st+1]=Vi+fn,Ve[st+7]=Vi-fn,st+=8}for(st=0,Ft=0;Ft<8;++Ft){nt=Ve[st],rt=Ve[st+8],wt=Ve[st+16],vt=Ve[st+24],St=Ve[st+32],ct=Ve[st+40],yt=Ve[st+48];var oi=nt+(Ht=Ve[st+56]),yn=nt-Ht,Bn=rt+yt,Hr=rt-yt,Vr=wt+ct,Yr=wt-ct,IA=vt+St,tA=vt-St,li=oi+IA,Ki=oi-IA,pn=Bn+Vr,ui=Bn-Vr;Ve[st]=li+pn,Ve[st+32]=li-pn;var an=.707106781*(ui+Ki);Ve[st+16]=Ki+an,Ve[st+48]=Ki-an;var ps=.382683433*((li=tA+Yr)-(ui=Hr+yn)),rA=.5411961*li+ps,nA=1.306562965*ui+ps,iA=.707106781*(pn=Yr+Hr),SA=yn+iA,na=yn-iA;Ve[st+40]=na+rA,Ve[st+24]=na-rA,Ve[st+8]=SA+nA,Ve[st+56]=SA-nA,st++}for(Ft=0;Ft<64;++Ft)Dt=Ve[Ft]*et[Ft],y[Ft]=Dt>0?Dt+.5|0:Dt-.5|0;return y}(R,z),ke=0;ke<64;++ke)U[O[ke]]=je[ke];var Xe=U[0]-re;re=U[0],Xe==0?ue(oe[0]):(ue(oe[B[xe=32767+Xe]]),ue(w[xe]));for(var $e=63;$e>0&&U[$e]==0;)$e--;if($e==0)return ue(ge),re;for(var At,Te=1;Te<=$e;){for(var Ae=Te;U[Te]==0&&Te<=$e;)++Te;var bt=Te-Ae;if(bt>=16){At=bt>>4;for(var ze=1;ze<=At;++ze)ue(Ce);bt&=15}xe=32767+U[Te],ue(de[(bt<<4)+B[xe]]),ue(w[xe]),Te++}return $e!=63&&ue(ge),re}function ie(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(z){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var de=a((re[oe]*z+50)/100);de=Math.min(Math.max(de,1),255),l[O[oe]]=de}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var Ce=a((xe[ge]*z+50)/100);Ce=Math.min(Math.max(Ce,1),255),u[O[ge]]=Ce}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Xe=0;Xe<8;Xe++)for(var $e=0;$e<8;$e++)d[ke]=1/(l[O[ke]]*je[Xe]*je[$e]*8),p[ke]=1/(u[O[ke]]*je[Xe]*je[$e]*8),ke++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,z){z&&ie(z),Q=new Array,k=0,M=7,ce(65496),ce(65504),ce(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),ce(1),ce(1),se(0),se(0),function(){ce(65499),ce(132),se(0);for(var rt=0;rt<64;rt++)se(l[rt]);se(1);for(var wt=0;wt<64;wt++)se(u[wt])}(),function(rt,wt){ce(65472),ce(17),se(8),ce(wt),ce(rt),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(R.width,R.height),function(){ce(65476),ce(418),se(0);for(var rt=0;rt<16;rt++)se(C[rt+1]);for(var wt=0;wt<=11;wt++)se(I[wt]);se(16);for(var vt=0;vt<16;vt++)se(j[vt+1]);for(var St=0;St<=161;St++)se(N[St]);se(1);for(var ct=0;ct<16;ct++)se(T[ct+1]);for(var yt=0;yt<=11;yt++)se(S[yt]);se(17);for(var Ht=0;Ht<16;Ht++)se(te[Ht+1]);for(var Ft=0;Ft<=161;Ft++)se(Be[Ft])}(),ce(65498),ce(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var re=0,oe=0,de=0;k=0,M=7,this.encode.displayName="_encode_";for(var xe,ge,Ce,je,ke,Xe,$e,At,Te,Ae=R.data,bt=R.width,ze=R.height,Ve=4*bt,et=0;et<ze;){for(xe=0;xe<Ve;){for(ke=Ve*et+xe,$e=-1,At=0,Te=0;Te<64;Te++)Xe=ke+(At=Te>>3)*Ve+($e=4*(7&Te)),et+At>=ze&&(Xe-=Ve*(et+1+At-ze)),xe+$e>=Ve&&(Xe-=xe+$e-Ve+4),ge=Ae[Xe++],Ce=Ae[Xe++],je=Ae[Xe++],D[Te]=(J[ge]+J[Ce+256>>0]+J[je+512>>0]>>16)-128,q[Te]=(J[ge+768>>0]+J[Ce+1024>>0]+J[je+1280>>0]>>16)-128,ee[Te]=(J[ge+1280>>0]+J[Ce+1536>>0]+J[je+1792>>0]>>16)-128;re=fe(D,d,re,e,n),oe=fe(q,p,oe,t,i),de=fe(ee,p,de,t,i),xe+=32}et+=8}if(M>=0){var nt=[];nt[1]=M+1,nt[0]=(1<<M+1)-1,ue(nt)}return ce(65497),new Uint8Array(Q)},r=r||50,function(){for(var R=String.fromCharCode,z=0;z<256;z++)K[z]=R(z)}(),e=ae(C,I),t=ae(T,S),n=ae(j,N),i=ae(te,Be),function(){for(var R=1,z=2,re=1;re<=15;re++){for(var oe=R;oe<z;oe++)B[32767+oe]=re,w[32767+oe]=[],w[32767+oe][1]=re,w[32767+oe][0]=oe;for(var de=-(z-1);de<=-R;de++)B[32767+de]=re,w[32767+de]=[],w[32767+de][1]=re,w[32767+de][0]=z-1+de;R<<=1,z<<=1}}(),function(){for(var R=0;R<256;R++)J[R]=19595*R,J[R+256>>0]=38470*R,J[R+512>>0]=7471*R+32768,J[R+768>>0]=-11059*R,J[R+1024>>0]=-21709*R,J[R+1280>>0]=32768*R+8421375,J[R+1536>>0]=-27439*R,J[R+1792>>0]=-5329*R}(),ie(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ua(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function H5(r){function e(C){if(!C)throw Error("assert :P")}function t(C,I,j){for(var N=0;4>N;N++)if(C[I+N]!=j.charCodeAt(N))return!0;return!1}function n(C,I,j,N,T){for(var S=0;S<T;S++)C[I+S]=j[N+S]}function i(C,I,j,N){for(var T=0;T<N;T++)C[I+T]=j}function s(C){return new Int32Array(C)}function a(C,I){for(var j=[],N=0;N<C;N++)j.push(new I);return j}function l(C,I){var j=[];return function N(T,S,te){for(var Be=te[S],ae=0;ae<Be&&(T.push(te.length>S+1?[]:new I),!(te.length<S+1));ae++)N(T[ae],S+1,te)}(j,0,C),j}var u=function(){var C=this;function I(h,v){for(var b=1<<v-1>>>0;h&b;)b>>>=1;return b?(h&b-1)+b:h}function j(h,v,b,L,H){e(!(L%b));do h[v+(L-=b)]=H;while(0<L)}function N(h,v,b,L,H){if(e(2328>=H),512>=H)var G=s(512);else if((G=s(H))==null)return 0;return function($,X,Z,ne,me,Fe){var Ne,Ee,qe=X,Re=1<<Z,ve=s(16),ye=s(16);for(e(me!=0),e(ne!=null),e($!=null),e(0<Z),Ee=0;Ee<me;++Ee){if(15<ne[Ee])return 0;++ve[ne[Ee]]}if(ve[0]==me)return 0;for(ye[1]=0,Ne=1;15>Ne;++Ne){if(ve[Ne]>1<<Ne)return 0;ye[Ne+1]=ye[Ne]+ve[Ne]}for(Ee=0;Ee<me;++Ee)Ne=ne[Ee],0<ne[Ee]&&(Fe[ye[Ne]++]=Ee);if(ye[15]==1)return(ne=new T).g=0,ne.value=Fe[0],j($,qe,1,Re,ne),Re;var Me,Oe=-1,He=Re-1,ht=0,ot=1,Nt=1,lt=1<<Z;for(Ee=0,Ne=1,me=2;Ne<=Z;++Ne,me<<=1){if(ot+=Nt<<=1,0>(Nt-=ve[Ne]))return 0;for(;0<ve[Ne];--ve[Ne])(ne=new T).g=Ne,ne.value=Fe[Ee++],j($,qe+ht,me,lt,ne),ht=I(ht,Ne)}for(Ne=Z+1,me=2;15>=Ne;++Ne,me<<=1){if(ot+=Nt<<=1,0>(Nt-=ve[Ne]))return 0;for(;0<ve[Ne];--ve[Ne]){if(ne=new T,(ht&He)!=Oe){for(qe+=lt,Me=1<<(Oe=Ne)-Z;15>Oe&&!(0>=(Me-=ve[Oe]));)++Oe,Me<<=1;Re+=lt=1<<(Me=Oe-Z),$[X+(Oe=ht&He)].g=Me+Z,$[X+Oe].value=qe-X-Oe}ne.g=Ne-Z,ne.value=Fe[Ee++],j($,qe+(ht>>Z),me,lt,ne),ht=I(ht,Ne)}}return ot!=2*ye[15]-1?0:Re}(h,v,b,L,H,G)}function T(){this.value=this.g=0}function S(){this.value=this.g=0}function te(){this.G=a(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(un,S)}function Be(h,v,b,L){e(h!=null),e(v!=null),e(2147483648>L),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=v,h.pa=b,h.Jd=v,h.Yc=b+L,h.Zc=4<=L?b+L-4+1:b,xe(h)}function ae(h,v){for(var b=0;0<v--;)b|=Ce(h,128)<<v;return b}function ue(h,v){var b=ae(h,v);return ge(h)?-b:b}function se(h,v,b,L){var H,G=0;for(e(h!=null),e(v!=null),e(4294967288>L),h.Sb=L,h.Ra=0,h.u=0,h.h=0,4<L&&(L=4),H=0;H<L;++H)G+=v[b+H]<<8*H;h.Ra=G,h.bb=L,h.oa=v,h.pa=b}function ce(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<El-8>>>0,++h.bb,h.u-=8;re(h)&&(h.h=1,h.u=0)}function fe(h,v){if(e(0<=v),!h.h&&v<=bl){var b=z(h)&_l[v];return h.u+=v,ce(h),b}return h.h=1,h.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(h){return h.Ra>>>(h.u&El-1)>>>0}function re(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>El}function oe(h,v){h.u=v,h.h=re(h)}function de(h){h.u>=Il&&(e(h.u>=Il),ce(h))}function xe(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ge(h){return ae(h,1)}function Ce(h,v){var b=h.Ca;0>h.b&&xe(h);var L=h.b,H=b*v>>>8,G=(h.I>>>L>H)+0;for(G?(b-=H,h.I-=H+1<<L>>>0):b=H+1,L=b,H=0;256<=L;)H+=8,L>>=8;return L=7^H+Fi[L],h.b-=L,h.Ca=(b<<L)-1,G}function je(h,v,b){h[v+0]=b>>24&255,h[v+1]=b>>16&255,h[v+2]=b>>8&255,h[v+3]=b>>0&255}function ke(h,v){return h[v+0]<<0|h[v+1]<<8}function Xe(h,v){return ke(h,v)|h[v+2]<<16}function $e(h,v){return ke(h,v)|ke(h,v+2)<<16}function At(h,v){var b=1<<v;return e(h!=null),e(0<v),h.X=s(b),h.X==null?0:(h.Mb=32-v,h.Xa=v,1)}function Te(h,v){e(h!=null),e(v!=null),e(h.Xa==v.Xa),n(v.X,0,h.X,0,1<<v.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function bt(h,v,b,L){e(b!=null),e(L!=null);var H=b[0],G=L[0];return H==0&&(H=(h*G+v/2)/v),G==0&&(G=(v*H+h/2)/h),0>=H||0>=G?0:(b[0]=H,L[0]=G,1)}function ze(h,v){return h+(1<<v)-1>>>v}function Ve(h,v){return((4278255360&h)+(4278255360&v)>>>0&4278255360)+((16711935&h)+(16711935&v)>>>0&16711935)>>>0}function et(h,v){C[v]=function(b,L,H,G,$,X,Z){var ne;for(ne=0;ne<$;++ne){var me=C[h](X[Z+ne-1],H,G+ne);X[Z+ne]=Ve(b[L+ne],me)}}}function nt(){this.ud=this.hd=this.jd=0}function rt(h,v){return((4278124286&(h^v))>>>1)+(h&v)>>>0}function wt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function vt(h,v){return wt(h+(h-v+.5>>1))}function St(h,v,b){return Math.abs(v-b)-Math.abs(h-b)}function ct(h,v,b,L,H,G,$){for(L=G[$-1],b=0;b<H;++b)G[$+b]=L=Ve(h[v+b],L)}function yt(h,v,b,L,H){var G;for(G=0;G<b;++G){var $=h[v+G],X=$>>8&255,Z=16711935&(Z=(Z=16711935&$)+((X<<16)+X));L[H+G]=(4278255360&$)+Z>>>0}}function Ht(h,v){v.jd=h>>0&255,v.hd=h>>8&255,v.ud=h>>16&255}function Ft(h,v,b,L,H,G){var $;for($=0;$<L;++$){var X=v[b+$],Z=X>>>8,ne=X,me=255&(me=(me=X>>>16)+((h.jd<<24>>24)*(Z<<24>>24)>>>5));ne=255&(ne=(ne=ne+((h.hd<<24>>24)*(Z<<24>>24)>>>5))+((h.ud<<24>>24)*(me<<24>>24)>>>5)),H[G+$]=(4278255360&X)+(me<<16)+ne}}function Dt(h,v,b,L,H){C[v]=function(G,$,X,Z,ne,me,Fe,Ne,Ee){for(Z=Fe;Z<Ne;++Z)for(Fe=0;Fe<Ee;++Fe)ne[me++]=H(X[L(G[$++])])},C[h]=function(G,$,X,Z,ne,me,Fe){var Ne=8>>G.b,Ee=G.Ea,qe=G.K[0],Re=G.w;if(8>Ne)for(G=(1<<G.b)-1,Re=(1<<Ne)-1;$<X;++$){var ve,ye=0;for(ve=0;ve<Ee;++ve)ve&G||(ye=L(Z[ne++])),me[Fe++]=H(qe[ye&Re]),ye>>=Ne}else C["VP8LMapColor"+b](Z,ne,qe,Re,me,Fe,$,X,Ee)}}function st(h,v,b,L,H){for(b=v+b;v<b;){var G=h[v++];L[H++]=G>>16&255,L[H++]=G>>8&255,L[H++]=G>>0&255}}function ar(h,v,b,L,H){for(b=v+b;v<b;){var G=h[v++];L[H++]=G>>16&255,L[H++]=G>>8&255,L[H++]=G>>0&255,L[H++]=G>>24&255}}function Wt(h,v,b,L,H){for(b=v+b;v<b;){var G=($=h[v++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;L[H++]=G,L[H++]=$}}function jn(h,v,b,L,H){for(b=v+b;v<b;){var G=($=h[v++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;L[H++]=G,L[H++]=$}}function fr(h,v,b,L,H){for(b=v+b;v<b;){var G=h[v++];L[H++]=G>>0&255,L[H++]=G>>8&255,L[H++]=G>>16&255}}function Fr(h,v,b,L,H,G){if(G==0)for(b=v+b;v<b;)je(L,((G=h[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),H+=32;else n(L,H,h,v,b)}function Hi(h,v){C[v][0]=C[h+"0"],C[v][1]=C[h+"1"],C[v][2]=C[h+"2"],C[v][3]=C[h+"3"],C[v][4]=C[h+"4"],C[v][5]=C[h+"5"],C[v][6]=C[h+"6"],C[v][7]=C[h+"7"],C[v][8]=C[h+"8"],C[v][9]=C[h+"9"],C[v][10]=C[h+"10"],C[v][11]=C[h+"11"],C[v][12]=C[h+"12"],C[v][13]=C[h+"13"],C[v][14]=C[h+"0"],C[v][15]=C[h+"0"]}function Zt(h){return h==Ll||h==Ho||h==Xu||h==Yu}function Ls(){this.eb=[],this.size=this.A=this.fb=0}function Qr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function An(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ls,this.f.kb=new Qr,this.sd=null}function Hn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function rr(h,v){var b=h.T,L=v.ba.f.RGBA,H=L.eb,G=L.fb+h.ka*L.A,$=Xi[v.ba.S],X=h.y,Z=h.O,ne=h.f,me=h.N,Fe=h.ea,Ne=h.W,Ee=v.cc,qe=v.dc,Re=v.Mc,ve=v.Nc,ye=h.ka,Me=h.ka+h.T,Oe=h.U,He=Oe+1>>1;for(ye==0?$(X,Z,null,null,ne,me,Fe,Ne,ne,me,Fe,Ne,H,G,null,null,Oe):($(v.ec,v.fc,X,Z,Ee,qe,Re,ve,ne,me,Fe,Ne,H,G-L.A,H,G,Oe),++b);ye+2<Me;ye+=2)Ee=ne,qe=me,Re=Fe,ve=Ne,me+=h.Rc,Ne+=h.Rc,G+=2*L.A,$(X,(Z+=2*h.fa)-h.fa,X,Z,Ee,qe,Re,ve,ne,me,Fe,Ne,H,G-L.A,H,G,Oe);return Z+=h.fa,h.j+Me<h.o?(n(v.ec,v.fc,X,Z,Oe),n(v.cc,v.dc,ne,me,He),n(v.Mc,v.Nc,Fe,Ne,He),b--):1&Me||$(X,Z,null,null,ne,me,Fe,Ne,ne,me,Fe,Ne,H,G+L.A,null,null,Oe),b}function fs(h,v,b){var L=h.F,H=[h.J];if(L!=null){var G=h.U,$=v.ba.S,X=$==$u||$==Xu;v=v.ba.f.RGBA;var Z=[0],ne=h.ka;Z[0]=h.T,h.Kb&&(ne==0?--Z[0]:(--ne,H[0]-=h.width),h.j+h.ka+h.T==h.o&&(Z[0]=h.o-h.j-ne));var me=v.eb;ne=v.fb+ne*v.A,h=_r(L,H[0],h.width,G,Z,me,ne+(X?0:3),v.A),e(b==Z),h&&Zt($)&&Wi(me,ne,X,G,Z,v.A)}return 0}function fn(h){var v=h.ma,b=v.ba.S,L=11>b,H=b==Za||b==Wu||b==$u||b==Rr||b==12||Zt(b);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!xl(v.Oa,h,H?11:12))return 0;if(H&&Zt(b)&&We(),h.da)alert("todo:use_scaling");else{if(L){if(v.Ib=Tt,h.Kb){if(b=h.U+1>>1,v.memory=s(h.U+2*b),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+h.U,v.Mc=v.cc,v.Nc=v.dc+b,v.Ib=rr,We()}}else alert("todo:EmitYUV");H&&(v.Jb=fs,L&&Ie())}if(L&&!ni){for(h=0;256>h;++h)Yi[h]=89858*(h-128)+fA>>va,Ji[h]=-22014*(h-128)+fA,Rl[h]=-45773*(h-128),Go[h]=113618*(h-128)+fA>>va;for(h=br;h<Ur;++h)v=76283*(h-16)+fA>>va,Vc[h-br]=wr(v,255),zf[h-br]=wr(v+8>>4,15);ni=1}return 1}function Vn(h){var v=h.ma,b=h.U,L=h.T;return e(!(1&h.ka)),0>=b||0>=L?0:(b=v.Ib(h,v),v.Jb!=null&&v.Jb(h,v,b),v.Dc+=b,1)}function Vi(h){h.ma.memory=null}function dt(h,v,b,L){return fe(h,8)!=47?0:(v[0]=fe(h,14)+1,b[0]=fe(h,14)+1,L[0]=fe(h,1),fe(h,3)!=0?0:!h.h)}function oi(h,v){if(4>h)return h+1;var b=h-2>>1;return(2+(1&h)<<b)+fe(v,b)+1}function yn(h,v){return 120<v?v-120:1<=(b=((b=Zm[v-1])>>4)*h+(8-(15&b)))?b:1;var b}function Bn(h,v,b){var L=z(b),H=h[v+=255&L].g-8;return 0<H&&(oe(b,b.u+8),L=z(b),v+=h[v].value,v+=L&(1<<H)-1),oe(b,b.u+h[v].g),h[v].value}function Hr(h,v,b){return b.g+=h.g,b.value+=h.value<<v>>>0,e(8>=b.g),h.g}function Vr(h,v,b){var L=h.xc;return e((v=L==0?0:h.vc[h.md*(b>>L)+(v>>L)])<h.Wb),h.Ya[v]}function Yr(h,v,b,L){var H=h.ab,G=h.c*v,$=h.C;v=$+v;var X=b,Z=L;for(L=h.Ta,b=h.Ua;0<H--;){var ne=h.gc[H],me=$,Fe=v,Ne=X,Ee=Z,qe=(Z=L,X=b,ne.Ea);switch(e(me<Fe),e(Fe<=ne.nc),ne.hc){case 2:Dc(Ne,Ee,(Fe-me)*qe,Z,X);break;case 0:var Re=me,ve=Fe,ye=Z,Me=X,Oe=(lt=ne).Ea;Re==0&&(Po(Ne,Ee,null,null,1,ye,Me),ct(Ne,Ee+1,0,0,Oe-1,ye,Me+1),Ee+=Oe,Me+=Oe,++Re);for(var He=1<<lt.b,ht=He-1,ot=ze(Oe,lt.b),Nt=lt.K,lt=lt.w+(Re>>lt.b)*ot;Re<ve;){var lr=Nt,ur=lt,nr=1;for(ca(Ne,Ee,ye,Me-Oe,1,ye,Me);nr<Oe;){var Xt=(nr&~ht)+He;Xt>Oe&&(Xt=Oe),(0,MA[lr[ur++]>>8&15])(Ne,Ee+ +nr,ye,Me+nr-Oe,Xt-nr,ye,Me+nr),nr=Xt}Ee+=Oe,Me+=Oe,++Re&ht||(lt+=ot)}Fe!=ne.nc&&n(Z,X-qe,Z,X+(Fe-me-1)*qe,qe);break;case 1:for(qe=Ne,ve=Ee,Oe=(Ne=ne.Ea)-(Me=Ne&~(ye=(Ee=1<<ne.b)-1)),Re=ze(Ne,ne.b),He=ne.K,ne=ne.w+(me>>ne.b)*Re;me<Fe;){for(ht=He,ot=ne,Nt=new nt,lt=ve+Me,lr=ve+Ne;ve<lt;)Ht(ht[ot++],Nt),Xa(Nt,qe,ve,Ee,Z,X),ve+=Ee,X+=Ee;ve<lr&&(Ht(ht[ot++],Nt),Xa(Nt,qe,ve,Oe,Z,X),ve+=Oe,X+=Oe),++me&ye||(ne+=Re)}break;case 3:if(Ne==Z&&Ee==X&&0<ne.b){for(ve=Z,Ne=qe=X+(Fe-me)*qe-(Me=(Fe-me)*ze(ne.Ea,ne.b)),Ee=Z,ye=X,Re=[],Me=(Oe=Me)-1;0<=Me;--Me)Re[Me]=Ee[ye+Me];for(Me=Oe-1;0<=Me;--Me)ve[Ne+Me]=Re[Me];Ni(ne,me,Fe,Z,qe,Z,X)}else Ni(ne,me,Fe,Ne,Ee,Z,X)}X=L,Z=b}Z!=b&&n(L,b,X,Z,G)}function IA(h,v){var b=h.V,L=h.Ba+h.c*h.C,H=v-h.C;if(e(v<=h.l.o),e(16>=H),0<H){var G=h.l,$=h.Ta,X=h.Ua,Z=G.width;if(Yr(h,H,b,L),H=X=[X],e((b=h.C)<(L=v)),e(G.v<G.va),L>G.o&&(L=G.o),b<G.j){var ne=G.j-b;b=G.j,H[0]+=ne*Z}if(b>=L?b=0:(H[0]+=4*G.v,G.ka=b-G.j,G.U=G.va-G.v,G.T=L-b,b=1),b){if(X=X[0],11>(b=h.ca).S){var me=b.f.RGBA,Fe=(L=b.S,H=G.U,G=G.T,ne=me.eb,me.A),Ne=G;for(me=me.fb+h.Ma*me.A;0<Ne--;){var Ee=$,qe=X,Re=H,ve=ne,ye=me;switch(L){case Oc:Ui(Ee,qe,Re,ve,ye);break;case Za:fi(Ee,qe,Re,ve,ye);break;case Ll:fi(Ee,qe,Re,ve,ye),Wi(ve,ye,0,Re,1,0);break;case Hf:da(Ee,qe,Re,ve,ye);break;case Wu:Fr(Ee,qe,Re,ve,ye,1);break;case Ho:Fr(Ee,qe,Re,ve,ye,1),Wi(ve,ye,0,Re,1,0);break;case $u:Fr(Ee,qe,Re,ve,ye,0);break;case Xu:Fr(Ee,qe,Re,ve,ye,0),Wi(ve,ye,1,Re,1,0);break;case Rr:Ya(Ee,qe,Re,ve,ye);break;case Yu:Ya(Ee,qe,Re,ve,ye),Pr(ve,ye,Re,1,0);break;case Mc:ha(Ee,qe,Re,ve,ye);break;default:e(0)}X+=Z,me+=Fe}h.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=b.height)}}h.C=v,e(h.C<=h.i)}function tA(h){var v;if(0<h.ua)return 0;for(v=0;v<h.Wb;++v){var b=h.Ya[v].G,L=h.Ya[v].H;if(0<b[1][L[1]+0].g||0<b[2][L[2]+0].g||0<b[3][L[3]+0].g)return 0}return 1}function li(h,v,b,L,H,G){if(h.Z!=0){var $=h.qd,X=h.rd;for(e(gi[h.Z]!=null);v<b;++v)gi[h.Z]($,X,L,H,L,H,G),$=L,X=H,H+=G;h.qd=$,h.rd=X}}function Ki(h,v){var b=h.l.ma,L=b.Z==0||b.Z==1?h.l.j:h.C;if(L=h.C<L?L:h.C,e(v<=h.l.o),v>L){var H=h.l.width,G=b.ca,$=b.tb+H*L,X=h.V,Z=h.Ba+h.c*L,ne=h.gc;e(h.ab==1),e(ne[0].hc==3),qu(ne[0],L,v,X,Z,G,$),li(b,L,v,G,$,H)}h.C=h.Ma=v}function pn(h,v,b,L,H,G,$){var X=h.$/L,Z=h.$%L,ne=h.m,me=h.s,Fe=b+h.$,Ne=Fe;H=b+L*H;var Ee=b+L*G,qe=280+me.ua,Re=h.Pb?X:16777216,ve=0<me.ua?me.Wa:null,ye=me.wc,Me=Fe<Ee?Vr(me,Z,X):null;e(h.C<G),e(Ee<=H);var Oe=!1;e:for(;;){for(;Oe||Fe<Ee;){var He=0;if(X>=Re){var ht=Fe-b;e((Re=h).Pb),Re.wd=Re.m,Re.xd=ht,0<Re.s.ua&&Te(Re.s.Wa,Re.s.vb),Re=X+Hc}if(Z&ye||(Me=Vr(me,Z,X)),e(Me!=null),Me.Qb&&(v[Fe]=Me.qb,Oe=!0),!Oe)if(de(ne),Me.jc){He=ne,ht=v;var ot=Fe,Nt=Me.pd[z(He)&un-1];e(Me.jc),256>Nt.g?(oe(He,He.u+Nt.g),ht[ot]=Nt.value,He=0):(oe(He,He.u+Nt.g-256),e(256<=Nt.value),He=Nt.value),He==0&&(Oe=!0)}else He=Bn(Me.G[0],Me.H[0],ne);if(ne.h)break;if(Oe||256>He){if(!Oe)if(Me.nd)v[Fe]=(Me.qb|He<<8)>>>0;else{if(de(ne),Oe=Bn(Me.G[1],Me.H[1],ne),de(ne),ht=Bn(Me.G[2],Me.H[2],ne),ot=Bn(Me.G[3],Me.H[3],ne),ne.h)break;v[Fe]=(ot<<24|Oe<<16|He<<8|ht)>>>0}if(Oe=!1,++Fe,++Z>=L&&(Z=0,++X,$!=null&&X<=G&&!(X%16)&&$(h,X),ve!=null))for(;Ne<Fe;)He=v[Ne++],ve.X[(506832829*He&4294967295)>>>ve.Mb]=He}else if(280>He){if(He=oi(He-256,ne),ht=Bn(Me.G[4],Me.H[4],ne),de(ne),ht=yn(L,ht=oi(ht,ne)),ne.h)break;if(Fe-b<ht||H-Fe<He)break e;for(ot=0;ot<He;++ot)v[Fe+ot]=v[Fe+ot-ht];for(Fe+=He,Z+=He;Z>=L;)Z-=L,++X,$!=null&&X<=G&&!(X%16)&&$(h,X);if(e(Fe<=H),Z&ye&&(Me=Vr(me,Z,X)),ve!=null)for(;Ne<Fe;)He=v[Ne++],ve.X[(506832829*He&4294967295)>>>ve.Mb]=He}else{if(!(He<qe))break e;for(Oe=He-280,e(ve!=null);Ne<Fe;)He=v[Ne++],ve.X[(506832829*He&4294967295)>>>ve.Mb]=He;He=Fe,e(!(Oe>>>(ht=ve).Xa)),v[He]=ht.X[Oe],Oe=!0}Oe||e(ne.h==re(ne))}if(h.Pb&&ne.h&&Fe<H)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Te(h.s.vb,h.s.Wa);else{if(ne.h)break e;$?.(h,X>G?G:X),h.a=0,h.$=Fe-b}return 1}return h.a=3,0}function ui(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var v=h.Wa;v!=null&&(v.X=null),h.vb=null,e(h!=null)}function an(){var h=new Bl;return h==null?null:(h.a=0,h.xb=kl,Hi("Predictor","VP8LPredictors"),Hi("Predictor","VP8LPredictors_C"),Hi("PredictorAdd","VP8LPredictorsAdd"),Hi("PredictorAdd","VP8LPredictorsAdd_C"),Dc=yt,Xa=Ft,Ui=st,fi=ar,Ya=Wt,ha=jn,da=fr,C.VP8LMapColor32b=Sl,C.VP8LMapColor8b=Fl,h)}function ps(h,v,b,L,H){var G=1,$=[h],X=[v],Z=L.m,ne=L.s,me=null,Fe=0;e:for(;;){if(b)for(;G&&fe(Z,1);){var Ne=$,Ee=X,qe=L,Re=1,ve=qe.m,ye=qe.gc[qe.ab],Me=fe(ve,2);if(qe.Oc&1<<Me)G=0;else{switch(qe.Oc|=1<<Me,ye.hc=Me,ye.Ea=Ne[0],ye.nc=Ee[0],ye.K=[null],++qe.ab,e(4>=qe.ab),Me){case 0:case 1:ye.b=fe(ve,3)+2,Re=ps(ze(ye.Ea,ye.b),ze(ye.nc,ye.b),0,qe,ye.K),ye.K=ye.K[0];break;case 3:var Oe,He=fe(ve,8)+1,ht=16<He?0:4<He?1:2<He?2:3;if(Ne[0]=ze(ye.Ea,ht),ye.b=ht,Oe=Re=ps(He,1,0,qe,ye.K)){var ot,Nt=He,lt=ye,lr=1<<(8>>lt.b),ur=s(lr);if(ur==null)Oe=0;else{var nr=lt.K[0],Xt=lt.w;for(ur[0]=lt.K[0][0],ot=1;ot<1*Nt;++ot)ur[ot]=Ve(nr[Xt+ot],ur[ot-1]);for(;ot<4*lr;++ot)ur[ot]=0;lt.K[0]=null,lt.K[0]=ur,Oe=1}}Re=Oe;break;case 2:break;default:e(0)}G=Re}}if($=$[0],X=X[0],G&&fe(Z,1)&&!(G=1<=(Fe=fe(Z,4))&&11>=Fe)){L.a=3;break e}var Er;if(Er=G)t:{var Tr,Vt,Zr,Qi=L,gn=$,Un=X,vr=Fe,mi=b,wi=Qi.m,en=Qi.s,Tn=[null],ii=1,Zi=0,Ks=Kf[vr];r:for(;;){if(mi&&fe(wi,1)){var tn=fe(wi,3)+2,_n=ze(gn,tn),Cs=ze(Un,tn),ro=_n*Cs;if(!ps(_n,Cs,0,Qi,Tn))break r;for(Tn=Tn[0],en.xc=tn,Tr=0;Tr<ro;++Tr){var Ba=Tn[Tr]>>8&65535;Tn[Tr]=Ba,Ba>=ii&&(ii=Ba+1)}}if(wi.h)break r;for(Vt=0;5>Vt;++Vt){var yr=Vo[Vt];!Vt&&0<vr&&(yr+=1<<vr),Zi<yr&&(Zi=yr)}var qA=a(ii*Ks,T),Kc=ii,od=a(Kc,te);if(od==null)var qs=null;else e(65536>=Kc),qs=od;var Gs=s(Zi);if(qs==null||Gs==null||qA==null){Qi.a=1;break r}var Wo=qA;for(Tr=Zr=0;Tr<ii;++Tr){var zs=qs[Tr],xa=zs.G,$o=zs.H,Dl=0,_s=1,Ol=0;for(Vt=0;5>Vt;++Vt){yr=Vo[Vt],xa[Vt]=Wo,$o[Vt]=Zr,!Vt&&0<vr&&(yr+=1<<vr);i:{var no,Ca=yr,Ml=Qi,GA=Gs,$f=Wo,ld=Zr,qr=0,pA=Ml.m,ud=fe(pA,1);if(i(GA,0,0,Ca),ud){var cd=fe(pA,1)+1,qc=fe(pA,1),Gc=fe(pA,qc==0?1:8);GA[Gc]=1,cd==2&&(GA[Gc=fe(pA,8)]=1);var zA=1}else{var Wr=s(19),bn=fe(pA,4)+4;if(19<bn){Ml.a=3;var mn=0;break i}for(no=0;no<bn;++no)Wr[Jm[no]]=fe(pA,3);var jl=void 0,_a=void 0,Hl=Ml,i0=Wr,Ln=Ca,zc=GA,rc=0,WA=Hl.m,gA=8,bs=a(128,T);n:for(;N(bs,0,7,i0,19);){if(fe(WA,1)){var nc=2+2*fe(WA,3);if((jl=2+fe(WA,nc))>Ln)break n}else jl=Ln;for(_a=0;_a<Ln&&jl--;){de(WA);var Wc=bs[0+(127&z(WA))];oe(WA,WA.u+Wc.g);var io=Wc.value;if(16>io)zc[_a++]=io,io!=0&&(gA=io);else{var Xf=io==16,hd=io-16,Yf=jc[hd],dd=fe(WA,Ju[hd])+Yf;if(_a+dd>Ln)break n;for(var Jf=Xf?gA:0;0<dd--;)zc[_a++]=Jf}}rc=1;break n}rc||(Hl.a=3),zA=rc}(zA=zA&&!pA.h)&&(qr=N($f,ld,8,GA,Ca)),zA&&qr!=0?mn=qr:(Ml.a=3,mn=0)}if(mn==0)break r;if(_s&&Vf[Vt]==1&&(_s=Wo[Zr].g==0),Dl+=Wo[Zr].g,Zr+=mn,3>=Vt){var Vl,$c=Gs[0];for(Vl=1;Vl<yr;++Vl)Gs[Vl]>$c&&($c=Gs[Vl]);Ol+=$c}}if(zs.nd=_s,zs.Qb=0,_s&&(zs.qb=(xa[3][$o[3]+0].value<<24|xa[1][$o[1]+0].value<<16|xa[2][$o[2]+0].value)>>>0,Dl==0&&256>xa[0][$o[0]+0].value&&(zs.Qb=1,zs.qb+=xa[0][$o[0]+0].value<<8)),zs.jc=!zs.Qb&&6>Ol,zs.jc){var ic,Es=zs;for(ic=0;ic<un;++ic){var ba=ic,mA=Es.pd[ba],Xo=Es.G[0][Es.H[0]+ba];256<=Xo.value?(mA.g=Xo.g+256,mA.value=Xo.value):(mA.g=0,mA.value=0,ba>>=Hr(Xo,8,mA),ba>>=Hr(Es.G[1][Es.H[1]+ba],16,mA),ba>>=Hr(Es.G[2][Es.H[2]+ba],0,mA),Hr(Es.G[3][Es.H[3]+ba],24,mA))}}}en.vc=Tn,en.Wb=ii,en.Ya=qs,en.yc=qA,Er=1;break t}Er=0}if(!(G=Er)){L.a=3;break e}if(0<Fe){if(ne.ua=1<<Fe,!At(ne.Wa,Fe)){L.a=1,G=0;break e}}else ne.ua=0;var Xc=L,Yc=$,Zf=X,Jc=Xc.s,Zc=Jc.xc;if(Xc.c=Yc,Xc.i=Zf,Jc.md=ze(Yc,Zc),Jc.wc=Zc==0?-1:(1<<Zc)-1,b){L.xb=KA;break e}if((me=s($*X))==null){L.a=1,G=0;break e}G=(G=pn(L,me,0,$,X,X,null))&&!Z.h;break e}return G?(H!=null?H[0]=me:(e(me==null),e(b)),L.$=0,b||ui(ne)):ui(ne),G}function rA(h,v){var b=h.c*h.i,L=b+v+16*v;return e(h.c<=v),h.V=s(L),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+b+v,1)}function nA(h,v){var b=h.C,L=v-b,H=h.V,G=h.Ba+h.c*b;for(e(v<=h.l.o);0<L;){var $=16<L?16:L,X=h.l.ma,Z=h.l.width,ne=Z*$,me=X.ca,Fe=X.tb+Z*b,Ne=h.Ta,Ee=h.Ua;Yr(h,$,H,G),cn(Ne,Ee,me,Fe,ne),li(X,b,b+$,me,Fe,Z),L-=$,H+=$*h.c,b+=$}e(b==v),h.C=h.Ma=v}function iA(){this.ub=this.yd=this.td=this.Rb=0}function SA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function na(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pl(){this.Yb=function(){var h=[];return function v(b,L,H){for(var G=H[L],$=0;$<G&&(b.push(H.length>L+1?[]:0),!(H.length<L+1));$++)v(b[$],L+1,H)}(h,0,[3,11]),h}()}function Nr(){this.jb=s(3),this.Wc=l([4,8],pl),this.Xc=l([4,17],pl)}function gl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Qs(){this.ld=this.La=this.dd=this.tc=0}function sA(){this.Na=this.la=0}function qi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ia(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qs),this.Y=0,this.ya=Array(new ia),this.aa=0,this.l=new sa}function FA(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bi(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new iA,this.Kc=new SA,this.ed=new gl,this.Qa=new na,this.Ic=this.$c=this.Aa=0,this.D=new ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ie),this.ia=0,this.pb=a(4,qi),this.Pa=new Nr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new FA),this.Hd=0,this.rb=Array(new sA),this.sb=0,this.wa=Array(new Qs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ia),this.L=this.aa=0,this.gd=l([4,2],Qs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xn(){var h=new bi;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Ko||(Ko=Aa)),h}function Kr(h,v,b){return h.a==0&&(h.a=v,h.sc=b,h.cb=0),0}function Fo(h,v,b){return 3<=b&&h[v+0]==157&&h[v+1]==1&&h[v+2]==42}function No(h,v){if(h==null)return 0;if(h.a=0,h.sc="OK",v==null)return Kr(h,2,"null VP8Io passed to VP8GetHeaders()");var b=v.data,L=v.w,H=v.ha;if(4>H)return Kr(h,7,"Truncated header.");var G=b[L+0]|b[L+1]<<8|b[L+2]<<16,$=h.Od;if($.Rb=!(1&G),$.td=G>>1&7,$.yd=G>>4&1,$.ub=G>>5,3<$.td)return Kr(h,3,"Incorrect keyframe parameters.");if(!$.yd)return Kr(h,4,"Frame not displayable.");L+=3,H-=3;var X=h.Kc;if($.Rb){if(7>H)return Kr(h,7,"cannot parse picture header");if(!Fo(b,L,H))return Kr(h,3,"Bad code word");X.c=16383&(b[L+4]<<8|b[L+3]),X.Td=b[L+4]>>6,X.i=16383&(b[L+6]<<8|b[L+5]),X.Ud=b[L+6]>>6,L+=7,H-=7,h.za=X.c+15>>4,h.Ub=X.i+15>>4,v.width=X.c,v.height=X.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((G=h.Pa).jb,0,255,G.jb.length),e((G=h.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if($.ub>H)return Kr(h,7,"bad partition length");Be(G=h.m,b,L,$.ub),L+=$.ub,H-=$.ub,$.Rb&&(X.Ld=ge(G),X.Kd=ge(G)),X=h.Qa;var Z,ne=h.Pa;if(e(G!=null),e(X!=null),X.Cb=ge(G),X.Cb){if(X.Bb=ge(G),ge(G)){for(X.Fb=ge(G),Z=0;4>Z;++Z)X.Zb[Z]=ge(G)?ue(G,7):0;for(Z=0;4>Z;++Z)X.Lb[Z]=ge(G)?ue(G,6):0}if(X.Bb)for(Z=0;3>Z;++Z)ne.jb[Z]=ge(G)?ae(G,8):255}else X.Bb=0;if(G.Ka)return Kr(h,3,"cannot parse segment header");if((X=h.ed).zd=ge(G),X.Tb=ae(G,6),X.wb=ae(G,3),X.Pc=ge(G),X.Pc&&ge(G)){for(ne=0;4>ne;++ne)ge(G)&&(X.vd[ne]=ue(G,6));for(ne=0;4>ne;++ne)ge(G)&&(X.od[ne]=ue(G,6))}if(h.L=X.Tb==0?0:X.zd?1:2,G.Ka)return Kr(h,3,"cannot parse filter header");var me=H;if(H=Z=L,L=Z+me,X=me,h.Xb=(1<<ae(h.m,2))-1,me<3*(ne=h.Xb))b=7;else{for(Z+=3*ne,X-=3*ne,me=0;me<ne;++me){var Fe=b[H+0]|b[H+1]<<8|b[H+2]<<16;Fe>X&&(Fe=X),Be(h.Jc[+me],b,Z,Fe),Z+=Fe,X-=Fe,H+=3}Be(h.Jc[+ne],b,Z,X),b=Z<L?0:5}if(b!=0)return Kr(h,b,"cannot parse partitions");for(b=ae(Z=h.m,7),H=ge(Z)?ue(Z,4):0,L=ge(Z)?ue(Z,4):0,X=ge(Z)?ue(Z,4):0,ne=ge(Z)?ue(Z,4):0,Z=ge(Z)?ue(Z,4):0,me=h.Qa,Fe=0;4>Fe;++Fe){if(me.Cb){var Ne=me.Zb[Fe];me.Fb||(Ne+=b)}else{if(0<Fe){h.pb[Fe]=h.pb[0];continue}Ne=b}var Ee=h.pb[Fe];Ee.Sc[0]=Ql[wr(Ne+H,127)],Ee.Sc[1]=Zu[wr(Ne+0,127)],Ee.Eb[0]=2*Ql[wr(Ne+L,127)],Ee.Eb[1]=101581*Zu[wr(Ne+X,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=Ql[wr(Ne+ne,117)],Ee.Qc[1]=Zu[wr(Ne+Z,127)],Ee.lc=Ne+Z}if(!$.Rb)return Kr(h,4,"Not a key frame.");for(ge(G),$=h.Pa,b=0;4>b;++b){for(H=0;8>H;++H)for(L=0;3>L;++L)for(X=0;11>X;++X)ne=Ce(G,t0[b][H][L][X])?ae(G,8):Gf[b][H][L][X],$.Wc[b][H].Yb[L][X]=ne;for(H=0;17>H;++H)$.Xc[b][H]=$.Wc[b][sd[H]]}return h.kc=ge(G),h.kc&&(h.Bd=ae(G,8)),h.cb=1}function Aa(h,v,b,L,H,G,$){var X=v[H].Yb[b];for(b=0;16>H;++H){if(!Ce(h,X[b+0]))return H;for(;!Ce(h,X[b+1]);)if(X=v[++H].Yb[0],b=0,H==16)return 16;var Z=v[H+1].Yb;if(Ce(h,X[b+2])){var ne=h,me=0;if(Ce(ne,(Ne=X)[(Fe=b)+3]))if(Ce(ne,Ne[Fe+6])){for(X=0,Fe=2*(me=Ce(ne,Ne[Fe+8]))+(Ne=Ce(ne,Ne[Fe+9+me])),me=0,Ne=nd[Fe];Ne[X];++X)me+=me+Ce(ne,Ne[X]);me+=3+(8<<Fe)}else Ce(ne,Ne[Fe+7])?(me=7+2*Ce(ne,165),me+=Ce(ne,145)):me=5+Ce(ne,159);else me=Ce(ne,Ne[Fe+4])?3+Ce(ne,Ne[Fe+5]):2;X=Z[2]}else me=1,X=Z[1];Z=$+id[H],0>(ne=h).b&&xe(ne);var Fe,Ne=ne.b,Ee=(Fe=ne.Ca>>1)-(ne.I>>Ne)>>31;--ne.b,ne.Ca+=Ee,ne.Ca|=1,ne.I-=(Fe+1&Ee)<<Ne,G[Z]=((me^Ee)-Ee)*L[(0<H)+0]}return 16}function NA(h){var v=h.rb[h.sb-1];v.la=0,v.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function UA(h,v){if(h==null)return 0;if(v==null)return Kr(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!No(h,v))return 0;if(e(h.cb),v.ac==null||v.ac(v)){v.ob&&(h.L=0);var b=zo[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=v.v-b>>4,h.zb=v.j-b>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=v.o+15+b>>4,h.Hb=v.va+15+b>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var L=h.ed;for(b=0;4>b;++b){var H;if(h.Qa.Cb){var G=h.Qa.Lb[b];h.Qa.Fb||(G+=L.Tb)}else G=L.Tb;for(H=0;1>=H;++H){var $=h.gd[b][H],X=G;if(L.Pc&&(X+=L.vd[0],H&&(X+=L.od[0])),0<(X=0>X?0:63<X?63:X)){var Z=X;0<L.wb&&(Z=4<L.wb?Z>>2:Z>>1)>9-L.wb&&(Z=9-L.wb),1>Z&&(Z=1),$.dd=Z,$.tc=2*X+Z,$.ld=40<=X?2:15<=X?1:0}else $.tc=0;$.La=H}}}b=0}else Kr(h,6,"Frame setup failed"),b=h.a;if(b=b==0){if(b){h.$c=0,0<h.Aa||(h.Ic=ya);e:{b=h.Ic,L=4*(Z=h.za);var ne=32*Z,me=Z+1,Fe=0<h.L?Z*(0<h.Aa?2:1):0,Ne=(h.Aa==2?2:1)*Z;if(($=L+832+(H=3*(16*b+zo[h.L])/2*ne)+(G=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=$)b=0;else{if($>h.Vb){if(h.Vb=0,h.Ec=s($),h.Fc=0,h.Ec==null){b=Kr(h,1,"no memory during frame initialization.");break e}h.Vb=$}$=h.Ec,X=h.Fc,h.Ac=$,h.Bc=X,X+=L,h.Gd=a(ne,FA),h.Hd=0,h.rb=a(me+1,sA),h.sb=1,h.wa=Fe?a(Fe,Qs):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=Z),e(!0),h.oc=$,h.pc=X,X+=832,h.ya=a(Ne,ia),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=Z),h.R=16*Z,h.B=8*Z,Z=(ne=zo[h.L])*h.R,ne=ne/2*h.B,h.sa=$,h.ta=X+Z,h.qa=h.sa,h.ra=h.ta+16*b*h.R+ne,h.Ha=h.qa,h.Ia=h.ra+8*b*h.B+ne,h.$c=0,X+=H,h.mb=G?$:null,h.nb=G?X:null,e(X+G<=h.Fc+h.Vb),NA(h),i(h.Ac,h.Bc,0,L),b=1}}if(b){if(v.ka=0,v.y=h.sa,v.O=h.ta,v.f=h.qa,v.N=h.ra,v.ea=h.Ha,v.Vd=h.Ia,v.fa=h.R,v.Rc=h.B,v.F=null,v.J=0,!zu){for(b=-255;255>=b;++b)Cn[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)HA[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Ul[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)jo[255+b]=0>b?0:255<b?255:b;zu=1}Nl=Yt,fa=LA,pa=AA,pi=xr,Bs=aA,pr=TA,Ro=ua,Gu=Jr,Do=Os,Oo=Qo,Mo=vs,xs=lA,ga=DA,jA=Ms,ma=hi,wa=Ii,Ja=ln,ri=Lo,Vs[0]=Ds,Vs[1]=wl,Vs[2]=zi,Vs[3]=Rs,Vs[4]=Uo,Vs[5]=Ka,Vs[6]=Zn,Vs[7]=qa,Vs[8]=oa,Vs[9]=oA,Li[0]=gs,Li[1]=vl,Li[2]=Ps,Li[3]=aa,Li[4]=or,Li[5]=ms,Li[6]=Gi,$i[0]=ci,$i[1]=Va,$i[2]=yl,$i[3]=Ei,$i[4]=mr,$i[5]=kA,$i[6]=To,b=1}else b=0}b&&(b=function(Ee,qe){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var Re,ve=Ee.Jc[Ee.M&Ee.Xb],ye=Ee.m,Me=Ee;for(Re=0;Re<Me.za;++Re){var Oe=ye,He=Me,ht=He.Ac,ot=He.Bc+4*Re,Nt=He.zc,lt=He.ya[He.aa+Re];if(He.Qa.Bb?lt.$b=Ce(Oe,He.Pa.jb[0])?2+Ce(Oe,He.Pa.jb[2]):Ce(Oe,He.Pa.jb[1]):lt.$b=0,He.kc&&(lt.Ad=Ce(Oe,He.Bd)),lt.Za=!Ce(Oe,145)+0,lt.Za){var lr=lt.Ob,ur=0;for(He=0;4>He;++He){var nr,Xt=Nt[0+He];for(nr=0;4>nr;++nr){Xt=e0[ht[ot+nr]][Xt];for(var Er=qf[Ce(Oe,Xt[0])];0<Er;)Er=qf[2*Er+Ce(Oe,Xt[Er])];Xt=-Er,ht[ot+nr]=Xt}n(lr,ur,ht,ot,4),ur+=4,Nt[0+He]=Xt}}else Xt=Ce(Oe,156)?Ce(Oe,128)?1:3:Ce(Oe,163)?2:0,lt.Ob[0]=Xt,i(ht,ot,Xt,4),i(Nt,0,Xt,4);lt.Dd=Ce(Oe,142)?Ce(Oe,114)?Ce(Oe,183)?1:3:2:0}if(Me.m.Ka)return Kr(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(Me=ve,Oe=(ye=Ee).rb[ye.sb-1],ht=ye.rb[ye.sb+ye.ja],Re=ye.ya[ye.aa+ye.ja],ot=ye.kc?Re.Ad:0)Oe.la=ht.la=0,Re.Za||(Oe.Na=ht.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var Tr,Vt;if(Oe=ht,ht=Me,ot=ye.Pa.Xc,Nt=ye.ya[ye.aa+ye.ja],lt=ye.pb[Nt.$b],He=Nt.ad,lr=0,ur=ye.rb[ye.sb-1],Xt=nr=0,i(He,lr,0,384),Nt.Za)var Zr=0,Qi=ot[3];else{Er=s(16);var gn=Oe.Na+ur.Na;if(gn=Ko(ht,ot[1],gn,lt.Eb,0,Er,0),Oe.Na=ur.Na=(0<gn)+0,1<gn)Nl(Er,0,He,lr);else{var Un=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)He[lr+Er]=Un}Zr=1,Qi=ot[0]}var vr=15&Oe.la,mi=15&ur.la;for(Er=0;4>Er;++Er){var wi=1&mi;for(Un=Vt=0;4>Un;++Un)vr=vr>>1|(wi=(gn=Ko(ht,Qi,gn=wi+(1&vr),lt.Sc,Zr,He,lr))>Zr)<<7,Vt=Vt<<2|(3<gn?3:1<gn?2:He[lr+0]!=0),lr+=16;vr>>=4,mi=mi>>1|wi<<7,nr=(nr<<8|Vt)>>>0}for(Qi=vr,Zr=mi>>4,Tr=0;4>Tr;Tr+=2){for(Vt=0,vr=Oe.la>>4+Tr,mi=ur.la>>4+Tr,Er=0;2>Er;++Er){for(wi=1&mi,Un=0;2>Un;++Un)gn=wi+(1&vr),vr=vr>>1|(wi=0<(gn=Ko(ht,ot[2],gn,lt.Qc,0,He,lr)))<<3,Vt=Vt<<2|(3<gn?3:1<gn?2:He[lr+0]!=0),lr+=16;vr>>=2,mi=mi>>1|wi<<5}Xt|=Vt<<4*Tr,Qi|=vr<<4<<Tr,Zr|=(240&mi)<<Tr}Oe.la=Qi,ur.la=Zr,Nt.Hc=nr,Nt.Gc=Xt,Nt.ia=43690&Xt?0:lt.ia,ot=!(nr|Xt)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[Re.$b][Re.Za],ye.wa[ye.Y+ye.ja].La|=!ot),Me.Ka)return Kr(Ee,7,"Premature end-of-file encountered.")}if(NA(Ee),ye=qe,Me=1,Re=(ve=Ee).D,Oe=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Re.M=ve.M,Re.uc=Oe,hA(ve,Re),Me=1,Re=(Vt=ve.D).Nb,Oe=(Xt=zo[ve.L])*ve.R,ht=Xt/2*ve.B,Er=16*Re*ve.R,Un=8*Re*ve.B,ot=ve.sa,Nt=ve.ta-Oe+Er,lt=ve.qa,He=ve.ra-ht+Un,lr=ve.Ha,ur=ve.Ia-ht+Un,mi=(vr=Vt.M)==0,nr=vr>=ve.Va-1,ve.Aa==2&&hA(ve,Vt),Vt.uc)for(wi=(gn=ve).D.M,e(gn.D.uc),Vt=gn.yb;Vt<gn.Hb;++Vt){Zr=Vt,Qi=wi;var en=(Tn=(yr=gn).D).Nb;Tr=yr.R;var Tn=Tn.wa[Tn.Y+Zr],ii=yr.sa,Zi=yr.ta+16*en*Tr+16*Zr,Ks=Tn.dd,tn=Tn.tc;if(tn!=0)if(e(3<=tn),yr.L==1)0<Zr&&wa(ii,Zi,Tr,tn+4),Tn.La&&ri(ii,Zi,Tr,tn),0<Qi&&ma(ii,Zi,Tr,tn+4),Tn.La&&Ja(ii,Zi,Tr,tn);else{var _n=yr.B,Cs=yr.qa,ro=yr.ra+8*en*_n+8*Zr,Ba=yr.Ha,yr=yr.Ia+8*en*_n+8*Zr;en=Tn.ld,0<Zr&&(Gu(ii,Zi,Tr,tn+4,Ks,en),Oo(Cs,ro,Ba,yr,_n,tn+4,Ks,en)),Tn.La&&(xs(ii,Zi,Tr,tn,Ks,en),jA(Cs,ro,Ba,yr,_n,tn,Ks,en)),0<Qi&&(Ro(ii,Zi,Tr,tn+4,Ks,en),Do(Cs,ro,Ba,yr,_n,tn+4,Ks,en)),Tn.La&&(Mo(ii,Zi,Tr,tn,Ks,en),ga(Cs,ro,Ba,yr,_n,tn,Ks,en))}}if(ve.ia&&alert("todo:DitherRow"),ye.put!=null){if(Vt=16*vr,vr=16*(vr+1),mi?(ye.y=ve.sa,ye.O=ve.ta+Er,ye.f=ve.qa,ye.N=ve.ra+Un,ye.ea=ve.Ha,ye.W=ve.Ia+Un):(Vt-=Xt,ye.y=ot,ye.O=Nt,ye.f=lt,ye.N=He,ye.ea=lr,ye.W=ur),nr||(vr-=Xt),vr>ye.o&&(vr=ye.o),ye.F=null,ye.J=null,ve.Fa!=null&&0<ve.Fa.length&&Vt<vr&&(ye.J=$a(ve,ye,Vt,vr-Vt),ye.F=ve.mb,ye.F==null&&ye.F.length==0)){Me=Kr(ve,3,"Could not decode alpha data.");break e}Vt<ye.j&&(Xt=ye.j-Vt,Vt=ye.j,e(!(1&Xt)),ye.O+=ve.R*Xt,ye.N+=ve.B*(Xt>>1),ye.W+=ve.B*(Xt>>1),ye.F!=null&&(ye.J+=ye.width*Xt)),Vt<vr&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=Vt-ye.j,ye.U=ye.va-ye.v,ye.T=vr-Vt,Me=ye.put(ye))}Re+1!=ve.Ic||nr||(n(ve.sa,ve.ta-Oe,ot,Nt+16*ve.R,Oe),n(ve.qa,ve.ra-ht,lt,He+8*ve.B,ht),n(ve.Ha,ve.Ia-ht,lr,ur+8*ve.B,ht))}if(!Me)return Kr(Ee,6,"Output aborted.")}return 1}(h,v)),v.bc!=null&&v.bc(v),b&=1}return b?(h.cb=0,b):0}function Yn(h,v,b,L,H){H=h[v+b+32*L]+(H>>3),h[v+b+32*L]=-256&H?0>H?0:255:H}function Ha(h,v,b,L,H,G){Yn(h,v,0,b,L+H),Yn(h,v,1,b,L+G),Yn(h,v,2,b,L-G),Yn(h,v,3,b,L-H)}function on(h){return(20091*h>>16)+h}function Jn(h,v,b,L){var H,G=0,$=s(16);for(H=0;4>H;++H){var X=h[v+0]+h[v+8],Z=h[v+0]-h[v+8],ne=(35468*h[v+4]>>16)-on(h[v+12]),me=on(h[v+4])+(35468*h[v+12]>>16);$[G+0]=X+me,$[G+1]=Z+ne,$[G+2]=Z-ne,$[G+3]=X-me,G+=4,v++}for(H=G=0;4>H;++H)X=(h=$[G+0]+4)+$[G+8],Z=h-$[G+8],ne=(35468*$[G+4]>>16)-on($[G+12]),Yn(b,L,0,0,X+(me=on($[G+4])+(35468*$[G+12]>>16))),Yn(b,L,1,0,Z+ne),Yn(b,L,2,0,Z-ne),Yn(b,L,3,0,X-me),G++,L+=32}function TA(h,v,b,L){var H=h[v+0]+4,G=35468*h[v+4]>>16,$=on(h[v+4]),X=35468*h[v+1]>>16;Ha(b,L,0,H+$,h=on(h[v+1]),X),Ha(b,L,1,H+G,h,X),Ha(b,L,2,H-G,h,X),Ha(b,L,3,H-$,h,X)}function LA(h,v,b,L,H){Jn(h,v,b,L),H&&Jn(h,v+16,b,L+4)}function AA(h,v,b,L){fa(h,v+0,b,L,1),fa(h,v+32,b,L+128,1)}function xr(h,v,b,L){var H;for(h=h[v+0]+4,H=0;4>H;++H)for(v=0;4>v;++v)Yn(b,L,v,H,h)}function aA(h,v,b,L){h[v+0]&&pi(h,v+0,b,L),h[v+16]&&pi(h,v+16,b,L+4),h[v+32]&&pi(h,v+32,b,L+128),h[v+48]&&pi(h,v+48,b,L+128+4)}function Yt(h,v,b,L){var H,G=s(16);for(H=0;4>H;++H){var $=h[v+0+H]+h[v+12+H],X=h[v+4+H]+h[v+8+H],Z=h[v+4+H]-h[v+8+H],ne=h[v+0+H]-h[v+12+H];G[0+H]=$+X,G[8+H]=$-X,G[4+H]=ne+Z,G[12+H]=ne-Z}for(H=0;4>H;++H)$=(h=G[0+4*H]+3)+G[3+4*H],X=G[1+4*H]+G[2+4*H],Z=G[1+4*H]-G[2+4*H],ne=h-G[3+4*H],b[L+0]=$+X>>3,b[L+16]=ne+Z>>3,b[L+32]=$-X>>3,b[L+48]=ne-Z>>3,L+=64}function ks(h,v,b){var L,H=v-32,G=Ti,$=255-h[H-1];for(L=0;L<b;++L){var X,Z=G,ne=$+h[v-1];for(X=0;X<b;++X)h[v+X]=Z[ne+h[H+X]];v+=32}}function wl(h,v){ks(h,v,4)}function Va(h,v){ks(h,v,8)}function vl(h,v){ks(h,v,16)}function Ps(h,v){var b;for(b=0;16>b;++b)n(h,v+32*b,h,v-32,16)}function aa(h,v){var b;for(b=16;0<b;--b)i(h,v,h[v-1],16),v+=32}function QA(h,v,b){var L;for(L=0;16>L;++L)i(v,b+32*L,h,16)}function gs(h,v){var b,L=16;for(b=0;16>b;++b)L+=h[v-1+32*b]+h[v+b-32];QA(L>>5,h,v)}function or(h,v){var b,L=8;for(b=0;16>b;++b)L+=h[v-1+32*b];QA(L>>4,h,v)}function ms(h,v){var b,L=8;for(b=0;16>b;++b)L+=h[v+b-32];QA(L>>4,h,v)}function Gi(h,v){QA(128,h,v)}function Lt(h,v,b){return h+2*v+b+2>>2}function zi(h,v){var b,L=v-32;for(L=new Uint8Array([Lt(h[L-1],h[L+0],h[L+1]),Lt(h[L+0],h[L+1],h[L+2]),Lt(h[L+1],h[L+2],h[L+3]),Lt(h[L+2],h[L+3],h[L+4])]),b=0;4>b;++b)n(h,v+32*b,L,0,L.length)}function Rs(h,v){var b=h[v-1],L=h[v-1+32],H=h[v-1+64],G=h[v-1+96];je(h,v+0,16843009*Lt(h[v-1-32],b,L)),je(h,v+32,16843009*Lt(b,L,H)),je(h,v+64,16843009*Lt(L,H,G)),je(h,v+96,16843009*Lt(H,G,G))}function Ds(h,v){var b,L=4;for(b=0;4>b;++b)L+=h[v+b-32]+h[v-1+32*b];for(L>>=3,b=0;4>b;++b)i(h,v+32*b,L,4)}function Uo(h,v){var b=h[v-1+0],L=h[v-1+32],H=h[v-1+64],G=h[v-1-32],$=h[v+0-32],X=h[v+1-32],Z=h[v+2-32],ne=h[v+3-32];h[v+0+96]=Lt(L,H,h[v-1+96]),h[v+1+96]=h[v+0+64]=Lt(b,L,H),h[v+2+96]=h[v+1+64]=h[v+0+32]=Lt(G,b,L),h[v+3+96]=h[v+2+64]=h[v+1+32]=h[v+0+0]=Lt($,G,b),h[v+3+64]=h[v+2+32]=h[v+1+0]=Lt(X,$,G),h[v+3+32]=h[v+2+0]=Lt(Z,X,$),h[v+3+0]=Lt(ne,Z,X)}function Zn(h,v){var b=h[v+1-32],L=h[v+2-32],H=h[v+3-32],G=h[v+4-32],$=h[v+5-32],X=h[v+6-32],Z=h[v+7-32];h[v+0+0]=Lt(h[v+0-32],b,L),h[v+1+0]=h[v+0+32]=Lt(b,L,H),h[v+2+0]=h[v+1+32]=h[v+0+64]=Lt(L,H,G),h[v+3+0]=h[v+2+32]=h[v+1+64]=h[v+0+96]=Lt(H,G,$),h[v+3+32]=h[v+2+64]=h[v+1+96]=Lt(G,$,X),h[v+3+64]=h[v+2+96]=Lt($,X,Z),h[v+3+96]=Lt(X,Z,Z)}function Ka(h,v){var b=h[v-1+0],L=h[v-1+32],H=h[v-1+64],G=h[v-1-32],$=h[v+0-32],X=h[v+1-32],Z=h[v+2-32],ne=h[v+3-32];h[v+0+0]=h[v+1+64]=G+$+1>>1,h[v+1+0]=h[v+2+64]=$+X+1>>1,h[v+2+0]=h[v+3+64]=X+Z+1>>1,h[v+3+0]=Z+ne+1>>1,h[v+0+96]=Lt(H,L,b),h[v+0+64]=Lt(L,b,G),h[v+0+32]=h[v+1+96]=Lt(b,G,$),h[v+1+32]=h[v+2+96]=Lt(G,$,X),h[v+2+32]=h[v+3+96]=Lt($,X,Z),h[v+3+32]=Lt(X,Z,ne)}function qa(h,v){var b=h[v+0-32],L=h[v+1-32],H=h[v+2-32],G=h[v+3-32],$=h[v+4-32],X=h[v+5-32],Z=h[v+6-32],ne=h[v+7-32];h[v+0+0]=b+L+1>>1,h[v+1+0]=h[v+0+64]=L+H+1>>1,h[v+2+0]=h[v+1+64]=H+G+1>>1,h[v+3+0]=h[v+2+64]=G+$+1>>1,h[v+0+32]=Lt(b,L,H),h[v+1+32]=h[v+0+96]=Lt(L,H,G),h[v+2+32]=h[v+1+96]=Lt(H,G,$),h[v+3+32]=h[v+2+96]=Lt(G,$,X),h[v+3+64]=Lt($,X,Z),h[v+3+96]=Lt(X,Z,ne)}function oA(h,v){var b=h[v-1+0],L=h[v-1+32],H=h[v-1+64],G=h[v-1+96];h[v+0+0]=b+L+1>>1,h[v+2+0]=h[v+0+32]=L+H+1>>1,h[v+2+32]=h[v+0+64]=H+G+1>>1,h[v+1+0]=Lt(b,L,H),h[v+3+0]=h[v+1+32]=Lt(L,H,G),h[v+3+32]=h[v+1+64]=Lt(H,G,G),h[v+3+64]=h[v+2+64]=h[v+0+96]=h[v+1+96]=h[v+2+96]=h[v+3+96]=G}function oa(h,v){var b=h[v-1+0],L=h[v-1+32],H=h[v-1+64],G=h[v-1+96],$=h[v-1-32],X=h[v+0-32],Z=h[v+1-32],ne=h[v+2-32];h[v+0+0]=h[v+2+32]=b+$+1>>1,h[v+0+32]=h[v+2+64]=L+b+1>>1,h[v+0+64]=h[v+2+96]=H+L+1>>1,h[v+0+96]=G+H+1>>1,h[v+3+0]=Lt(X,Z,ne),h[v+2+0]=Lt($,X,Z),h[v+1+0]=h[v+3+32]=Lt(b,$,X),h[v+1+32]=h[v+3+64]=Lt(L,b,$),h[v+1+64]=h[v+3+96]=Lt(H,L,b),h[v+1+96]=Lt(G,H,L)}function yl(h,v){var b;for(b=0;8>b;++b)n(h,v+32*b,h,v-32,8)}function Ei(h,v){var b;for(b=0;8>b;++b)i(h,v,h[v-1],8),v+=32}function ei(h,v,b){var L;for(L=0;8>L;++L)i(v,b+32*L,h,8)}function ci(h,v){var b,L=8;for(b=0;8>b;++b)L+=h[v+b-32]+h[v-1+32*b];ei(L>>4,h,v)}function kA(h,v){var b,L=4;for(b=0;8>b;++b)L+=h[v+b-32];ei(L>>3,h,v)}function mr(h,v){var b,L=4;for(b=0;8>b;++b)L+=h[v-1+32*b];ei(L>>3,h,v)}function To(h,v){ei(128,h,v)}function PA(h,v,b){var L=h[v-b],H=h[v+0],G=3*(H-L)+VA[1020+h[v-2*b]-h[v+b]],$=Tl[112+(G+4>>3)];h[v-b]=Ti[255+L+Tl[112+(G+3>>3)]],h[v+0]=Ti[255+H-$]}function RA(h,v,b,L){var H=h[v+0],G=h[v+b];return Hs[255+h[v-2*b]-h[v-b]]>L||Hs[255+G-H]>L}function la(h,v,b,L){return 4*Hs[255+h[v-b]-h[v+0]]+Hs[255+h[v-2*b]-h[v+b]]<=L}function Ga(h,v,b,L,H){var G=h[v-3*b],$=h[v-2*b],X=h[v-b],Z=h[v+0],ne=h[v+b],me=h[v+2*b],Fe=h[v+3*b];return 4*Hs[255+X-Z]+Hs[255+$-ne]>L?0:Hs[255+h[v-4*b]-G]<=H&&Hs[255+G-$]<=H&&Hs[255+$-X]<=H&&Hs[255+Fe-me]<=H&&Hs[255+me-ne]<=H&&Hs[255+ne-Z]<=H}function hi(h,v,b,L){var H=2*L+1;for(L=0;16>L;++L)la(h,v+L,b,H)&&PA(h,v+L,b)}function Ii(h,v,b,L){var H=2*L+1;for(L=0;16>L;++L)la(h,v+L*b,1,H)&&PA(h,v+L*b,1)}function ln(h,v,b,L){var H;for(H=3;0<H;--H)hi(h,v+=4*b,b,L)}function Lo(h,v,b,L){var H;for(H=3;0<H;--H)Ii(h,v+=4,b,L)}function ws(h,v,b,L,H,G,$,X){for(G=2*G+1;0<H--;){if(Ga(h,v,b,G,$))if(RA(h,v,b,X))PA(h,v,b);else{var Z=h,ne=v,me=b,Fe=Z[ne-2*me],Ne=Z[ne-me],Ee=Z[ne+0],qe=Z[ne+me],Re=Z[ne+2*me],ve=27*(Me=VA[1020+3*(Ee-Ne)+VA[1020+Fe-qe]])+63>>7,ye=18*Me+63>>7,Me=9*Me+63>>7;Z[ne-3*me]=Ti[255+Z[ne-3*me]+Me],Z[ne-2*me]=Ti[255+Fe+ye],Z[ne-me]=Ti[255+Ne+ve],Z[ne+0]=Ti[255+Ee-ve],Z[ne+me]=Ti[255+qe-ye],Z[ne+2*me]=Ti[255+Re-Me]}v+=L}}function xn(h,v,b,L,H,G,$,X){for(G=2*G+1;0<H--;){if(Ga(h,v,b,G,$))if(RA(h,v,b,X))PA(h,v,b);else{var Z=h,ne=v,me=b,Fe=Z[ne-me],Ne=Z[ne+0],Ee=Z[ne+me],qe=Tl[112+((Re=3*(Ne-Fe))+4>>3)],Re=Tl[112+(Re+3>>3)],ve=qe+1>>1;Z[ne-2*me]=Ti[255+Z[ne-2*me]+ve],Z[ne-me]=Ti[255+Fe+Re],Z[ne+0]=Ti[255+Ne-qe],Z[ne+me]=Ti[255+Ee-ve]}v+=L}}function ua(h,v,b,L,H,G){ws(h,v,b,1,16,L,H,G)}function Jr(h,v,b,L,H,G){ws(h,v,1,b,16,L,H,G)}function vs(h,v,b,L,H,G){var $;for($=3;0<$;--$)xn(h,v+=4*b,b,1,16,L,H,G)}function lA(h,v,b,L,H,G){var $;for($=3;0<$;--$)xn(h,v+=4,1,b,16,L,H,G)}function Os(h,v,b,L,H,G,$,X){ws(h,v,H,1,8,G,$,X),ws(b,L,H,1,8,G,$,X)}function Qo(h,v,b,L,H,G,$,X){ws(h,v,1,H,8,G,$,X),ws(b,L,1,H,8,G,$,X)}function DA(h,v,b,L,H,G,$,X){xn(h,v+4*H,H,1,8,G,$,X),xn(b,L+4*H,H,1,8,G,$,X)}function Ms(h,v,b,L,H,G,$,X){xn(h,v+4,1,H,8,G,$,X),xn(b,L+4,1,H,8,G,$,X)}function ys(){this.ba=new An,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function uA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function OA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function za(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new T}function Bl(){this.xb=this.a=0,this.l=new sa,this.ca=new An,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new za,this.ab=0,this.gc=a(4,OA),this.Oc=0}function cA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function js(h,v,b,L,H,G,$){for(h=h==null?0:h[v+0],v=0;v<$;++v)H[G+v]=h+b[L+v]&255,h=H[G+v]}function Wa(h,v,b,L,H,G,$){var X;if(h==null)js(null,null,b,L,H,G,$);else for(X=0;X<$;++X)H[G+X]=h[v+X]+b[L+X]&255}function di(h,v,b,L,H,G,$){if(h==null)js(null,null,b,L,H,G,$);else{var X,Z=h[v+0],ne=Z,me=Z;for(X=0;X<$;++X)ne=me+(Z=h[v+X])-ne,me=b[L+X]+(-256&ne?0>ne?0:255:ne)&255,ne=Z,H[G+X]=me}}function $a(h,v,b,L){var H=v.width,G=v.o;if(e(h!=null&&v!=null),0>b||0>=L||b+L>G)return null;if(!h.Cc){if(h.ga==null){var $;if(h.ga=new cA,($=h.ga==null)||($=v.width*v.o,e(h.Gb.length==0),h.Gb=s($),h.Uc=0,h.Gb==null?$=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,$=1),$=!$),!$){$=h.ga;var X=h.Fa,Z=h.P,ne=h.qc,me=h.mb,Fe=h.nb,Ne=Z+1,Ee=ne-1,qe=$.l;if(e(X!=null&&me!=null&&v!=null),gi[0]=null,gi[1]=js,gi[2]=Wa,gi[3]=di,$.ca=me,$.tb=Fe,$.c=v.width,$.i=v.height,e(0<$.c&&0<$.i),1>=ne)v=0;else if($.$a=X[Z+0]>>0&3,$.Z=X[Z+0]>>2&3,$.Lc=X[Z+0]>>4&3,Z=X[Z+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||Z)v=0;else if(qe.put=Vn,qe.ac=fn,qe.bc=Vi,qe.ma=$,qe.width=v.width,qe.height=v.height,qe.Da=v.Da,qe.v=v.v,qe.va=v.va,qe.j=v.j,qe.o=v.o,$.$a)e:{e($.$a==1),v=an();t:for(;;){if(v==null){v=0;break e}if(e($!=null),$.mc=v,v.c=$.c,v.i=$.i,v.l=$.l,v.l.ma=$,v.l.width=$.c,v.l.height=$.i,v.a=0,se(v.m,X,Ne,Ee),!ps($.c,$.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&tA(v.s)?($.ic=1,X=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(X),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):($.ic=0,v=rA(v,$.c)),!v))break t;v=1;break e}$.mc=null,v=0}else v=Ee>=$.c*$.i;$=!v}if($)return null;h.ga.Lc!=1?h.Ga=0:L=G-b}e(h.ga!=null),e(b+L<=G);e:{if(v=(X=h.ga).c,G=X.l.o,X.$a==0){if(Ne=h.rc,Ee=h.Vc,qe=h.Fa,Z=h.P+1+b*v,ne=h.mb,me=h.nb+b*v,e(Z<=h.P+h.qc),X.Z!=0)for(e(gi[X.Z]!=null),$=0;$<L;++$)gi[X.Z](Ne,Ee,qe,Z,ne,me,v),Ne=ne,Ee=me,me+=v,Z+=v;else for($=0;$<L;++$)n(ne,me,qe,Z,v),Ne=ne,Ee=me,me+=v,Z+=v;h.rc=Ne,h.Vc=Ee}else{if(e(X.mc!=null),v=b+L,e(($=X.mc)!=null),e(v<=$.i),$.C>=v)v=1;else if(X.ic||Ie(),X.ic){X=$.V,Ne=$.Ba,Ee=$.c;var Re=$.i,ve=(qe=1,Z=$.$/Ee,ne=$.$%Ee,me=$.m,Fe=$.s,$.$),ye=Ee*Re,Me=Ee*v,Oe=Fe.wc,He=ve<Me?Vr(Fe,ne,Z):null;e(ve<=ye),e(v<=Re),e(tA(Fe));t:for(;;){for(;!me.h&&ve<Me;){if(ne&Oe||(He=Vr(Fe,ne,Z)),e(He!=null),de(me),256>(Re=Bn(He.G[0],He.H[0],me)))X[Ne+ve]=Re,++ve,++ne>=Ee&&(ne=0,++Z<=v&&!(Z%16)&&Ki($,Z));else{if(!(280>Re)){qe=0;break t}Re=oi(Re-256,me);var ht,ot=Bn(He.G[4],He.H[4],me);if(de(me),!(ve>=(ot=yn(Ee,ot=oi(ot,me)))&&ye-ve>=Re)){qe=0;break t}for(ht=0;ht<Re;++ht)X[Ne+ve+ht]=X[Ne+ve+ht-ot];for(ve+=Re,ne+=Re;ne>=Ee;)ne-=Ee,++Z<=v&&!(Z%16)&&Ki($,Z);ve<Me&&ne&Oe&&(He=Vr(Fe,ne,Z))}e(me.h==re(me))}Ki($,Z>v?v:Z);break t}!qe||me.h&&ve<ye?(qe=0,$.a=me.h?5:3):$.$=ve,v=qe}else v=pn($,$.V,$.Ba,$.c,$.i,v,nA);if(!v){L=0;break e}}b+L>=G&&(h.Cc=1),L=1}if(!L)return null;if(h.Cc&&((L=h.ga)!=null&&(L.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+b*H}function x(h,v,b,L,H,G){for(;0<H--;){var $,X=h,Z=v+(b?1:0),ne=h,me=v+(b?0:3);for($=0;$<L;++$){var Fe=ne[me+4*$];Fe!=255&&(Fe*=32897,X[Z+4*$+0]=X[Z+4*$+0]*Fe>>23,X[Z+4*$+1]=X[Z+4*$+1]*Fe>>23,X[Z+4*$+2]=X[Z+4*$+2]*Fe>>23)}v+=G}}function V(h,v,b,L,H){for(;0<L--;){var G;for(G=0;G<b;++G){var $=h[v+2*G+0],X=15&(ne=h[v+2*G+1]),Z=4369*X,ne=(240&ne|ne>>4)*Z>>16;h[v+2*G+0]=(240&$|$>>4)*Z>>16&240|(15&$|$<<4)*Z>>16>>4&15,h[v+2*G+1]=240&ne|X}v+=H}}function le(h,v,b,L,H,G,$,X){var Z,ne,me=255;for(ne=0;ne<H;++ne){for(Z=0;Z<L;++Z){var Fe=h[v+Z];G[$+4*Z]=Fe,me&=Fe}v+=b,$+=X}return me!=255}function pe(h,v,b,L,H){var G;for(G=0;G<H;++G)b[L+G]=h[v+G]>>8}function Ie(){Wi=x,Pr=V,_r=le,cn=pe}function De(h,v,b){C[h]=function(L,H,G,$,X,Z,ne,me,Fe,Ne,Ee,qe,Re,ve,ye,Me,Oe){var He,ht=Oe-1>>1,ot=X[Z+0]|ne[me+0]<<16,Nt=Fe[Ne+0]|Ee[qe+0]<<16;e(L!=null);var lt=3*ot+Nt+131074>>2;for(v(L[H+0],255&lt,lt>>16,Re,ve),G!=null&&(lt=3*Nt+ot+131074>>2,v(G[$+0],255&lt,lt>>16,ye,Me)),He=1;He<=ht;++He){var lr=X[Z+He]|ne[me+He]<<16,ur=Fe[Ne+He]|Ee[qe+He]<<16,nr=ot+lr+Nt+ur+524296,Xt=nr+2*(lr+Nt)>>3;lt=Xt+ot>>1,ot=(nr=nr+2*(ot+ur)>>3)+lr>>1,v(L[H+2*He-1],255&lt,lt>>16,Re,ve+(2*He-1)*b),v(L[H+2*He-0],255&ot,ot>>16,Re,ve+(2*He-0)*b),G!=null&&(lt=nr+Nt>>1,ot=Xt+ur>>1,v(G[$+2*He-1],255&lt,lt>>16,ye,Me+(2*He-1)*b),v(G[$+2*He+0],255&ot,ot>>16,ye,Me+(2*He+0)*b)),ot=lr,Nt=ur}1&Oe||(lt=3*ot+Nt+131074>>2,v(L[H+Oe-1],255&lt,lt>>16,Re,ve+(Oe-1)*b),G!=null&&(lt=3*Nt+ot+131074>>2,v(G[$+Oe-1],255&lt,lt>>16,ye,Me+(Oe-1)*b)))}}function We(){Xi[Oc]=r0,Xi[Za]=eo,Xi[Hf]=n0,Xi[Wu]=Pl,Xi[$u]=qo,Xi[Rr]=ec,Xi[Mc]=Ad,Xi[Ll]=eo,Xi[Ho]=Pl,Xi[Xu]=qo,Xi[Yu]=ec}function at(h){return h&-16384?0>h?0:255:h>>to}function f(h,v){return at((19077*h>>8)+(26149*v>>8)-14234)}function E(h,v,b){return at((19077*h>>8)-(6419*v>>8)-(13320*b>>8)+8708)}function P(h,v){return at((19077*h>>8)+(33050*v>>8)-17685)}function Y(h,v,b,L,H){L[H+0]=f(h,b),L[H+1]=E(h,v,b),L[H+2]=P(h,v)}function be(h,v,b,L,H){L[H+0]=P(h,v),L[H+1]=E(h,v,b),L[H+2]=f(h,b)}function Le(h,v,b,L,H){var G=E(h,v,b);v=G<<3&224|P(h,v)>>3,L[H+0]=248&f(h,b)|G>>5,L[H+1]=v}function Ye(h,v,b,L,H){var G=240&P(h,v)|15;L[H+0]=240&f(h,b)|E(h,v,b)>>4,L[H+1]=G}function qt(h,v,b,L,H){L[H+0]=255,Y(h,v,b,L,H+1)}function er(h,v,b,L,H){be(h,v,b,L,H),L[H+3]=255}function Gt(h,v,b,L,H){Y(h,v,b,L,H),L[H+3]=255}function wr(h,v){return 0>h?0:h>v?v:h}function Cr(h,v,b){C[h]=function(L,H,G,$,X,Z,ne,me,Fe){for(var Ne=me+(-2&Fe)*b;me!=Ne;)v(L[H+0],G[$+0],X[Z+0],ne,me),v(L[H+1],G[$+0],X[Z+0],ne,me+b),H+=2,++$,++Z,me+=2*b;1&Fe&&v(L[H+0],G[$+0],X[Z+0],ne,me)}}function Si(h,v,b){return b==0?h==0?v==0?6:5:v==0?4:0:b}function ti(h,v,b,L,H){switch(h>>>30){case 3:fa(v,b,L,H,0);break;case 2:pr(v,b,L,H);break;case 1:pi(v,b,L,H)}}function hA(h,v){var b,L,H=v.M,G=v.Nb,$=h.oc,X=h.pc+40,Z=h.oc,ne=h.pc+584,me=h.oc,Fe=h.pc+600;for(b=0;16>b;++b)$[X+32*b-1]=129;for(b=0;8>b;++b)Z[ne+32*b-1]=129,me[Fe+32*b-1]=129;for(0<H?$[X-1-32]=Z[ne-1-32]=me[Fe-1-32]=129:(i($,X-32-1,127,21),i(Z,ne-32-1,127,9),i(me,Fe-32-1,127,9)),L=0;L<h.za;++L){var Ne=v.ya[v.aa+L];if(0<L){for(b=-1;16>b;++b)n($,X+32*b-4,$,X+32*b+12,4);for(b=-1;8>b;++b)n(Z,ne+32*b-4,Z,ne+32*b+4,4),n(me,Fe+32*b-4,me,Fe+32*b+4,4)}var Ee=h.Gd,qe=h.Hd+L,Re=Ne.ad,ve=Ne.Hc;if(0<H&&(n($,X-32,Ee[qe].y,0,16),n(Z,ne-32,Ee[qe].f,0,8),n(me,Fe-32,Ee[qe].ea,0,8)),Ne.Za){var ye=$,Me=X-32+16;for(0<H&&(L>=h.za-1?i(ye,Me,Ee[qe].y[15],4):n(ye,Me,Ee[qe+1].y,0,4)),b=0;4>b;b++)ye[Me+128+b]=ye[Me+256+b]=ye[Me+384+b]=ye[Me+0+b];for(b=0;16>b;++b,ve<<=2)ye=$,Me=X+ad[b],Vs[Ne.Ob[b]](ye,Me),ti(ve,Re,16*+b,ye,Me)}else if(ye=Si(L,H,Ne.Ob[0]),Li[ye]($,X),ve!=0)for(b=0;16>b;++b,ve<<=2)ti(ve,Re,16*+b,$,X+ad[b]);for(b=Ne.Gc,ye=Si(L,H,Ne.Dd),$i[ye](Z,ne),$i[ye](me,Fe),ve=Re,ye=Z,Me=ne,255&(Ne=b>>0)&&(170&Ne?pa(ve,256,ye,Me):Bs(ve,256,ye,Me)),Ne=me,ve=Fe,255&(b>>=8)&&(170&b?pa(Re,320,Ne,ve):Bs(Re,320,Ne,ve)),H<h.Ub-1&&(n(Ee[qe].y,0,$,X+480,16),n(Ee[qe].f,0,Z,ne+224,8),n(Ee[qe].ea,0,me,Fe+224,8)),b=8*G*h.B,Ee=h.sa,qe=h.ta+16*L+16*G*h.R,Re=h.qa,Ne=h.ra+8*L+b,ve=h.Ha,ye=h.Ia+8*L+b,b=0;16>b;++b)n(Ee,qe+b*h.R,$,X+32*b,16);for(b=0;8>b;++b)n(Re,Ne+b*h.B,Z,ne+32*b,8),n(ve,ye+b*h.B,me,Fe+32*b,8)}}function dA(h,v,b,L,H,G,$,X,Z){var ne=[0],me=[0],Fe=0,Ne=Z!=null?Z.kd:0,Ee=Z??new uA;if(h==null||12>b)return 7;Ee.data=h,Ee.w=v,Ee.ha=b,v=[v],b=[b],Ee.gb=[Ee.gb];e:{var qe=v,Re=b,ve=Ee.gb;if(e(h!=null),e(Re!=null),e(ve!=null),ve[0]=0,12<=Re[0]&&!t(h,qe[0],"RIFF")){if(t(h,qe[0]+8,"WEBP")){ve=3;break e}var ye=$e(h,qe[0]+4);if(12>ye||4294967286<ye){ve=3;break e}if(Ne&&ye>Re[0]-8){ve=7;break e}ve[0]=ye,qe[0]+=12,Re[0]-=12}ve=0}if(ve!=0)return ve;for(ye=0<Ee.gb[0],b=b[0];;){e:{var Me=h;Re=v,ve=b;var Oe=ne,He=me,ht=qe=[0];if((lt=Fe=[Fe])[0]=0,8>ve[0])ve=7;else{if(!t(Me,Re[0],"VP8X")){if($e(Me,Re[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var ot=$e(Me,Re[0]+8),Nt=1+Xe(Me,Re[0]+12);if(2147483648<=Nt*(Me=1+Xe(Me,Re[0]+15))){ve=3;break e}ht!=null&&(ht[0]=ot),Oe!=null&&(Oe[0]=Nt),He!=null&&(He[0]=Me),Re[0]+=18,ve[0]-=18,lt[0]=1}ve=0}}if(Fe=Fe[0],qe=qe[0],ve!=0)return ve;if(Re=!!(2&qe),!ye&&Fe)return 3;if(G!=null&&(G[0]=!!(16&qe)),$!=null&&($[0]=Re),X!=null&&(X[0]=0),$=ne[0],qe=me[0],Fe&&Re&&Z==null){ve=0;break}if(4>b){ve=7;break}if(ye&&Fe||!ye&&!Fe&&!t(h,v[0],"ALPH")){b=[b],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{ot=h,ve=v,ye=b;var lt=Ee.gb;Oe=Ee.na,He=Ee.P,ht=Ee.Sa,Nt=22,e(ot!=null),e(ye!=null),Me=ve[0];var lr=ye[0];for(e(Oe!=null),e(ht!=null),Oe[0]=null,He[0]=null,ht[0]=0;;){if(ve[0]=Me,ye[0]=lr,8>lr){ve=7;break e}var ur=$e(ot,Me+4);if(4294967286<ur){ve=3;break e}var nr=8+ur+1&-2;if(Nt+=nr,0<lt&&Nt>lt){ve=3;break e}if(!t(ot,Me,"VP8 ")||!t(ot,Me,"VP8L")){ve=0;break e}if(lr[0]<nr){ve=7;break e}t(ot,Me,"ALPH")||(Oe[0]=ot,He[0]=Me+8,ht[0]=ur),Me+=nr,lr-=nr}}if(b=b[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],ve!=0)break}b=[b],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(lt=h,ve=v,ye=b,Oe=Ee.gb[0],He=Ee.Ja,ht=Ee.xa,ot=ve[0],Me=!t(lt,ot,"VP8 "),Nt=!t(lt,ot,"VP8L"),e(lt!=null),e(ye!=null),e(He!=null),e(ht!=null),8>ye[0])ve=7;else{if(Me||Nt){if(lt=$e(lt,ot+4),12<=Oe&&lt>Oe-12){ve=3;break e}if(Ne&&lt>ye[0]-8){ve=7;break e}He[0]=lt,ve[0]+=8,ye[0]-=8,ht[0]=Nt}else ht[0]=5<=ye[0]&&lt[ot+0]==47&&!(lt[ot+4]>>5),He[0]=ye[0];ve=0}if(b=b[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],v=v[0],ve!=0)break;if(4294967286<Ee.Ja)return 3;if(X==null||Re||(X[0]=Ee.xa?2:1),$=[$],qe=[qe],Ee.xa){if(5>b){ve=7;break}X=$,Ne=qe,Re=G,h==null||5>b?h=0:5<=b&&h[v+0]==47&&!(h[v+4]>>5)?(ye=[0],lt=[0],Oe=[0],se(He=new R,h,v,b),dt(He,ye,lt,Oe)?(X!=null&&(X[0]=ye[0]),Ne!=null&&(Ne[0]=lt[0]),Re!=null&&(Re[0]=Oe[0]),h=1):h=0):h=0}else{if(10>b){ve=7;break}X=qe,h==null||10>b||!Fo(h,v+3,b-3)?h=0:(Ne=h[v+0]|h[v+1]<<8|h[v+2]<<16,Re=16383&(h[v+7]<<8|h[v+6]),h=16383&(h[v+9]<<8|h[v+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Ee.Ja||!Re||!h?h=0:($&&($[0]=Re),X&&(X[0]=h),h=1))}if(!h||($=$[0],qe=qe[0],Fe&&(ne[0]!=$||me[0]!=qe)))return 3;Z!=null&&(Z[0]=Ee,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-b));break}return ve==0||ve==7&&Fe&&Z==null?(G!=null&&(G[0]|=Ee.na!=null&&0<Ee.na.length),L!=null&&(L[0]=$),H!=null&&(H[0]=qe),0):ve}function xl(h,v,b){var L=v.width,H=v.height,G=0,$=0,X=L,Z=H;if(v.Da=h!=null&&0<h.Da,v.Da&&(X=h.cd,Z=h.bd,G=h.v,$=h.j,11>b||(G&=-2,$&=-2),0>G||0>$||0>=X||0>=Z||G+X>L||$+Z>H))return 0;if(v.v=G,v.j=$,v.va=G+X,v.o=$+Z,v.U=X,v.T=Z,v.da=h!=null&&0<h.da,v.da){if(!bt(X,Z,b=[h.ib],G=[h.hb]))return 0;v.ib=b[0],v.hb=G[0]}return v.ob=h!=null&&h.ob,v.Kb=h==null||!h.Sd,v.da&&(v.ob=v.ib<3*L/4&&v.hb<3*H/4,v.Kb=0),1}function Cl(h){if(h==null)return 2;if(11>h.S){var v=h.f.RGBA;v.fb+=(h.height-1)*v.A,v.A=-v.A}else v=h.f.kb,h=h.height,v.O+=(h-1)*v.fa,v.fa=-v.fa,v.N+=(h-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(h-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(h-1)*v.lb,v.lb=-v.lb);return 0}function ko(h,v,b,L){if(L==null||0>=h||0>=v)return 2;if(b!=null){if(b.Da){var H=b.cd,G=b.bd,$=-2&b.v,X=-2&b.j;if(0>$||0>X||0>=H||0>=G||$+H>h||X+G>v)return 2;h=H,v=G}if(b.da){if(!bt(h,v,H=[b.ib],G=[b.hb]))return 2;h=H[0],v=G[0]}}L.width=h,L.height=v;e:{var Z=L.width,ne=L.height;if(h=L.S,0>=Z||0>=ne||!(h>=Oc&&13>h))h=2;else{if(0>=L.Rd&&L.sd==null){$=G=H=v=0;var me=(X=Z*tc[h])*ne;if(11>h||(G=(ne+1)/2*(v=(Z+1)/2),h==12&&($=(H=Z)*ne)),(ne=s(me+2*G+$))==null){h=1;break e}L.sd=ne,11>h?((Z=L.f.RGBA).eb=ne,Z.fb=0,Z.A=X,Z.size=me):((Z=L.f.kb).y=ne,Z.O=0,Z.fa=X,Z.Fd=me,Z.f=ne,Z.N=0+me,Z.Ab=v,Z.Cd=G,Z.ea=ne,Z.W=0+me+G,Z.Db=v,Z.Ed=G,h==12&&(Z.F=ne,Z.J=0+me+2*G),Z.Tc=$,Z.lb=H)}if(v=1,H=L.S,G=L.width,$=L.height,H>=Oc&&13>H)if(11>H)h=L.f.RGBA,v&=(X=Math.abs(h.A))*($-1)+G<=h.size,v&=X>=G*tc[H],v&=h.eb!=null;else{h=L.f.kb,X=(G+1)/2,me=($+1)/2,Z=Math.abs(h.fa),ne=Math.abs(h.Ab);var Fe=Math.abs(h.Db),Ne=Math.abs(h.lb),Ee=Ne*($-1)+G;v&=Z*($-1)+G<=h.Fd,v&=ne*(me-1)+X<=h.Cd,v=(v&=Fe*(me-1)+X<=h.Ed)&Z>=G&ne>=X&Fe>=X,v&=h.y!=null,v&=h.f!=null,v&=h.ea!=null,H==12&&(v&=Ne>=G,v&=Ee<=h.Tc,v&=h.F!=null)}else v=0;h=v?0:2}}return h!=0||b!=null&&b.fd&&(h=Cl(L)),h}var un=64,_l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bl=24,El=32,Il=8,Fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(h){return h},C.Predictor2=function(h,v,b){return v[b+0]},C.Predictor3=function(h,v,b){return v[b+1]},C.Predictor4=function(h,v,b){return v[b-1]},C.Predictor5=function(h,v,b){return rt(rt(h,v[b+1]),v[b+0])},C.Predictor6=function(h,v,b){return rt(h,v[b-1])},C.Predictor7=function(h,v,b){return rt(h,v[b+0])},C.Predictor8=function(h,v,b){return rt(v[b-1],v[b+0])},C.Predictor9=function(h,v,b){return rt(v[b+0],v[b+1])},C.Predictor10=function(h,v,b){return rt(rt(h,v[b-1]),rt(v[b+0],v[b+1]))},C.Predictor11=function(h,v,b){var L=v[b+0];return 0>=St(L>>24&255,h>>24&255,(v=v[b-1])>>24&255)+St(L>>16&255,h>>16&255,v>>16&255)+St(L>>8&255,h>>8&255,v>>8&255)+St(255&L,255&h,255&v)?L:h},C.Predictor12=function(h,v,b){var L=v[b+0];return(wt((h>>24&255)+(L>>24&255)-((v=v[b-1])>>24&255))<<24|wt((h>>16&255)+(L>>16&255)-(v>>16&255))<<16|wt((h>>8&255)+(L>>8&255)-(v>>8&255))<<8|wt((255&h)+(255&L)-(255&v)))>>>0},C.Predictor13=function(h,v,b){var L=v[b-1];return(vt((h=rt(h,v[b+0]))>>24&255,L>>24&255)<<24|vt(h>>16&255,L>>16&255)<<16|vt(h>>8&255,L>>8&255)<<8|vt(h>>0&255,L>>0&255))>>>0};var Po=C.PredictorAdd0;C.PredictorAdd1=ct,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var ca=C.PredictorAdd2;Dt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Dc,Ni=C.ColorIndexInverseTransform,Sl=C.MapARGB,qu=C.VP8LColorIndexInverseTransformAlpha,Fl=C.MapAlpha,MA=C.VP8LPredictorsAdd=[];MA.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Xa,Ui,fi,Ya,ha,da,Nl,fa,pr,pa,pi,Bs,Ro,Gu,Do,Oo,Mo,xs,ga,jA,ma,wa,Ja,ri,Wi,Pr,_r,cn,Cn=s(511),HA=s(2041),Ul=s(225),jo=s(767),zu=0,VA=HA,Tl=Ul,Ti=jo,Hs=Cn,Oc=0,Za=1,Hf=2,Wu=3,$u=4,Rr=5,Mc=6,Ll=7,Ho=8,Xu=9,Yu=10,Ju=[2,3,7],jc=[3,3,11],Vo=[280,256,256,256,40],Vf=[0,1,1,1,0],Jm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zm=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hc=8,Ql=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ko=null,nd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],id=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],e0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],t0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Li=[],Vs=[],$i=[],KA=1,kl=2,gi=[],Xi=[];De("UpsampleRgbLinePair",Y,3),De("UpsampleBgrLinePair",be,3),De("UpsampleRgbaLinePair",Gt,4),De("UpsampleBgraLinePair",er,4),De("UpsampleArgbLinePair",qt,4),De("UpsampleRgba4444LinePair",Ye,2),De("UpsampleRgb565LinePair",Le,2);var r0=C.UpsampleRgbLinePair,n0=C.UpsampleBgrLinePair,eo=C.UpsampleRgbaLinePair,Pl=C.UpsampleBgraLinePair,qo=C.UpsampleArgbLinePair,ec=C.UpsampleRgba4444LinePair,Ad=C.UpsampleRgb565LinePair,va=16,fA=1<<va-1,br=-227,Ur=482,to=6,ni=0,Yi=s(256),Go=s(256),Rl=s(256),Ji=s(256),Vc=s(Ur-br),zf=s(Ur-br);Cr("YuvToRgbRow",Y,3),Cr("YuvToBgrRow",be,3),Cr("YuvToRgbaRow",Gt,4),Cr("YuvToBgraRow",er,4),Cr("YuvToArgbRow",qt,4),Cr("YuvToRgba4444Row",Ye,2),Cr("YuvToRgb565Row",Le,2);var ad=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zo=[0,2,8],Wf=[8,7,6,4,4,2,2,2,1,1,1,1],ya=1;this.WebPDecodeRGBA=function(h,v,b,L,H){var G=Za,$=new ys,X=new An;$.ba=X,X.S=G,X.width=[X.width],X.height=[X.height];var Z=X.width,ne=X.height,me=new Hn;if(me==null||h==null)var Fe=2;else e(me!=null),Fe=dA(h,v,b,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Fe!=0?Z=0:(Z!=null&&(Z[0]=me.width[0]),ne!=null&&(ne[0]=me.height[0]),Z=1),Z){X.width=X.width[0],X.height=X.height[0],L!=null&&(L[0]=X.width),H!=null&&(H[0]=X.height);e:{if(L=new sa,(H=new uA).data=h,H.w=v,H.ha=b,H.kd=1,v=[0],e(H!=null),((h=dA(H.data,H.w,H.ha,null,null,null,v,null,H))==0||h==7)&&v[0]&&(h=4),(v=h)==0){if(e($!=null),L.data=H.data,L.w=H.w+H.offset,L.ha=H.ha-H.offset,L.put=Vn,L.ac=fn,L.bc=Vi,L.ma=$,H.xa){if((h=an())==null){$=1;break e}if(function(Ne,Ee){var qe=[0],Re=[0],ve=[0];t:for(;;){if(Ne==null)return 0;if(Ee==null)return Ne.a=2,0;if(Ne.l=Ee,Ne.a=0,se(Ne.m,Ee.data,Ee.w,Ee.ha),!dt(Ne.m,qe,Re,ve)){Ne.a=3;break t}if(Ne.xb=kl,Ee.width=qe[0],Ee.height=Re[0],!ps(qe[0],Re[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(h,L)){if(L=(v=ko(L.width,L.height,$.Oa,$.ba))==0){t:{L=h;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((b=L.l)!=null),e((H=b.ma)!=null),L.xb!=0){if(L.ca=H.ba,L.tb=H.tb,e(L.ca!=null),!xl(H.Oa,b,Wu)){L.a=2;break r}if(!rA(L,b.width)||b.da)break r;if((b.da||Zt(L.ca.S))&&Ie(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Ie()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!At(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!pn(L,L.V,L.Ba,L.c,L.i,b.o,IA))break r;H.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(v=h.a)}else v=h.a}else{if((h=new Xn)==null){$=1;break e}if(h.Fa=H.na,h.P=H.P,h.qc=H.Sa,No(h,L)){if((v=ko(L.width,L.height,$.Oa,$.ba))==0){if(h.Aa=0,b=$.Oa,e((H=h)!=null),b!=null){if(0<(Z=0>(Z=b.Md)?0:100<Z?255:255*Z/100)){for(ne=me=0;4>ne;++ne)12>(Fe=H.pb[ne]).lc&&(Fe.ia=Z*Wf[0>Fe.lc?0:Fe.lc]>>3),me|=Fe.ia;me&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=b.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}UA(h,L)||(v=h.a)}}else v=h.a}v==0&&$.Oa!=null&&$.Oa.fd&&(v=Cl($.ba))}$=v}G=$!=0?null:11>G?X.f.RGBA.eb:X.f.kb.y}else G=null;return G};var tc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,I){for(var j="",N=0;N<4;N++)j+=String.fromCharCode(C[I++]);return j}function p(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16)>>>0}function w(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16|C[I+3]<<24)>>>0}new u;var B=[0],y=[0],U=[],Q=new u,k=r,M=function(C,I){var j={},N=0,T=!1,S=0,te=0;if(j.frames=[],!function(z,re,oe,de){for(var xe=0;xe<de;xe++)if(z[re+xe]!=oe.charCodeAt(xe))return!0;return!1}(C,I,"RIFF",4)){for(w(C,I+=4),I+=8;I<C.length;){var Be=d(C,I),ae=w(C,I+=4);I+=4;var ue=ae+(1&ae);switch(Be){case"VP8 ":case"VP8L":j.frames[N]===void 0&&(j.frames[N]={}),(fe=j.frames[N]).src_off=T?te:I-8,fe.src_size=S+ae+8,N++,T&&(T=!1,S=0,te=0);break;case"VP8X":(fe=j.header={}).feature_flags=C[I];var se=I+4;fe.canvas_width=1+p(C,se),se+=3,fe.canvas_height=1+p(C,se),se+=3;break;case"ALPH":T=!0,S=ue+8,te=I-8;break;case"ANIM":(fe=j.header).bgcolor=w(C,I),se=I+4,fe.loop_count=(ie=C)[(R=se)+0]<<0|ie[R+1]<<8,se+=2;break;case"ANMF":var ce,fe;(fe=j.frames[N]={}).offset_x=2*p(C,I),I+=3,fe.offset_y=2*p(C,I),I+=3,fe.width=1+p(C,I),I+=3,fe.height=1+p(C,I),I+=3,fe.duration=p(C,I),I+=3,ce=C[I++],fe.dispose=1&ce,fe.blend=ce>>1&1}Be!="ANMF"&&(I+=ue)}var ie,R;return j}}(k,0);M.response=k,M.rgbaoutput=!0,M.dataurl=!1;var D=M.header?M.header:null,q=M.frames?M.frames:null;if(D){D.loop_counter=D.loop_count,B=[D.canvas_height],y=[D.canvas_width];for(var ee=0;ee<q.length&&q[ee].blend!=0;ee++);}var K=q[0],J=Q.WebPDecodeRGBA(k,K.src_off,K.src_size,y,B);K.rgba=J,K.imgwidth=y[0],K.imgheight=B[0];for(var O=0;O<y[0]*B[0]*4;O++)U[O]=J[O];return this.width=y,this.height=B,this.data=U,this}(function(r){var e=function(){return typeof mv=="function"},t=function(B,y,U,Q){var k=4,M=a;switch(Q){case r.image_compression.FAST:k=1,M=s;break;case r.image_compression.MEDIUM:k=6,M=l;break;case r.image_compression.SLOW:k=9,M=u}B=n(B,y,U,M);var D=mv(B,{level:k});return r.__addimage__.arrayBufferToBinaryString(D)},n=function(B,y,U,Q){for(var k,M,D,q=B.length/y,ee=new Uint8Array(B.length+q),K=p(),J=0;J<q;J+=1){if(D=J*y,k=B.subarray(D,D+y),Q)ee.set(Q(k,U,M),D+J);else{for(var O,C=K.length,I=[];O<C;O+=1)I[O]=K[O](k,U,M);var j=w(I.concat());ee.set(I[j],D+J)}M=k}return ee},i=function(B){var y=Array.apply([],B);return y.unshift(0),y},s=function(B,y){var U,Q=[],k=B.length;Q[0]=1;for(var M=0;M<k;M+=1)U=B[M-y]||0,Q[M+1]=B[M]-U+256&255;return Q},a=function(B,y,U){var Q,k=[],M=B.length;k[0]=2;for(var D=0;D<M;D+=1)Q=U&&U[D]||0,k[D+1]=B[D]-Q+256&255;return k},l=function(B,y,U){var Q,k,M=[],D=B.length;M[0]=3;for(var q=0;q<D;q+=1)Q=B[q-y]||0,k=U&&U[q]||0,M[q+1]=B[q]+256-(Q+k>>>1)&255;return M},u=function(B,y,U){var Q,k,M,D,q=[],ee=B.length;q[0]=4;for(var K=0;K<ee;K+=1)Q=B[K-y]||0,k=U&&U[K]||0,M=U&&U[K-y]||0,D=d(Q,k,M),q[K+1]=B[K]-D+256&255;return q},d=function(B,y,U){if(B===y&&y===U)return B;var Q=Math.abs(y-U),k=Math.abs(B-U),M=Math.abs(B+y-U-U);return Q<=k&&Q<=M?B:k<=M?y:U},p=function(){return[i,s,a,l,u]},w=function(B){var y=B.map(function(U){return U.reduce(function(Q,k){return Q+Math.abs(k)},0)});return y.indexOf(Math.min.apply(null,y))};r.processPNG=function(B,y,U,Q){var k,M,D,q,ee,K,J,O,C,I,j,N,T,S,te,Be=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(B)&&(B=new Uint8Array(B)),this.__addimage__.isArrayBufferView(B)){if(B=(D=new KP(B)).imgData,M=D.bits,k=D.colorSpace,ee=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){C=(O=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,j=new Uint8Array(C*D.colors),I=new Uint8Array(C);var ue,se=D.pixelBitlength-D.bits;for(S=0,te=0;S<C;S++){for(T=O[S],ue=0;ue<se;)j[te++]=T>>>ue&255,ue+=D.bits;I[S]=T>>>ue&255}}if(D.bits===16){C=(O=new Uint32Array(D.decodePixels().buffer)).length,j=new Uint8Array(C*(32/D.pixelBitlength)*D.colors),I=new Uint8Array(C*(32/D.pixelBitlength)),N=D.colors>1,S=0,te=0;for(var ce=0;S<C;)T=O[S++],j[te++]=T>>>0&255,N&&(j[te++]=T>>>16&255,T=O[S++],j[te++]=T>>>0&255),I[ce++]=T>>>16&255;M=8}Q!==r.image_compression.NONE&&e()?(B=t(j,D.width*D.colors,D.colors,Q),J=t(I,D.width,1,Q)):(B=j,J=I,Be=void 0)}if(D.colorType===3&&(k=this.color_spaces.INDEXED,K=D.palette,D.transparency.indexed)){var fe=D.transparency.indexed,ie=0;for(S=0,C=fe.length;S<C;++S)ie+=fe[S];if((ie/=255)===C-1&&fe.indexOf(0)!==-1)q=[fe.indexOf(0)];else if(ie!==C){for(O=D.decodePixels(),I=new Uint8Array(O.length),S=0,C=O.length;S<C;S++)I[S]=fe[O[S]];J=t(I,D.width,1)}}var R=function(z){var re;switch(z){case r.image_compression.FAST:re=11;break;case r.image_compression.MEDIUM:re=13;break;case r.image_compression.SLOW:re=14;break;default:re=12}return re}(Q);return Be===this.decode.FLATE_DECODE&&(ae="/Predictor "+R+" "),ae+="/Colors "+ee+" /BitsPerComponent "+M+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:U,data:B,index:y,filter:Be,decodeParameters:ae,transparency:q,palette:K,sMask:J,predictor:R,width:D.width,height:D.height,bitsPerComponent:M,colorSpace:k}}}})(Rt.API),function(r){r.processGIF89A=function(e,t,n,i){var s=new qP(e),a=s.width,l=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:l},p=new cw(100).encode(d,100);return r.processJPEG.call(this,p,t,n,i)},r.processGIF87A=r.processGIF89A}(Rt.API),Ua.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ua.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Gr.log("bit decode error:"+t)}},Ua.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[s>>7-l&1];this.data[a+4*l]=u.blue,this.data[a+4*l+1]=u.green,this.data[a+4*l+2]=u.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Ua.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,l=s>>4,u=15&s,d=this.palette[l];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ua.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Ua.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,d=s>>15?255:0,p=n*this.width*4+4*i;this.data[p]=u,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=d}this.pos+=r}},Ua.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,u=(a>>5&t)/t*255|0,d=(a>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=255}this.pos+=r}},Ua.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Ua.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=a}},Ua.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new Ua(e,!1),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},d=new cw(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}}(Rt.API),H5.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new H5(e),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},d=new cw(100).encode(u,100);return r.processJPEG.call(this,d,t,n,i)}}(Rt.API),Rt.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var p=n[d],w=n[d+1],B=n[d+2],y=n[d+3];s[l++]=p,s[l++]=w,s[l++]=B,a[u++]=y}var U=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:U,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Rt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ah=Rt.API,Pp=ah.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,w=e.doKerning!==!1,B=0,y=r.length,U=0,Q=l[0]||u,k=[];for(t=0;t<y;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(B=w&&Sr(d[n])==="object"&&!isNaN(parseInt(d[n][U],10))?d[n][U]/p:0,k.push((l[n]||Q)/u+B)),U=n;return k},D5=ah.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ah.processArabic&&(r=ah.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Pp.apply(this,arguments).reduce(function(s,a){return s+a},0)},O5=function(r,e,t,n){for(var i=[],s=0,a=r.length,l=0;s!==a&&l+e[s]<t;)l+=e[s],s++;i.push(r.slice(0,s));var u=s;for(l=0;s!==a;)l+e[s]>n&&(i.push(r.slice(u,s)),l=0,u=s),l+=e[s],s++;return u!==s&&i.push(r.slice(u,s)),i},M5=function(r,e,t){t||(t={});var n,i,s,a,l,u,d,p=[],w=[p],B=t.textIndent||0,y=0,U=0,Q=r.split(" "),k=Pp.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?Q[0].length+2:t.lineIndent||0){var M=Array(u).join(" "),D=[];Q.map(function(ee){(ee=ee.split(/\s*\n/)).length>1?D=D.concat(ee.map(function(K,J){return(J&&K.length?`
`:"")+K})):D.push(ee[0])}),Q=D,u=D5.apply(this,[M,t])}for(s=0,a=Q.length;s<a;s++){var q=0;if(n=Q[s],u&&n[0]==`
`&&(n=n.substr(1),q=1),B+y+(U=(i=Pp.apply(this,[n,t])).reduce(function(ee,K){return ee+K},0))>e||q){if(U>e){for(l=O5.apply(this,[n,i,e-(B+y),e]),p.push(l.shift()),p=[l.pop()];l.length;)w.push([l.shift()]);U=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(ee,K){return ee+K},0)}else p=[n];w.push(p),B=U+u,y=k}else p.push(n),B+=y+U,y=k}return d=u?function(ee,K){return(K?M:"")+ee.join(" ")}:function(ee){return ee.join(" ")},w.map(d)},ah.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var w=this.internal.getFont(p.fontName,p.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var l,u,d=[];for(l=0,u=n.length;l<u;l++)d=d.concat(M5.apply(this,[n[l],a,s]));return d},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(w){return"0x"+parseInt(w,10).toString(16)},a=r.__fontmetrics__.compress=function(w){var B,y,U,Q,k=["{"];for(var M in w){if(B=w[M],isNaN(parseInt(M,10))?y="'"+M+"'":(M=parseInt(M,10),y=(y=s(M).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof B=="number")B<0?(U=s(B).slice(3),Q="-"):(U=s(B).slice(2),Q=""),U=Q+U.slice(0,-1)+n[U.slice(-1)];else{if(Sr(B)!=="object")throw new Error("Don't know what to do with value type "+Sr(B)+".");U=a(B)}k.push(y+U)}return k.push("}"),k.join("")},l=r.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var B,y,U,Q,k={},M=1,D=k,q=[],ee="",K="",J=w.length-1,O=1;O<J;O+=1)(Q=w[O])=="'"?B?(U=B.join(""),B=void 0):B=[]:B?B.push(Q):Q=="{"?(q.push([D,U]),D={},U=void 0):Q=="}"?((y=q.pop())[0][y[1]]=D,U=void 0,D=y[0]):Q=="-"?M=-1:U===void 0?t.hasOwnProperty(Q)?(ee+=t[Q],U=parseInt(ee,16)*M,M=1,ee=""):ee+=Q:t.hasOwnProperty(Q)?(K+=t[Q],D[U]=parseInt(K,16)*M,M=1,U=void 0,K=""):K+=Q;return k},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(w){var B=w.font,y=p.Unicode[B.postScriptName];y&&(B.metadata.Unicode={},B.metadata.Unicode.widths=y.widths,B.metadata.Unicode.kerning=y.kerning);var U=d.Unicode[B.postScriptName];U&&(B.metadata.Unicode.encoding=U,B.encoding=U.codePages[0])}])}(Rt.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Yd(l)),a.metadata=r.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Rt),function(r){function e(){return(Ot.canvg?Promise.resolve(Ot.canvg):hv(()=>import("./index.es-Dh7raPsq.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Rt.API.addSvgAsImage=function(t,n,i,s,a,l,u,d){if(isNaN(n)||isNaN(i))throw Gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var w=p.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,p.width,p.height);var B={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(U){return U.fromString(w,t,B)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(U){return U.render(B)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),n,i,s,a,u,d)})}}(),Rt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},Rt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],d=0,p=0,w=0;function B(U,Q){var k,M=!1;for(k=0;k<U.length;k+=1)U[k]===Q&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var y=l.length;for(w=0;w<y;w+=1)t[l[w]].value=t[l[w]].defaultValue,t[l[w]].explicitSet=!1}if(Sr(r)==="object"){for(i in r)if(s=r[i],B(l,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&B(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(n=!1);n===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,Q=[];for(U in t)t[U].explicitSet===!0&&(t[U].type==="name"?Q.push("/"+U+" /"+t[U].value):Q.push("/"+U+" "+t[U].value));Q.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Q.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Rt.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var l,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],w=0,B=s.length;w<B;++w){if(l=a.metadata.characterToGlyph(s.charCodeAt(w)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(w),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(d[4-l.length],l)}return p.join("")},n=function(s){var a,l,u,d,p,w,B;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],w=0,B=(l=Object.keys(s).sort(function(y,U){return y-U})).length;w<B;w++)a=l[w],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,d=a.newObject,p=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var w=l.metadata.Unicode.widths,B=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",U=0;U<B.length;U++)y+=String.fromCharCode(B[U]);var Q=d();p({data:y,addLength1:!0,objectId:Q}),u("endobj");var k=d();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var M=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+vh(l.fontName)),u("/FontFile2 "+Q+" 0 R"),u("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var D=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+vh(l.fontName)),u("/FontDescriptor "+M+" 0 R"),u("/W "+r.API.PDFObject.convert(w)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+k+" 0 R"),u("/BaseFont /"+vh(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+D+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,d=a.newObject,p=a.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var w=l.metadata.rawData,B="",y=0;y<w.length;y++)B+=String.fromCharCode(w[y]);var U=d();p({data:B,addLength1:!0,objectId:U}),u("endobj");var Q=d();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:Q}),u("endobj");var k=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+U+" 0 R"),u("/Flags 96"),u("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+vh(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var M=0;M<l.metadata.hmtx.widths.length;M++)l.metadata.hmtx.widths[M]=parseInt(l.metadata.hmtx.widths[M]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+Q+" 0 R/BaseFont/"+vh(l.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",u=s.x,d=s.y,p=s.options||{},w=s.mutex||{},B=w.pdfEscape,y=w.activeFontKey,U=w.fonts,Q=y,k="",M=0,D="",q=U[Q].encoding;if(U[Q].encoding!=="Identity-H")return{text:l,x:u,y:d,options:p,mutex:w};for(D=l,Q=y,Array.isArray(l)&&(D=l[0]),M=0;M<D.length;M+=1)U[Q].metadata.hasOwnProperty("cmap")&&(a=U[Q].metadata.cmap.unicode.codeMap[D[M].charCodeAt(0)]),a||D[M].charCodeAt(0)<256&&U[Q].metadata.hasOwnProperty("Unicode")?k+=D[M]:k+="";var ee="";return parseInt(Q.slice(1))<14||q==="WinAnsiEncoding"?ee=B(k,Q).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(ee=t(k,U[Q])),w.isHex=!0,{text:ee,x:u,y:d,options:p,mutex:w}};e.events.push(["postProcessText",function(s){var a=s.text||"",l=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?l.push([i(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):l.push(i(Object.assign({},u,{text:a[d]})).text);s.text=l}else s.text=i(Object.assign({},u,{text:a})).text}])}(Rt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Rt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,l,u,d,p,w=e,B=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Q={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,q=0;this.__bidiEngine__={};var ee=function(N){var T=N.charCodeAt(),S=T>>8,te=Q[S];return te!==void 0?w[256*te+(255&T)]:S===252||S===253?"AL":M.test(S)?"L":S===8?"R":"N"},K=function(N){for(var T,S=0;S<N.length;S++){if((T=ee(N.charAt(S)))==="L")return!1;if(T==="R")return!0}return!1},J=function(N,T,S,te){var Be,ae,ue,se,ce=T[te];switch(ce){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&(ce="AN");break;case"AL":D=!0,ce="R";break;case"WS":ce="N";break;case"CS":te<1||te+1>=T.length||(Be=S[te-1])!=="EN"&&Be!=="AN"||(ae=T[te+1])!=="EN"&&ae!=="AN"?ce="N":D&&(ae="AN"),ce=ae===Be?ae:"N";break;case"ES":ce=(Be=te>0?S[te-1]:"B")==="EN"&&te+1<T.length&&T[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&S[te-1]==="EN"){ce="EN";break}if(D){ce="N";break}for(ue=te+1,se=T.length;ue<se&&T[ue]==="ET";)ue++;ce=ue<se&&T[ue]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(se=T.length,ue=te+1;ue<se&&T[ue]==="NSM";)ue++;if(ue<se){var fe=N[te],ie=fe>=1425&&fe<=2303||fe===64286;if(Be=T[ue],ie&&(Be==="R"||Be==="AL")){ce="R";break}}}ce=te<1||(Be=T[te-1])==="B"?"N":S[te-1];break;case"B":D=!1,i=!0,ce=q;break;case"S":s=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":ce="N"}return ce},O=function(N,T,S){var te=N.split("");return S&&C(te,S,{hiLevel:q}),te.reverse(),T&&T.reverse(),te.join("")},C=function(N,T,S){var te,Be,ae,ue,se,ce=-1,fe=N.length,ie=0,R=[],z=q?y:B,re=[];for(D=!1,i=!1,s=!1,Be=0;Be<fe;Be++)re[Be]=ee(N[Be]);for(ae=0;ae<fe;ae++){if(se=ie,R[ae]=J(N,re,R,ae),te=240&(ie=z[se][U[R[ae]]]),ie&=15,T[ae]=ue=z[ie][5],te>0)if(te===16){for(Be=ce;Be<ae;Be++)T[Be]=1;ce=-1}else ce=-1;if(z[ie][6])ce===-1&&(ce=ae);else if(ce>-1){for(Be=ce;Be<ae;Be++)T[Be]=ue;ce=-1}re[ae]==="B"&&(T[ae]=0),S.hiLevel|=ue}s&&function(oe,de,xe){for(var ge=0;ge<xe;ge++)if(oe[ge]==="S"){de[ge]=q;for(var Ce=ge-1;Ce>=0&&oe[Ce]==="WS";Ce--)de[Ce]=q}}(re,T,fe)},I=function(N,T,S,te,Be){if(!(Be.hiLevel<N)){if(N===1&&q===1&&!i)return T.reverse(),void(S&&S.reverse());for(var ae,ue,se,ce,fe=T.length,ie=0;ie<fe;){if(te[ie]>=N){for(se=ie+1;se<fe&&te[se]>=N;)se++;for(ce=ie,ue=se-1;ce<ue;ce++,ue--)ae=T[ce],T[ce]=T[ue],T[ue]=ae,S&&(ae=S[ce],S[ce]=S[ue],S[ue]=ae);ie=se}ie++}}},j=function(N,T,S){var te=N.split(""),Be={hiLevel:q};return S||(S=[]),C(te,S,Be),function(ae,ue,se){if(se.hiLevel!==0&&p)for(var ce,fe=0;fe<ae.length;fe++)ue[fe]===1&&(ce=k.indexOf(ae[fe]))>=0&&(ae[fe]=k[ce+1])}(te,S,Be),I(2,te,T,S,Be),I(1,te,T,S,Be),te.join("")};return this.__bidiEngine__.doBidiReorder=function(N,T,S){if(function(Be,ae){if(ae)for(var ue=0;ue<Be.length;ue++)ae[ue]=ue;l===void 0&&(l=K(Be)),d===void 0&&(d=K(Be))}(N,T),a||!u||d)if(a&&u&&l^d)q=l?1:0,N=O(N,T,S);else if(!a&&u&&d)q=l?1:0,N=j(N,T,S),N=O(N,T);else if(!a||l||u||d){if(a&&!u&&l^d)N=O(N,T),l?(q=0,N=j(N,T,S)):(q=1,N=j(N,T,S),N=O(N,T));else if(a&&l&&!u&&d)q=1,N=j(N,T,S),N=O(N,T);else if(!a&&!u&&l^d){var te=p;l?(q=1,N=j(N,T,S),q=0,p=!1,N=j(N,T,S),p=te):(q=0,N=j(N,T,S),N=O(N,T),q=1,p=!1,N=j(N,T,S),p=te,N=O(N,T))}}else q=0,N=j(N,T,S);else q=l?1:0,N=j(N,T,S);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,u=N.isOutputVisual,l=N.isInputRtl,d=N.isOutputRtl,p=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([t.doBidiReorder(i[l])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Pu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new AR(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new GP(this.contents),this.head=new WP(this),this.name=new ZP(this),this.cmap=new wE(this),this.toUnicode={},this.hhea=new $P(this),this.maxp=new eR(this),this.hmtx=new tR(this),this.post=new YP(this),this.os2=new XP(this),this.loca=new sR(this),this.glyf=new rR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,u,d;for(d=[],a=0,l=(u=this.bbox).length;a<l;a++)e=u[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,l;for(a=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Ma,Pu=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,l,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*l+u},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),GP=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,l,u,d,p,w,B,y,U,Q;for(Q in y=Object.keys(t).length,u=Math.log(2),w=16*Math.floor(Math.log(y)/u),a=Math.floor(w/u),p=16*y-w,(i=new Pu).writeInt(this.scalarType),i.writeShort(y),i.writeShort(w),i.writeShort(a),i.writeShort(p),s=16*y,d=i.pos+s,l=null,U=[],t)for(B=t[Q],i.writeString(Q),i.writeInt(r(B)),i.writeInt(d),i.writeInt(B.length),U=U.concat(B),Q==="head"&&(l=d),d+=B.length;d%4;)U.push(0),d++;return i.write(U),n=2981146554-r(i.data),i.pos=l+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=vE.call(t);t.length%4;)t.push(0);for(s=new Pu(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),zP={}.hasOwnProperty,Eo=function(r,e){for(var t in e)zP.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Ma=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var WP=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Pu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),V5=function(){function r(e,t){var n,i,s,a,l,u,d,p,w,B,y,U,Q,k,M,D,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(y=e.readUInt16(),B=y/2,e.pos+=6,s=function(){var ee,K;for(K=[],u=ee=0;0<=B?ee<B:ee>B;u=0<=B?++ee:--ee)K.push(e.readUInt16());return K}(),e.pos+=2,Q=function(){var ee,K;for(K=[],u=ee=0;0<=B?ee<B:ee>B;u=0<=B?++ee:--ee)K.push(e.readUInt16());return K}(),d=function(){var ee,K;for(K=[],u=ee=0;0<=B?ee<B:ee>B;u=0<=B?++ee:--ee)K.push(e.readUInt16());return K}(),p=function(){var ee,K;for(K=[],u=ee=0;0<=B?ee<B:ee>B;u=0<=B?++ee:--ee)K.push(e.readUInt16());return K}(),i=(this.length-e.pos+this.offset)/2,l=function(){var ee,K;for(K=[],u=ee=0;0<=i?ee<i:ee>i;u=0<=i?++ee:--ee)K.push(e.readUInt16());return K}(),u=M=0,q=s.length;M<q;u=++M)for(k=s[u],n=D=U=Q[u];U<=k?D<=k:D>=k;n=U<=k?++D:--D)p[u]===0?a=n+d[u]:(a=l[p[u]/2+(n-U)-(B-u)]||0)!==0&&(a+=d[u]),this.codeMap[n]=65535&a}e.pos=w}return r.encode=function(e,t){var n,i,s,a,l,u,d,p,w,B,y,U,Q,k,M,D,q,ee,K,J,O,C,I,j,N,T,S,te,Be,ae,ue,se,ce,fe,ie,R,z,re,oe,de,xe,ge,Ce,je,ke,Xe;switch(te=new Pu,a=Object.keys(e).sort(function($e,At){return $e-At}),t){case"macroman":for(Q=0,k=function(){var $e=[];for(U=0;U<256;++U)$e.push(0);return $e}(),D={0:0},s={},Be=0,ce=a.length;Be<ce;Be++)D[Ce=e[i=a[Be]]]==null&&(D[Ce]=++Q),s[i]={old:e[i],new:D[e[i]]},k[i]=D[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(k),{charMap:s,subtable:te.data,maxGlyphID:Q+1};case"unicode":for(T=[],w=[],q=0,D={},n={},M=d=null,ae=0,fe=a.length;ae<fe;ae++)D[K=e[i=a[ae]]]==null&&(D[K]=++q),n[i]={old:K,new:D[K]},l=D[K]-i,M!=null&&l===d||(M&&w.push(M),T.push(i),d=l),M=i;for(M&&w.push(M),w.push(65535),T.push(65535),j=2*(I=T.length),C=2*Math.pow(Math.log(I)/Math.LN2,2),B=Math.log(C/2)/Math.LN2,O=2*I-C,u=[],J=[],y=[],U=ue=0,ie=T.length;ue<ie;U=++ue){if(N=T[U],p=w[U],N===65535){u.push(0),J.push(0);break}if(N-(S=n[N].new)>=32768)for(u.push(0),J.push(2*(y.length+I-U)),i=se=N;N<=p?se<=p:se>=p;i=N<=p?++se:--se)y.push(n[i].new);else u.push(S-N),J.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*I+2*y.length),te.writeUInt16(0),te.writeUInt16(j),te.writeUInt16(C),te.writeUInt16(B),te.writeUInt16(O),xe=0,R=w.length;xe<R;xe++)i=w[xe],te.writeUInt16(i);for(te.writeUInt16(0),ge=0,z=T.length;ge<z;ge++)i=T[ge],te.writeUInt16(i);for(je=0,re=u.length;je<re;je++)l=u[je],te.writeUInt16(l);for(ke=0,oe=J.length;ke<oe;ke++)ee=J[ke],te.writeUInt16(ee);for(Xe=0,de=y.length;Xe<de;Xe++)Q=y[Xe],te.writeUInt16(Q);return{charMap:n,subtable:te.data,maxGlyphID:q+1}}},r}(),wE=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new V5(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,s;return n==null&&(n="macroman"),i=V5.encode(t,n),(s=new Pu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),$P=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),XP=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),YP=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,d;for(d=[],a=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;a=0<=u?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e}(),JP=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ZP=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,s,a,l,u,d,p,w,B,y;for(t.pos=this.offset,t.readShort(),n=t.readShort(),u=t.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},a=w=0,B=i.length;w<B;a=++w)s=i[a],t.pos=s.offset,p=t.readString(s.length),l=new JP(p,s),d[y=s.nameID]==null&&(d[y]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),eR=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),tR=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,s,a,l,u,d;for(t.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,w;for(w=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)w.push(t.readInt16());return w}(),this.widths=(function(){var p,w,B,y;for(y=[],p=0,w=(B=this.metrics).length;p<w;p++)a=B[p],y.push(a.advance);return y}).call(this),i=this.widths[this.widths.length-1],d=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),vE=[].slice,rR=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,s,a,l,u,d,p,w,B;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,l=(u=new Pu(n.read(s))).readShort(),p=u.readShort(),B=u.readShort(),d=u.readShort(),w=u.readShort(),this.cache[t]=l===-1?new iR(u,p,B,d,w):new nR(u,l,p,B,d,w),this.cache[t]))},e.prototype.encode=function(t,n,i){var s,a,l,u,d;for(l=[],a=[],u=0,d=n.length;u<d;u++)s=t[n[u]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},e}(),nR=function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),iR=function(){function r(e,t,n,i,s){var a,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Pu(vE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),sR=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Eo(e,Ma),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<n.length&&n[a]==l){++a,i[l]=s;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(s+=d)}for(var p=new Array(4*i.length),w=0;w<i.length;++w)p[4*w+3]=255&i[w],p[4*w+2]=(65280&i[w])>>8,p[4*w+1]=(16711680&i[w])>>16,p[4*w]=(4278190080&i[w])>>24;return p},e}(),AR=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,l,u;for(i={},a=0,l=e.length;a<l;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))n=u[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,l,u,d,p,w,B,y,U,Q,k,M;for(i in n=wE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),y={0:0},M=n.charMap)y[(u=M[i]).old]=u.new;for(U in B=n.maxGlyphID,a)U in y||(y[U]=B++);return p=function(D){var q,ee;for(q in ee={},D)ee[D[q]]=q;return ee}(y),w=Object.keys(p).sort(function(D,q){return D-q}),Q=function(){var D,q,ee;for(ee=[],D=0,q=w.length;D<q;D++)l=w[D],ee.push(p[l]);return ee}(),s=this.font.glyf.encode(a,Q,y),d=this.font.loca.encode(s.offsets,Q),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},r}();Rt.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+function(){var l,u,d;for(d=[],l=0,u=t.length;l<u;l++)n=t[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _v=function(r,e){return _v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},_v(r,e)};function ja(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_v(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var bv=function(){return bv=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},bv.apply(this,arguments)};function Ns(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(p){try{d(n.next(p))}catch(w){a(w)}}function u(p){try{d(n.throw(p))}catch(w){a(w)}}function d(p){p.done?s(p.value):i(p.value).then(l,u)}d((n=n.apply(r,[])).next())})}function as(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(p){d=[6,p],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Rp(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var hl=function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),Hm=function(r,e){return hl.fromClientRect(r,e.getBoundingClientRect())},aR=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new hl(0,0,n,i)},Vm=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Pn=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},K5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Dp=0;Dp<K5.length;Dp++)oR[K5.charCodeAt(Dp)]=Dp;var q5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Op=0;Op<q5.length;Op++)Pd[q5.charCodeAt(Op)]=Op;var lR=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,l,u;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<t;n+=4)s=Pd[r.charCodeAt(n)],a=Pd[r.charCodeAt(n+1)],l=Pd[r.charCodeAt(n+2)],u=Pd[r.charCodeAt(n+3)],p[i++]=s<<2|a>>4,p[i++]=(a&15)<<4|l>>2,p[i++]=(l&3)<<6|u&63;return d},uR=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},cR=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},yc=5,Ay=11,hw=2,hR=Ay-yc,yE=65536>>yc,dR=1<<yc,dw=dR-1,fR=1024>>yc,pR=yE+fR,gR=pR,mR=32,wR=gR+mR,vR=65536>>Ay,yR=1<<hR,BR=yR-1,G5=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},xR=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},CR=function(r,e){var t=lR(r),n=Array.isArray(t)?cR(t):new Uint32Array(t),i=Array.isArray(t)?uR(t):new Uint16Array(t),s=24,a=G5(i,s/2,n[4]/2),l=n[5]===2?G5(i,(s+n[4])/2):xR(n,Math.ceil((s+n[4])/4));return new _R(n[0],n[1],n[2],n[3],a,l)},_R=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>yc],t=(t<<hw)+(e&dw),this.data[t];if(e<=65535)return t=this.index[yE+(e-55296>>yc)],t=(t<<hw)+(e&dw),this.data[t];if(e<this.highStart)return t=wR-vR+(e>>Ay),t=this.index[t],t+=e>>yc&BR,t=this.index[t],t=(t<<hw)+(e&dw),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),z5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mp=0;Mp<z5.length;Mp++)bR[z5.charCodeAt(Mp)]=Mp;var ER="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",W5=50,IR=1,BE=2,xE=3,SR=4,FR=5,$5=7,CE=8,X5=9,fu=10,Ev=11,Y5=12,Iv=13,NR=14,Rd=15,Sv=16,jp=17,Ed=18,UR=19,J5=20,Fv=21,Id=22,fw=23,oh=24,vA=25,Dd=26,Od=27,lh=28,TR=29,pc=30,LR=31,Hp=32,Vp=33,Nv=34,Uv=35,Tv=36,Bf=37,Lv=38,Bg=39,xg=40,pw=41,_E=42,QR=43,kR=[9001,65288],bE="!",ir="×",Kp="÷",Qv=CR(ER),tl=[pc,Tv],kv=[IR,BE,xE,FR],EE=[fu,CE],Z5=[Od,Dd],PR=kv.concat(EE),ex=[Lv,Bg,xg,Nv,Uv],RR=[Rd,Iv],DR=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(s,a){var l=Qv.get(s);if(l>W5?(i.push(!0),l-=W5):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),t.push(Sv);if(l===SR||l===Ev){if(a===0)return n.push(a),t.push(pc);var u=t[a-1];return PR.indexOf(u)===-1?(n.push(n[a-1]),t.push(u)):(n.push(a),t.push(pc))}if(n.push(a),l===LR)return t.push(e==="strict"?Fv:Bf);if(l===_E||l===TR)return t.push(pc);if(l===QR)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Bf):t.push(pc);t.push(l)}),[n,t,i]},gw=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var s=t;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==fu)break}if(i===fu)for(var s=t;s>0;){s--;var l=n[s];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var u=t;u<=n.length;){u++;var a=n[u];if(a===e)return!0;if(a!==fu)break}if(l!==fu)break}return!1},tx=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===fu)t--;else return n}return 0},OR=function(r,e,t,n,i){if(t[n]===0)return ir;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return ir;var a=s-1,l=s+1,u=e[s],d=a>=0?e[a]:0,p=e[l];if(u===BE&&p===xE)return ir;if(kv.indexOf(u)!==-1)return bE;if(kv.indexOf(p)!==-1||EE.indexOf(p)!==-1)return ir;if(tx(s,e)===CE)return Kp;if(Qv.get(r[s])===Ev||(u===Hp||u===Vp)&&Qv.get(r[l])===Ev||u===$5||p===$5||u===X5||[fu,Iv,Rd].indexOf(u)===-1&&p===X5||[jp,Ed,UR,oh,lh].indexOf(p)!==-1||tx(s,e)===Id||gw(fw,Id,s,e)||gw([jp,Ed],Fv,s,e)||gw(Y5,Y5,s,e))return ir;if(u===fu)return Kp;if(u===fw||p===fw)return ir;if(p===Sv||u===Sv)return Kp;if([Iv,Rd,Fv].indexOf(p)!==-1||u===NR||d===Tv&&RR.indexOf(u)!==-1||u===lh&&p===Tv||p===J5||tl.indexOf(p)!==-1&&u===vA||tl.indexOf(u)!==-1&&p===vA||u===Od&&[Bf,Hp,Vp].indexOf(p)!==-1||[Bf,Hp,Vp].indexOf(u)!==-1&&p===Dd||tl.indexOf(u)!==-1&&Z5.indexOf(p)!==-1||Z5.indexOf(u)!==-1&&tl.indexOf(p)!==-1||[Od,Dd].indexOf(u)!==-1&&(p===vA||[Id,Rd].indexOf(p)!==-1&&e[l+1]===vA)||[Id,Rd].indexOf(u)!==-1&&p===vA||u===vA&&[vA,lh,oh].indexOf(p)!==-1)return ir;if([vA,lh,oh,jp,Ed].indexOf(p)!==-1)for(var w=s;w>=0;){var B=e[w];if(B===vA)return ir;if([lh,oh].indexOf(B)!==-1)w--;else break}if([Od,Dd].indexOf(p)!==-1)for(var w=[jp,Ed].indexOf(u)!==-1?a:s;w>=0;){var B=e[w];if(B===vA)return ir;if([lh,oh].indexOf(B)!==-1)w--;else break}if(Lv===u&&[Lv,Bg,Nv,Uv].indexOf(p)!==-1||[Bg,Nv].indexOf(u)!==-1&&[Bg,xg].indexOf(p)!==-1||[xg,Uv].indexOf(u)!==-1&&p===xg||ex.indexOf(u)!==-1&&[J5,Dd].indexOf(p)!==-1||ex.indexOf(p)!==-1&&u===Od||tl.indexOf(u)!==-1&&tl.indexOf(p)!==-1||u===oh&&tl.indexOf(p)!==-1||tl.concat(vA).indexOf(u)!==-1&&p===Id&&kR.indexOf(r[l])===-1||tl.concat(vA).indexOf(p)!==-1&&u===Ed)return ir;if(u===pw&&p===pw){for(var y=t[s],U=1;y>0&&(y--,e[y]===pw);)U++;if(U%2!==0)return ir}return u===Hp&&p===Vp?ir:Kp},MR=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=DR(r,e.lineBreak),n=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(l){return[vA,pc,_E].indexOf(l)!==-1?Bf:l}));var a=e.wordBreak==="keep-all"?s.map(function(l,u){return l&&r[u]>=19968&&r[u]<=40959}):void 0;return[n,i,a]},jR=function(){function r(e,t,n,i){this.codePoints=e,this.required=t===bE,this.start=n,this.end=i}return r.prototype.slice=function(){return Pn.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),HR=function(r,e){var t=Vm(r),n=MR(t,e),i=n[0],s=n[1],a=n[2],l=t.length,u=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var p=ir;d<l&&(p=OR(t,s,i,++d,a))===ir;);if(p!==ir||d===l){var w=new jR(t,p,u,d);return u=d,{value:w,done:!1}}return{done:!0,value:null}}}},VR=1,KR=2,Mf=4,rx=8,tm=10,nx=47,Jd=92,qR=9,GR=32,qp=34,Sd=61,zR=35,WR=36,$R=37,Gp=39,zp=40,Fd=41,XR=95,Zs=45,YR=33,JR=60,ZR=62,eD=64,tD=91,rD=93,nD=61,iD=123,Wp=63,sD=125,ix=124,AD=126,aD=128,sx=65533,mw=42,mc=43,oD=44,lD=58,uD=59,xf=46,cD=0,hD=8,dD=11,fD=14,pD=31,gD=127,Ao=-1,IE=48,SE=97,FE=101,mD=102,wD=117,vD=122,NE=65,UE=69,TE=70,yD=85,BD=90,us=function(r){return r>=IE&&r<=57},xD=function(r){return r>=55296&&r<=57343},uh=function(r){return us(r)||r>=NE&&r<=TE||r>=SE&&r<=mD},CD=function(r){return r>=SE&&r<=vD},_D=function(r){return r>=NE&&r<=BD},bD=function(r){return CD(r)||_D(r)},ED=function(r){return r>=aD},$p=function(r){return r===tm||r===qR||r===GR},rm=function(r){return bD(r)||ED(r)||r===XR},Ax=function(r){return rm(r)||us(r)||r===Zs},ID=function(r){return r>=cD&&r<=hD||r===dD||r>=fD&&r<=pD||r===gD},iu=function(r,e){return r!==Jd?!1:e!==tm},Xp=function(r,e,t){return r===Zs?rm(e)||iu(e,t):rm(r)?!0:!!(r===Jd&&iu(r,e))},ww=function(r,e,t){return r===mc||r===Zs?us(e)?!0:e===xf&&us(t):us(r===xf?e:r)},SD=function(r){var e=0,t=1;(r[e]===mc||r[e]===Zs)&&(r[e]===Zs&&(t=-1),e++);for(var n=[];us(r[e]);)n.push(r[e++]);var i=n.length?parseInt(Pn.apply(void 0,n),10):0;r[e]===xf&&e++;for(var s=[];us(r[e]);)s.push(r[e++]);var a=s.length,l=a?parseInt(Pn.apply(void 0,s),10):0;(r[e]===UE||r[e]===FE)&&e++;var u=1;(r[e]===mc||r[e]===Zs)&&(r[e]===Zs&&(u=-1),e++);for(var d=[];us(r[e]);)d.push(r[e++]);var p=d.length?parseInt(Pn.apply(void 0,d),10):0;return t*(i+l*Math.pow(10,-a))*Math.pow(10,u*p)},FD={type:2},ND={type:3},UD={type:4},TD={type:13},LD={type:8},QD={type:21},kD={type:9},PD={type:10},RD={type:11},DD={type:12},OD={type:14},Yp={type:23},MD={type:1},jD={type:25},HD={type:24},VD={type:26},KD={type:27},qD={type:28},GD={type:29},zD={type:31},Pv={type:32},LE=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(Vm(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Pv;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case qp:return this.consumeStringToken(qp);case zR:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Ax(t)||iu(n,i)){var s=Xp(t,n,i)?KR:VR,a=this.consumeName();return{type:5,value:a,flags:s}}break;case WR:if(this.peekCodePoint(0)===Sd)return this.consumeCodePoint(),TD;break;case Gp:return this.consumeStringToken(Gp);case zp:return FD;case Fd:return ND;case mw:if(this.peekCodePoint(0)===Sd)return this.consumeCodePoint(),OD;break;case mc:if(ww(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case oD:return UD;case Zs:var l=e,u=this.peekCodePoint(0),d=this.peekCodePoint(1);if(ww(l,u,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Xp(l,u,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===Zs&&d===ZR)return this.consumeCodePoint(),this.consumeCodePoint(),HD;break;case xf:if(ww(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nx:if(this.peekCodePoint(0)===mw)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===mw&&(p=this.consumeCodePoint(),p===nx))return this.consumeToken();if(p===Ao)return this.consumeToken()}break;case lD:return VD;case uD:return KD;case JR:if(this.peekCodePoint(0)===YR&&this.peekCodePoint(1)===Zs&&this.peekCodePoint(2)===Zs)return this.consumeCodePoint(),this.consumeCodePoint(),jD;break;case eD:var w=this.peekCodePoint(0),B=this.peekCodePoint(1),y=this.peekCodePoint(2);if(Xp(w,B,y)){var a=this.consumeName();return{type:7,value:a}}break;case tD:return qD;case Jd:if(iu(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case rD:return GD;case nD:if(this.peekCodePoint(0)===Sd)return this.consumeCodePoint(),LD;break;case iD:return RD;case sD:return DD;case wD:case yD:var U=this.peekCodePoint(0),Q=this.peekCodePoint(1);return U===mc&&(uh(Q)||Q===Wp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case ix:if(this.peekCodePoint(0)===Sd)return this.consumeCodePoint(),kD;if(this.peekCodePoint(0)===ix)return this.consumeCodePoint(),QD;break;case AD:if(this.peekCodePoint(0)===Sd)return this.consumeCodePoint(),PD;break;case Ao:return Pv}return $p(e)?(this.consumeWhiteSpace(),zD):us(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):rm(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Pn(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();uh(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Wp&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Pn.apply(void 0,e.map(function(u){return u===Wp?IE:u})),16),s=parseInt(Pn.apply(void 0,e.map(function(u){return u===Wp?TE:u})),16);return{type:30,start:i,end:s}}var a=parseInt(Pn.apply(void 0,e),16);if(this.peekCodePoint(0)===Zs&&uh(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];uh(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var s=parseInt(Pn.apply(void 0,l),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===zp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ao)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Gp||t===qp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ao||this.peekCodePoint(0)===Fd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Yp)}for(;;){var i=this.consumeCodePoint();if(i===Ao||i===Fd)return{type:22,value:Pn.apply(void 0,e)};if($p(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ao||this.peekCodePoint(0)===Fd?(this.consumeCodePoint(),{type:22,value:Pn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Yp);if(i===qp||i===Gp||i===zp||ID(i))return this.consumeBadUrlRemnants(),Yp;if(i===Jd)if(iu(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Yp;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;$p(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Fd||e===Ao)return;iu(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=Pn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===Ao||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===tm)return this._value.splice(0,n),MD;if(i===Jd){var s=this._value[n+1];s!==Ao&&s!==void 0&&(s===tm?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):iu(i,s)&&(t+=this.consumeStringSlice(n),t+=Pn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=Mf,n=this.peekCodePoint(0);for((n===mc||n===Zs)&&e.push(this.consumeCodePoint());us(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===xf&&us(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=rx;us(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===UE||n===FE)&&((i===mc||i===Zs)&&us(s)||us(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=rx;us(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[SD(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Xp(i,s,a)){var l=this.consumeName();return{type:15,number:t,flags:n,unit:l}}return i===$R?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(uh(e)){for(var t=Pn(e);uh(this.peekCodePoint(0))&&t.length<6;)t+=Pn(this.consumeCodePoint());$p(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||xD(n)||n>1114111?sx:n}return e===Ao?sx:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(Ax(t))e+=Pn(t);else if(iu(t,this.peekCodePoint(0)))e+=Pn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),QE=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new LE;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||$D(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Pv:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),jf=function(r){return r.type===15},rd=function(r){return r.type===17},jr=function(r){return r.type===20},WD=function(r){return r.type===0},Rv=function(r,e){return jr(r)&&r.value===e},kE=function(r){return r.type!==31},Kh=function(r){return r.type!==31&&r.type!==4},Io=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},$D=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Ru=function(r){return r.type===17||r.type===15},Gn=function(r){return r.type===16||Ru(r)},PE=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Mi={type:17,number:0,flags:Mf},ay={type:16,number:50,flags:Mf},pu={type:16,number:100,flags:Mf},Md=function(r,e,t){var n=r[0],i=r[1];return[Xr(n,e),Xr(typeof i<"u"?i:n,t)]},Xr=function(r,e){if(r.type===16)return r.number/100*e;if(jf(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},RE="deg",DE="grad",OE="rad",ME="turn",Km={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case RE:return Math.PI*e.number/180;case DE:return Math.PI/200*e.number;case OE:return e.number;case ME:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},jE=function(r){return r.type===15&&(r.unit===RE||r.unit===DE||r.unit===OE||r.unit===ME)},HE=function(r){var e=r.filter(jr).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mi,Mi];case"to top":case"bottom":return ta(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mi,pu];case"to right":case"left":return ta(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[pu,pu];case"to bottom":case"top":return ta(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[pu,Mi];case"to left":case"right":return ta(270)}return 0},ta=function(r){return Math.PI*r/180},Cu={name:"color",parse:function(r,e){if(e.type===18){var t=XD[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return gu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return gu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return gu(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return gu(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var l=al[e.value.toUpperCase()];if(typeof l<"u")return l}return al.TRANSPARENT}},_u=function(r){return(255&r)===0},Bi=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},gu=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},ax=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},ox=function(r,e){var t=e.filter(Kh);if(t.length===3){var n=t.map(ax),i=n[0],s=n[1],a=n[2];return gu(i,s,a,1)}if(t.length===4){var l=t.map(ax),i=l[0],s=l[1],a=l[2],u=l[3];return gu(i,s,a,u)}return 0};function vw(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var lx=function(r,e){var t=e.filter(Kh),n=t[0],i=t[1],s=t[2],a=t[3],l=(n.type===17?ta(n.number):Km.parse(r,n))/(Math.PI*2),u=Gn(i)?i.number/100:0,d=Gn(s)?s.number/100:0,p=typeof a<"u"&&Gn(a)?Xr(a,1):1;if(u===0)return gu(d*255,d*255,d*255,1);var w=d<=.5?d*(u+1):d+u-d*u,B=d*2-w,y=vw(B,w,l+1/3),U=vw(B,w,l),Q=vw(B,w,l-1/3);return gu(y*255,U*255,Q*255,p)},XD={hsl:lx,hsla:lx,rgb:ox,rgba:ox},Zd=function(r,e){return Cu.parse(r,QE.create(e).parseComponentValue())},al={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},YD={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(jr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},JD={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qm=function(r,e){var t=Cu.parse(r,e[0]),n=e[1];return n&&Gn(n)?{color:t,stop:n}:{color:t,stop:null}},ux=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Mi),n.stop===null&&(n.stop=pu);for(var i=[],s=0,a=0;a<r.length;a++){var l=r[a].stop;if(l!==null){var u=Xr(l,e);u>s?i.push(u):i.push(s),s=u}else i.push(null)}for(var d=null,a=0;a<i.length;a++){var p=i[a];if(p===null)d===null&&(d=a);else if(d!==null){for(var w=a-d,B=i[d-1],y=(p-B)/(w+1),U=1;U<=w;U++)i[d+U-1]=y*U;d=null}}return r.map(function(Q,k){var M=Q.color;return{color:M,stop:Math.max(Math.min(1,i[k]/e),0)}})},ZD=function(r,e,t){var n=e/2,i=t/2,s=Xr(r[0],e)-n,a=i-Xr(r[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},eO=function(r,e,t){var n=typeof r=="number"?r:ZD(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,a=t/2,l=i/2,u=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[i,s-d,s+d,a-u,a+u]},Ta=function(r,e){return Math.sqrt(r*r+e*e)},cx=function(r,e,t,n,i){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(a,l){var u=l[0],d=l[1],p=Ta(t-u,n-d);return(i?p<a.optimumDistance:p>a.optimumDistance)?{optimumCorner:l,optimumDistance:p}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},tO=function(r,e,t,n,i){var s=0,a=0;switch(r.size){case 0:r.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)s=a=Math.min(Ta(e,t),Ta(e,t-i),Ta(e-n,t),Ta(e-n,t-i));else if(r.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),u=cx(n,i,e,t,!0),d=u[0],p=u[1];s=Ta(d-e,(p-t)/l),a=l*s}break;case 1:r.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)s=a=Math.max(Ta(e,t),Ta(e,t-i),Ta(e-n,t),Ta(e-n,t-i));else if(r.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),w=cx(n,i,e,t,!1),d=w[0],p=w[1];s=Ta(d-e,(p-t)/l),a=l*s}break}return Array.isArray(r.size)&&(s=Xr(r.size[0],n),a=r.size.length===2?Xr(r.size[1],i):s),[s,a]},rO=function(r,e){var t=ta(180),n=[];return Io(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=HE(i);return}else if(jE(a)){t=Km.parse(r,a);return}}var l=qm(r,i);n.push(l)}),{angle:t,stops:n,type:1}},Jp=function(r,e){var t=ta(180),n=[];return Io(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=HE(i);return}else if(jE(a)){t=(Km.parse(r,a)+ta(270))%ta(360);return}}var l=qm(r,i);n.push(l)}),{angle:t,stops:n,type:1}},nO=function(r,e){var t=ta(180),n=[],i=1,s=0,a=3,l=[];return Io(e).forEach(function(u,d){var p=u[0];if(d===0){if(jr(p)&&p.value==="linear"){i=1;return}else if(jr(p)&&p.value==="radial"){i=2;return}}if(p.type===18){if(p.name==="from"){var w=Cu.parse(r,p.values[0]);n.push({stop:Mi,color:w})}else if(p.name==="to"){var w=Cu.parse(r,p.values[0]);n.push({stop:pu,color:w})}else if(p.name==="color-stop"){var B=p.values.filter(Kh);if(B.length===2){var w=Cu.parse(r,B[1]),y=B[0];rd(y)&&n.push({stop:{type:16,number:y.number*100,flags:y.flags},color:w})}}}}),i===1?{angle:(t+ta(180))%ta(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:l,type:i}},VE="closest-side",KE="farthest-side",qE="closest-corner",GE="farthest-corner",zE="circle",WE="ellipse",$E="cover",XE="contain",iO=function(r,e){var t=0,n=3,i=[],s=[];return Io(e).forEach(function(a,l){var u=!0;if(l===0){var d=!1;u=a.reduce(function(w,B){if(d)if(jr(B))switch(B.value){case"center":return s.push(ay),w;case"top":case"left":return s.push(Mi),w;case"right":case"bottom":return s.push(pu),w}else(Gn(B)||Ru(B))&&s.push(B);else if(jr(B))switch(B.value){case zE:return t=0,!1;case WE:return t=1,!1;case"at":return d=!0,!1;case VE:return n=0,!1;case $E:case KE:return n=1,!1;case XE:case qE:return n=2,!1;case GE:return n=3,!1}else if(Ru(B)||Gn(B))return Array.isArray(n)||(n=[]),n.push(B),!1;return w},u)}if(u){var p=qm(r,a);i.push(p)}}),{size:n,shape:t,stops:i,position:s,type:2}},Zp=function(r,e){var t=0,n=3,i=[],s=[];return Io(e).forEach(function(a,l){var u=!0;if(l===0?u=a.reduce(function(p,w){if(jr(w))switch(w.value){case"center":return s.push(ay),!1;case"top":case"left":return s.push(Mi),!1;case"right":case"bottom":return s.push(pu),!1}else if(Gn(w)||Ru(w))return s.push(w),!1;return p},u):l===1&&(u=a.reduce(function(p,w){if(jr(w))switch(w.value){case zE:return t=0,!1;case WE:return t=1,!1;case XE:case VE:return n=0,!1;case KE:return n=1,!1;case qE:return n=2,!1;case $E:case GE:return n=3,!1}else if(Ru(w)||Gn(w))return Array.isArray(n)||(n=[]),n.push(w),!1;return p},u)),u){var d=qm(r,a);i.push(d)}}),{size:n,shape:t,stops:i,position:s,type:2}},sO=function(r){return r.type===1},AO=function(r){return r.type===2},oy={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=YE[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function aO(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!YE[r.name])}var YE={"linear-gradient":rO,"-moz-linear-gradient":Jp,"-ms-linear-gradient":Jp,"-o-linear-gradient":Jp,"-webkit-linear-gradient":Jp,"radial-gradient":iO,"-moz-radial-gradient":Zp,"-ms-radial-gradient":Zp,"-o-radial-gradient":Zp,"-webkit-radial-gradient":Zp,"-webkit-gradient":nO},oO={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Kh(n)&&aO(n)}).map(function(n){return oy.parse(r,n)})}},lO={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(jr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uO={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Io(e).map(function(t){return t.filter(Gn)}).map(PE)}},cO={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Io(e).map(function(t){return t.filter(jr).map(function(n){return n.value}).join(" ")}).map(hO)}},hO=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ph;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Ph||(Ph={}));var dO={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Io(e).map(function(t){return t.filter(fO)})}},fO=function(r){return jr(r)||Gn(r)},Gm=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pO=Gm("top"),gO=Gm("right"),mO=Gm("bottom"),wO=Gm("left"),zm=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return PE(t.filter(Gn))}}},vO=zm("top-left"),yO=zm("top-right"),BO=zm("bottom-right"),xO=zm("bottom-left"),Wm=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},CO=Wm("top"),_O=Wm("right"),bO=Wm("bottom"),EO=Wm("left"),$m=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return jf(t)?t.number:0}}},IO=$m("top"),SO=$m("right"),FO=$m("bottom"),NO=$m("left"),UO={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TO={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},LO={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(jr).reduce(function(t,n){return t|QO(n.value)},0)}},QO=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kO={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},PO={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},nm;(function(r){r.NORMAL="normal",r.STRICT="strict"})(nm||(nm={}));var RO={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return nm.STRICT;case"normal":default:return nm.NORMAL}}},DO={name:"line-height",initialValue:"normal",prefix:!1,type:4},hx=function(r,e){return jr(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Gn(r)?Xr(r,e):e},OO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:oy.parse(r,e)}},MO={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Dv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Xm=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},jO=Xm("top"),HO=Xm("right"),VO=Xm("bottom"),KO=Xm("left"),qO={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(jr).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},GO={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ym=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zO=Ym("top"),WO=Ym("right"),$O=Ym("bottom"),XO=Ym("left"),YO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},JO={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ZO={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Rv(e[0],"none")?[]:Io(e).map(function(t){for(var n={color:al.TRANSPARENT,offsetX:Mi,offsetY:Mi,blur:Mi},i=0,s=0;s<t.length;s++){var a=t[s];Ru(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Cu.parse(r,a)}return n})}},e8={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},t8={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=i8[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},r8=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},n8=function(r){var e=r.filter(function(u){return u.type===17}).map(function(u){return u.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],l=e[13];return e[14],e[15],e.length===16?[t,n,i,s,a,l]:null},i8={matrix:r8,matrix3d:n8},dx={type:16,number:50,flags:Mf},s8=[dx,dx],A8={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Gn);return t.length!==2?s8:[t[0],t[1]]}},a8={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ef;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(ef||(ef={}));var o8={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return ef.BREAK_ALL;case"keep-all":return ef.KEEP_ALL;case"normal":default:return ef.NORMAL}}},l8={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(rd(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},JE={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},u8={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return rd(e)?e.number:1}},c8={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},h8={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(jr).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},d8={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},f8={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},p8={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(rd(e))return e.number;if(jr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},g8={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(jr).map(function(t){return t.value})}},m8={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ai=function(r,e){return(r&e)!==0},w8={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},v8={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(kE),s=0;s<i.length;s++){var a=i[s],l=i[s+1];if(a.type===20){var u=l&&rd(l)?l.number:1;n.push({counter:a.value,increment:u})}}return n}},y8={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(kE),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(jr(s)&&s.value!=="none"){var l=a&&rd(a)?a.number:0;t.push({counter:s.value,reset:l})}}return t}},B8={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(jf).map(function(t){return JE.parse(r,t)})}},x8={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(WD);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,l=i[s+1].value;n.push({open:a,close:l})}return n}},fx=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},C8={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Rv(e[0],"none")?[]:Io(e).map(function(t){for(var n={color:255,offsetX:Mi,offsetY:Mi,blur:Mi,spread:Mi,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];Rv(a,"inset")?n.inset=!0:Ru(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Cu.parse(r,a)}return n})}},_8={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(jr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},b8={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},E8={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return jf(e)?e.number:0}},I8=function(){function r(e,t){var n,i;this.animationDuration=gt(e,B8,t.animationDuration),this.backgroundClip=gt(e,YD,t.backgroundClip),this.backgroundColor=gt(e,JD,t.backgroundColor),this.backgroundImage=gt(e,oO,t.backgroundImage),this.backgroundOrigin=gt(e,lO,t.backgroundOrigin),this.backgroundPosition=gt(e,uO,t.backgroundPosition),this.backgroundRepeat=gt(e,cO,t.backgroundRepeat),this.backgroundSize=gt(e,dO,t.backgroundSize),this.borderTopColor=gt(e,pO,t.borderTopColor),this.borderRightColor=gt(e,gO,t.borderRightColor),this.borderBottomColor=gt(e,mO,t.borderBottomColor),this.borderLeftColor=gt(e,wO,t.borderLeftColor),this.borderTopLeftRadius=gt(e,vO,t.borderTopLeftRadius),this.borderTopRightRadius=gt(e,yO,t.borderTopRightRadius),this.borderBottomRightRadius=gt(e,BO,t.borderBottomRightRadius),this.borderBottomLeftRadius=gt(e,xO,t.borderBottomLeftRadius),this.borderTopStyle=gt(e,CO,t.borderTopStyle),this.borderRightStyle=gt(e,_O,t.borderRightStyle),this.borderBottomStyle=gt(e,bO,t.borderBottomStyle),this.borderLeftStyle=gt(e,EO,t.borderLeftStyle),this.borderTopWidth=gt(e,IO,t.borderTopWidth),this.borderRightWidth=gt(e,SO,t.borderRightWidth),this.borderBottomWidth=gt(e,FO,t.borderBottomWidth),this.borderLeftWidth=gt(e,NO,t.borderLeftWidth),this.boxShadow=gt(e,C8,t.boxShadow),this.color=gt(e,UO,t.color),this.direction=gt(e,TO,t.direction),this.display=gt(e,LO,t.display),this.float=gt(e,kO,t.cssFloat),this.fontFamily=gt(e,d8,t.fontFamily),this.fontSize=gt(e,f8,t.fontSize),this.fontStyle=gt(e,m8,t.fontStyle),this.fontVariant=gt(e,g8,t.fontVariant),this.fontWeight=gt(e,p8,t.fontWeight),this.letterSpacing=gt(e,PO,t.letterSpacing),this.lineBreak=gt(e,RO,t.lineBreak),this.lineHeight=gt(e,DO,t.lineHeight),this.listStyleImage=gt(e,OO,t.listStyleImage),this.listStylePosition=gt(e,MO,t.listStylePosition),this.listStyleType=gt(e,Dv,t.listStyleType),this.marginTop=gt(e,jO,t.marginTop),this.marginRight=gt(e,HO,t.marginRight),this.marginBottom=gt(e,VO,t.marginBottom),this.marginLeft=gt(e,KO,t.marginLeft),this.opacity=gt(e,u8,t.opacity);var s=gt(e,qO,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=gt(e,GO,t.overflowWrap),this.paddingTop=gt(e,zO,t.paddingTop),this.paddingRight=gt(e,WO,t.paddingRight),this.paddingBottom=gt(e,$O,t.paddingBottom),this.paddingLeft=gt(e,XO,t.paddingLeft),this.paintOrder=gt(e,_8,t.paintOrder),this.position=gt(e,JO,t.position),this.textAlign=gt(e,YO,t.textAlign),this.textDecorationColor=gt(e,c8,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=gt(e,h8,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=gt(e,ZO,t.textShadow),this.textTransform=gt(e,e8,t.textTransform),this.transform=gt(e,t8,t.transform),this.transformOrigin=gt(e,A8,t.transformOrigin),this.visibility=gt(e,a8,t.visibility),this.webkitTextStrokeColor=gt(e,b8,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=gt(e,E8,t.webkitTextStrokeWidth),this.wordBreak=gt(e,o8,t.wordBreak),this.zIndex=gt(e,l8,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return _u(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Ai(this.display,4)||Ai(this.display,33554432)||Ai(this.display,268435456)||Ai(this.display,536870912)||Ai(this.display,67108864)||Ai(this.display,134217728)},r}(),S8=function(){function r(e,t){this.content=gt(e,w8,t.content),this.quotes=gt(e,x8,t.quotes)}return r}(),px=function(){function r(e,t){this.counterIncrement=gt(e,v8,t.counterIncrement),this.counterReset=gt(e,y8,t.counterReset)}return r}(),gt=function(r,e,t){var n=new LE,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var s=new QE(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(r,jr(a)?a.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Km.parse(r,s.parseComponentValue());case"color":return Cu.parse(r,s.parseComponentValue());case"image":return oy.parse(r,s.parseComponentValue());case"length":var l=s.parseComponentValue();return Ru(l)?l:Mi;case"length-percentage":var u=s.parseComponentValue();return Gn(u)?u:Mi;case"time":return JE.parse(r,s.parseComponentValue())}break}},F8="data-html2canvas-debug",N8=function(r){var e=r.getAttribute(F8);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ov=function(r,e){var t=N8(r);return t===1||e===t},So=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ov(t,3))debugger;this.styles=new I8(e,window.getComputedStyle(t,null)),Hv(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Hm(this.context,t),Ov(t,4)&&(this.flags|=16)}return r}(),U8="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",gx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var eg=0;eg<gx.length;eg++)jd[gx.charCodeAt(eg)]=eg;var T8=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,l,u;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<t;n+=4)s=jd[r.charCodeAt(n)],a=jd[r.charCodeAt(n+1)],l=jd[r.charCodeAt(n+2)],u=jd[r.charCodeAt(n+3)],p[i++]=s<<2|a>>4,p[i++]=(a&15)<<4|l>>2,p[i++]=(l&3)<<6|u&63;return d},L8=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},Q8=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Bc=5,ly=11,yw=2,k8=ly-Bc,ZE=65536>>Bc,P8=1<<Bc,Bw=P8-1,R8=1024>>Bc,D8=ZE+R8,O8=D8,M8=32,j8=O8+M8,H8=65536>>ly,V8=1<<k8,K8=V8-1,mx=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},q8=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},G8=function(r,e){var t=T8(r),n=Array.isArray(t)?Q8(t):new Uint32Array(t),i=Array.isArray(t)?L8(t):new Uint16Array(t),s=24,a=mx(i,s/2,n[4]/2),l=n[5]===2?mx(i,(s+n[4])/2):q8(n,Math.ceil((s+n[4])/4));return new z8(n[0],n[1],n[2],n[3],a,l)},z8=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Bc],t=(t<<yw)+(e&Bw),this.data[t];if(e<=65535)return t=this.index[ZE+(e-55296>>Bc)],t=(t<<yw)+(e&Bw),this.data[t];if(e<this.highStart)return t=j8-H8+(e>>ly),t=this.index[t],t+=e>>Bc&K8,t=this.index[t],t=(t<<yw)+(e&Bw),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),wx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tg=0;tg<wx.length;tg++)W8[wx.charCodeAt(tg)]=tg;var $8=1,xw=2,Cw=3,vx=4,yx=5,X8=7,Bx=8,_w=9,bw=10,xx=11,Cx=12,_x=13,bx=14,Ew=15,Y8=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},J8=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Z8=G8(U8),JA="×",Iw="÷",eM=function(r){return Z8.get(r)},tM=function(r,e,t){var n=t-2,i=e[n],s=e[t-1],a=e[t];if(s===xw&&a===Cw)return JA;if(s===xw||s===Cw||s===vx||a===xw||a===Cw||a===vx)return Iw;if(s===Bx&&[Bx,_w,xx,Cx].indexOf(a)!==-1||(s===xx||s===_w)&&(a===_w||a===bw)||(s===Cx||s===bw)&&a===bw||a===_x||a===yx||a===X8||s===$8)return JA;if(s===_x&&a===bx){for(;i===yx;)i=e[--n];if(i===bx)return JA}if(s===Ew&&a===Ew){for(var l=0;i===Ew;)l++,i=e[--n];if(l%2===0)return JA}return Iw},rM=function(r){var e=Y8(r),t=e.length,n=0,i=0,s=e.map(eM);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=JA;n<t&&(a=tM(e,s,++n))===JA;);if(a!==JA||n===t){var l=J8.apply(null,e.slice(i,n));return i=n,{value:l,done:!1}}return{done:!0,value:null}}}},nM=function(r){for(var e=rM(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},iM=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(r.body.removeChild(n),s===e)return!0}}return!1},sM=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Vm(n.data).map(function(u){return Pn(u)}),s=0,a={},l=i.every(function(u,d){t.setStart(n,s),t.setEnd(n,s+u.length);var p=t.getBoundingClientRect();s+=u.length;var w=p.x>a.x||p.y>a.y;return a=p,d===0?!0:w});return r.body.removeChild(e),l},AM=function(){return typeof new Image().crossOrigin<"u"},aM=function(){return typeof new XMLHttpRequest().responseType=="string"},oM=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},Ex=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},lM=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=Mv(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),Ix(a).then(function(l){n.drawImage(l,0,0);var u=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var d=r.createElement("div");return d.style.backgroundImage="url("+s+")",d.style.height=t+"px",Ex(u)?Ix(Mv(t,t,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),Ex(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Mv=function(r,e,t,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",r.toString()),a.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(l),l.appendChild(i),a},Ix=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Ri={get SUPPORT_RANGE_BOUNDS(){var r=iM(document);return Object.defineProperty(Ri,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Ri.SUPPORT_RANGE_BOUNDS&&sM(document);return Object.defineProperty(Ri,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=oM(document);return Object.defineProperty(Ri,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?lM(document):Promise.resolve(!1);return Object.defineProperty(Ri,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=AM();return Object.defineProperty(Ri,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=aM();return Object.defineProperty(Ri,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ri,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ri,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},tf=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),uM=function(r,e,t,n){var i=dM(e,t),s=[],a=0;return i.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(Ri.SUPPORT_RANGE_BOUNDS){var u=Sx(n,a,l.length).getClientRects();if(u.length>1){var d=uy(l),p=0;d.forEach(function(B){s.push(new tf(B,hl.fromDOMRectList(r,Sx(n,p+a,B.length).getClientRects()))),p+=B.length})}else s.push(new tf(l,hl.fromDOMRectList(r,u)))}else{var w=n.splitText(l.length);s.push(new tf(l,cM(r,n))),n=w}else Ri.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));a+=l.length}),s},cM=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=Hm(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return hl.EMPTY},Sx=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},uy=function(r){if(Ri.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return nM(r)},hM=function(r,e){if(Ri.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return pM(r,e)},dM=function(r,e){return e.letterSpacing!==0?uy(r):hM(r,e)},fM=[32,160,4961,65792,65793,4153,4241],pM=function(r,e){for(var t=HR(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),l=Vm(a),u="";l.forEach(function(d){fM.indexOf(d)===-1?u+=Pn(d):(u.length&&n.push(u),n.push(Pn(d)),u="")}),u.length&&n.push(u)}};!(i=t.next()).done;)s();return n},gM=function(){function r(e,t,n){this.text=mM(t.data,n.textTransform),this.textBounds=uM(e,this.text,n,t)}return r}(),mM=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(wM,vM);case 2:return r.toUpperCase();default:return r}},wM=/(^|\s|:|-|\(|\))([a-z])/g,vM=function(r,e,t){return r.length>0?e+t.toUpperCase():r},e4=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(So),t4=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(So),r4=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=new XMLSerializer,a=Hm(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(So),n4=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(So),jv=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(So),yM=[{type:15,flags:0,unit:"px",number:3}],BM=[{type:16,flags:0,number:50}],xM=function(r){return r.width>r.height?new hl(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new hl(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},CM=function(r){var e=r.type===_M?new Array(r.value.length+1).join("•"):r.value;return e.length===0?r.placeholder||"":e},im="checkbox",sm="radio",_M="password",Fx=707406591,cy=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=CM(n),(i.type===im||i.type===sm)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=xM(i.bounds)),i.type){case im:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=yM;break;case sm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=BM;break}return i}return e}(So),i4=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(So),s4=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(So),A4=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=o4(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Zd(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):al.TRANSPARENT,a=n.contentWindow.document.body?Zd(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):al.TRANSPARENT;i.backgroundColor=_u(s)?_u(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(So),bM=["OL","UL","MENU"],Cg=function(r,e,t,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,l4(i)&&i.data.trim().length>0)t.textNodes.push(new gM(r,i,t.styles));else if(Eh(i))if(d4(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return Cg(r,l,t,n)});else{var a=a4(r,i);a.styles.isVisible()&&(EM(i,a,n)?a.flags|=4:IM(a.styles)&&(a.flags|=2),bM.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?Cg(r,i.shadowRoot,a,n):!Am(i)&&!u4(i)&&!am(i)&&Cg(r,i,a,n))}},a4=function(r,e){return Vv(e)?new e4(r,e):c4(e)?new t4(r,e):u4(e)?new r4(r,e):SM(e)?new n4(r,e):FM(e)?new jv(r,e):NM(e)?new cy(r,e):am(e)?new i4(r,e):Am(e)?new s4(r,e):h4(e)?new A4(r,e):new So(r,e)},o4=function(r,e){var t=a4(r,e);return t.flags|=4,Cg(r,e,t,t),t},EM=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||hy(r)&&t.styles.isTransparent()},IM=function(r){return r.isPositioned()||r.isFloating()},l4=function(r){return r.nodeType===Node.TEXT_NODE},Eh=function(r){return r.nodeType===Node.ELEMENT_NODE},Hv=function(r){return Eh(r)&&typeof r.style<"u"&&!_g(r)},_g=function(r){return typeof r.className=="object"},SM=function(r){return r.tagName==="LI"},FM=function(r){return r.tagName==="OL"},NM=function(r){return r.tagName==="INPUT"},UM=function(r){return r.tagName==="HTML"},u4=function(r){return r.tagName==="svg"},hy=function(r){return r.tagName==="BODY"},c4=function(r){return r.tagName==="CANVAS"},Nx=function(r){return r.tagName==="VIDEO"},Vv=function(r){return r.tagName==="IMG"},h4=function(r){return r.tagName==="IFRAME"},Ux=function(r){return r.tagName==="STYLE"},TM=function(r){return r.tagName==="SCRIPT"},Am=function(r){return r.tagName==="TEXTAREA"},am=function(r){return r.tagName==="SELECT"},d4=function(r){return r.tagName==="SLOT"},Tx=function(r){return r.tagName.indexOf("-")>0},LM=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(l){var u=t.counters[l.counter];u&&l.increment!==0&&(s=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=l.increment)});var a=[];return s&&i.forEach(function(l){var u=t.counters[l.counter];a.push(l.counter),u||(u=t.counters[l.counter]=[]),u.push(l.reset)}),a},r}(),Lx={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Qx={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},QM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},kM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},ch=function(r,e,t,n,i,s){return r<e||r>t?Cf(r,i,s.length>0):n.integers.reduce(function(a,l,u){for(;r>=l;)r-=l,a+=n.values[u];return a},"")+s},f4=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},kn=function(r,e,t,n,i){var s=t-e+1;return(r<0?"-":"")+(f4(Math.abs(r),s,n,function(a){return Pn(Math.floor(a%s)+e)})+i)},uc=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return f4(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},yh=1,ru=2,nu=4,Hd=8,rl=function(r,e,t,n,i,s){if(r<-9999||r>9999)return Cf(r,4,i.length>0);var a=Math.abs(r),l=i;if(a===0)return e[0]+l;for(var u=0;a>0&&u<=4;u++){var d=a%10;d===0&&Ai(s,yh)&&l!==""?l=e[d]+l:d>1||d===1&&u===0||d===1&&u===1&&Ai(s,ru)||d===1&&u===1&&Ai(s,nu)&&r>100||d===1&&u>1&&Ai(s,Hd)?l=e[d]+(u>0?t[u-1]:"")+l:d===1&&u>0&&(l=t[u-1]+l),a=Math.floor(a/10)}return(r<0?n:"")+l},kx="十百千萬",Px="拾佰仟萬",Rx="マイナス",Sw="마이너스",Cf=function(r,e,t){var n=t?". ":"",i=t?"、":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var l=kn(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return uc(r,"〇一二三四五六七八九",i);case 6:return ch(r,1,3999,Lx,3,n).toLowerCase();case 7:return ch(r,1,3999,Lx,3,n);case 8:return kn(r,945,969,!1,n);case 9:return kn(r,97,122,!1,n);case 10:return kn(r,65,90,!1,n);case 11:return kn(r,1632,1641,!0,n);case 12:case 49:return ch(r,1,9999,Qx,3,n);case 35:return ch(r,1,9999,Qx,3,n).toLowerCase();case 13:return kn(r,2534,2543,!0,n);case 14:case 30:return kn(r,6112,6121,!0,n);case 15:return uc(r,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return uc(r,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return rl(r,"零一二三四五六七八九",kx,"負",i,ru|nu|Hd);case 47:return rl(r,"零壹貳參肆伍陸柒捌玖",Px,"負",i,yh|ru|nu|Hd);case 42:return rl(r,"零一二三四五六七八九",kx,"负",i,ru|nu|Hd);case 41:return rl(r,"零壹贰叁肆伍陆柒捌玖",Px,"负",i,yh|ru|nu|Hd);case 26:return rl(r,"〇一二三四五六七八九","十百千万",Rx,i,0);case 25:return rl(r,"零壱弐参四伍六七八九","拾百千万",Rx,i,yh|ru|nu);case 31:return rl(r,"영일이삼사오육칠팔구","십백천만",Sw,s,yh|ru|nu);case 33:return rl(r,"零一二三四五六七八九","十百千萬",Sw,s,0);case 32:return rl(r,"零壹貳參四五六七八九","拾百千",Sw,s,yh|ru|nu);case 18:return kn(r,2406,2415,!0,n);case 20:return ch(r,1,19999,kM,3,n);case 21:return kn(r,2790,2799,!0,n);case 22:return kn(r,2662,2671,!0,n);case 22:return ch(r,1,10999,QM,3,n);case 23:return uc(r,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return uc(r,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return kn(r,3302,3311,!0,n);case 28:return uc(r,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return uc(r,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return kn(r,3792,3801,!0,n);case 37:return kn(r,6160,6169,!0,n);case 38:return kn(r,4160,4169,!0,n);case 39:return kn(r,2918,2927,!0,n);case 40:return kn(r,1776,1785,!0,n);case 43:return kn(r,3046,3055,!0,n);case 44:return kn(r,3174,3183,!0,n);case 45:return kn(r,3664,3673,!0,n);case 46:return kn(r,3872,3881,!0,n);case 3:default:return kn(r,48,57,!0,n)}},p4="data-html2canvas-ignore",Dx=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new LM,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=PM(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,l=i.contentWindow,u=l.document,d=OM(i).then(function(){return Ns(n,void 0,void 0,function(){var p,w;return as(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(VM),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),p=this.options.onclone,w=this.clonedReferenceElement,typeof w>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,DM(u)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(u,w)}).then(function(){return i})]:[2,i]}})})});return u.open(),u.write(jM(document.doctype)+"<html></html>"),HM(this.referenceElement.ownerDocument,s,a),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),d},r.prototype.createElementClone=function(e){if(Ov(e,2))debugger;if(c4(e))return this.createCanvasClone(e);if(Nx(e))return this.createVideoClone(e);if(Ux(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Vv(t)&&(Vv(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),Tx(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return Fw(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(l){var u=l.getContextAttributes();u?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!Eh(t)||!TM(t)&&!t.hasAttribute(p4)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Eh(t)||!Ux(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Eh(s)&&d4(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(l){return i.appendChildNode(t,l,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(l4(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Eh(e)&&(Hv(e)||_g(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&Hv(i)&&(this.clonedReferenceElement=i),hy(i)&&GM(i);var u=this.counters.parse(new px(this.context,s)),d=this.resolvePseudoContent(e,i,a,rf.BEFORE);Tx(e)&&(t=!0),Nx(e)||this.cloneChildNodes(e,i,t),d&&i.insertBefore(d,i.firstChild);var p=this.resolvePseudoContent(e,i,l,rf.AFTER);return p&&i.appendChild(p),this.counters.pop(u),(s&&(this.options.copyStyles||_g(e))&&!h4(e)||t)&&Fw(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Am(e)||am(e))&&(Am(i)||am(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var s=this;if(n){var a=n.content,l=t.ownerDocument;if(!(!l||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new px(this.context,n));var u=new S8(this.context,n),d=l.createElement("html2canvaspseudoelement");Fw(n,d),u.content.forEach(function(w){if(w.type===0)d.appendChild(l.createTextNode(w.value));else if(w.type===22){var B=l.createElement("img");B.src=w.value,B.style.opacity="1",d.appendChild(B)}else if(w.type===18){if(w.name==="attr"){var y=w.values.filter(jr);y.length&&d.appendChild(l.createTextNode(e.getAttribute(y[0].value)||""))}else if(w.name==="counter"){var U=w.values.filter(Kh),Q=U[0],k=U[1];if(Q&&jr(Q)){var M=s.counters.getCounterValue(Q.value),D=k&&jr(k)?Dv.parse(s.context,k.value):3;d.appendChild(l.createTextNode(Cf(M,D,!1)))}}else if(w.name==="counters"){var q=w.values.filter(Kh),Q=q[0],ee=q[1],k=q[2];if(Q&&jr(Q)){var K=s.counters.getCounterValues(Q.value),J=k&&jr(k)?Dv.parse(s.context,k.value):3,O=ee&&ee.type===0?ee.value:"",C=K.map(function(N){return Cf(N,J,!1)}).join(O);d.appendChild(l.createTextNode(C))}}}else if(w.type===20)switch(w.value){case"open-quote":d.appendChild(l.createTextNode(fx(u.quotes,s.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(fx(u.quotes,--s.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(w.value))}}),d.className=Kv+" "+qv;var p=i===rf.BEFORE?" "+Kv:" "+qv;return _g(t)?t.className.baseValue+=p:t.className+=p,d}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),rf;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(rf||(rf={}));var PM=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(p4,"true"),r.body.appendChild(t),t},RM=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},DM=function(r){return Promise.all([].slice.call(r.images,0).map(RM))},OM=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},MM=["all","d","content"],Fw=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);MM.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},jM=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},HM=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},VM=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},KM=":before",qM=":after",Kv="___html2canvas___pseudoelement_before",qv="___html2canvas___pseudoelement_after",Ox=`{
    content: "" !important;
    display: none !important;
}`,GM=function(r){zM(r,"."+Kv+KM+Ox+`
         .`+qv+qM+Ox)},zM=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},g4=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),WM=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Uw(e)||JM(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return Ns(this,void 0,void 0,function(){var t,n,i,s,a=this;return as(this,function(l){switch(l.label){case 0:return t=g4.isSameOrigin(e),n=!Nw(e)&&this._options.useCORS===!0&&Ri.SUPPORT_CORS_IMAGES&&!t,i=!Nw(e)&&!t&&!Uw(e)&&typeof this._options.proxy=="string"&&Ri.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!Nw(e)&&!Uw(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,d){var p=new Image;p.onload=function(){return u(p)},p.onerror=d,(ZM(s)||n)&&(p.crossOrigin="anonymous"),p.src=s,p.complete===!0&&setTimeout(function(){return u(p)},500),a._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var l=Ri.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(l==="text")s(u.response);else{var w=new FileReader;w.addEventListener("load",function(){return s(w.result)},!1),w.addEventListener("error",function(B){return a(B)},!1),w.readAsDataURL(u.response)}else a("Failed to proxy resource "+i+" with status code "+u.status)},u.onerror=a;var d=n.indexOf("?")>-1?"&":"?";if(u.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=l),t._options.imageTimeout){var p=t._options.imageTimeout;u.timeout=p,u.ontimeout=function(){return a("Timed out ("+p+"ms) proxying "+i)}}u.send()})},r}(),$M=/^data:image\/svg\+xml/i,XM=/^data:image\/.*;base64,/i,YM=/^data:image\/.*/i,JM=function(r){return Ri.SUPPORT_SVG_DRAWING||!ej(r)},Nw=function(r){return YM.test(r)},ZM=function(r){return XM.test(r)},Uw=function(r){return r.substr(0,4)==="blob"},ej=function(r){return r.substr(-3).toLowerCase()==="svg"||$M.test(r)},ft=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),hh=function(r,e,t){return new ft(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},rg=function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=hh(this.start,this.startControl,e),i=hh(this.startControl,this.endControl,e),s=hh(this.endControl,this.end,e),a=hh(n,i,e),l=hh(i,s,e),u=hh(a,l,e);return t?new r(this.start,n,a,u):new r(u,l,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),ZA=function(r){return r.type===1},tj=function(){function r(e){var t=e.styles,n=e.bounds,i=Md(t.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],l=Md(t.borderTopRightRadius,n.width,n.height),u=l[0],d=l[1],p=Md(t.borderBottomRightRadius,n.width,n.height),w=p[0],B=p[1],y=Md(t.borderBottomLeftRadius,n.width,n.height),U=y[0],Q=y[1],k=[];k.push((s+u)/n.width),k.push((U+w)/n.width),k.push((a+Q)/n.height),k.push((d+B)/n.height);var M=Math.max.apply(Math,k);M>1&&(s/=M,a/=M,u/=M,d/=M,w/=M,B/=M,U/=M,Q/=M);var D=n.width-u,q=n.height-B,ee=n.width-w,K=n.height-Q,J=t.borderTopWidth,O=t.borderRightWidth,C=t.borderBottomWidth,I=t.borderLeftWidth,j=Xr(t.paddingTop,e.bounds.width),N=Xr(t.paddingRight,e.bounds.width),T=Xr(t.paddingBottom,e.bounds.width),S=Xr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?hn(n.left+I/3,n.top+J/3,s-I/3,a-J/3,Lr.TOP_LEFT):new ft(n.left+I/3,n.top+J/3),this.topRightBorderDoubleOuterBox=s>0||a>0?hn(n.left+D,n.top+J/3,u-O/3,d-J/3,Lr.TOP_RIGHT):new ft(n.left+n.width-O/3,n.top+J/3),this.bottomRightBorderDoubleOuterBox=w>0||B>0?hn(n.left+ee,n.top+q,w-O/3,B-C/3,Lr.BOTTOM_RIGHT):new ft(n.left+n.width-O/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=U>0||Q>0?hn(n.left+I/3,n.top+K,U-I/3,Q-C/3,Lr.BOTTOM_LEFT):new ft(n.left+I/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?hn(n.left+I*2/3,n.top+J*2/3,s-I*2/3,a-J*2/3,Lr.TOP_LEFT):new ft(n.left+I*2/3,n.top+J*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?hn(n.left+D,n.top+J*2/3,u-O*2/3,d-J*2/3,Lr.TOP_RIGHT):new ft(n.left+n.width-O*2/3,n.top+J*2/3),this.bottomRightBorderDoubleInnerBox=w>0||B>0?hn(n.left+ee,n.top+q,w-O*2/3,B-C*2/3,Lr.BOTTOM_RIGHT):new ft(n.left+n.width-O*2/3,n.top+n.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=U>0||Q>0?hn(n.left+I*2/3,n.top+K,U-I*2/3,Q-C*2/3,Lr.BOTTOM_LEFT):new ft(n.left+I*2/3,n.top+n.height-C*2/3),this.topLeftBorderStroke=s>0||a>0?hn(n.left+I/2,n.top+J/2,s-I/2,a-J/2,Lr.TOP_LEFT):new ft(n.left+I/2,n.top+J/2),this.topRightBorderStroke=s>0||a>0?hn(n.left+D,n.top+J/2,u-O/2,d-J/2,Lr.TOP_RIGHT):new ft(n.left+n.width-O/2,n.top+J/2),this.bottomRightBorderStroke=w>0||B>0?hn(n.left+ee,n.top+q,w-O/2,B-C/2,Lr.BOTTOM_RIGHT):new ft(n.left+n.width-O/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=U>0||Q>0?hn(n.left+I/2,n.top+K,U-I/2,Q-C/2,Lr.BOTTOM_LEFT):new ft(n.left+I/2,n.top+n.height-C/2),this.topLeftBorderBox=s>0||a>0?hn(n.left,n.top,s,a,Lr.TOP_LEFT):new ft(n.left,n.top),this.topRightBorderBox=u>0||d>0?hn(n.left+D,n.top,u,d,Lr.TOP_RIGHT):new ft(n.left+n.width,n.top),this.bottomRightBorderBox=w>0||B>0?hn(n.left+ee,n.top+q,w,B,Lr.BOTTOM_RIGHT):new ft(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=U>0||Q>0?hn(n.left,n.top+K,U,Q,Lr.BOTTOM_LEFT):new ft(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?hn(n.left+I,n.top+J,Math.max(0,s-I),Math.max(0,a-J),Lr.TOP_LEFT):new ft(n.left+I,n.top+J),this.topRightPaddingBox=u>0||d>0?hn(n.left+Math.min(D,n.width-O),n.top+J,D>n.width+O?0:Math.max(0,u-O),Math.max(0,d-J),Lr.TOP_RIGHT):new ft(n.left+n.width-O,n.top+J),this.bottomRightPaddingBox=w>0||B>0?hn(n.left+Math.min(ee,n.width-I),n.top+Math.min(q,n.height-C),Math.max(0,w-O),Math.max(0,B-C),Lr.BOTTOM_RIGHT):new ft(n.left+n.width-O,n.top+n.height-C),this.bottomLeftPaddingBox=U>0||Q>0?hn(n.left+I,n.top+Math.min(K,n.height-C),Math.max(0,U-I),Math.max(0,Q-C),Lr.BOTTOM_LEFT):new ft(n.left+I,n.top+n.height-C),this.topLeftContentBox=s>0||a>0?hn(n.left+I+S,n.top+J+j,Math.max(0,s-(I+S)),Math.max(0,a-(J+j)),Lr.TOP_LEFT):new ft(n.left+I+S,n.top+J+j),this.topRightContentBox=u>0||d>0?hn(n.left+Math.min(D,n.width+I+S),n.top+J+j,D>n.width+I+S?0:u-I+S,d-(J+j),Lr.TOP_RIGHT):new ft(n.left+n.width-(O+N),n.top+J+j),this.bottomRightContentBox=w>0||B>0?hn(n.left+Math.min(ee,n.width-(I+S)),n.top+Math.min(q,n.height+J+j),Math.max(0,w-(O+N)),B-(C+T),Lr.BOTTOM_RIGHT):new ft(n.left+n.width-(O+N),n.top+n.height-(C+T)),this.bottomLeftContentBox=U>0||Q>0?hn(n.left+I+S,n.top+K,Math.max(0,U-(I+S)),Q-(C+T),Lr.BOTTOM_LEFT):new ft(n.left+I+S,n.top+n.height-(C+T))}return r}(),Lr;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Lr||(Lr={}));var hn=function(r,e,t,n,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,l=n*s,u=r+t,d=e+n;switch(i){case Lr.TOP_LEFT:return new rg(new ft(r,d),new ft(r,d-l),new ft(u-a,e),new ft(u,e));case Lr.TOP_RIGHT:return new rg(new ft(r,e),new ft(r+a,e),new ft(u,d-l),new ft(u,d));case Lr.BOTTOM_RIGHT:return new rg(new ft(u,e),new ft(u,e+l),new ft(r+a,d),new ft(r,d));case Lr.BOTTOM_LEFT:default:return new rg(new ft(u,d),new ft(u-a,d),new ft(r,e+l),new ft(r,e))}},om=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},rj=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},lm=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},nj=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),ng=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),ij=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),sj=function(r){return r.type===0},m4=function(r){return r.type===1},Aj=function(r){return r.type===2},Mx=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},aj=function(r,e,t,n,i){return r.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+i);case 3:return s.add(e,t+i)}return s})},w4=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),v4=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new tj(this.container),this.container.styles.opacity<1&&this.effects.push(new ij(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new nj(n,i,s))}if(this.container.styles.overflowX!==0){var a=om(this.curves),l=lm(this.curves);Mx(a,l)?this.effects.push(new ng(a,6)):(this.effects.push(new ng(a,2)),this.effects.push(new ng(l,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(u){return!m4(u)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=om(n.curves),l=lm(n.curves);Mx(a,l)||i.unshift(new ng(l,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(u){return Ai(u.target,e)})},r}(),Gv=function(r,e,t,n){r.container.elements.forEach(function(i){var s=Ai(i.flags,4),a=Ai(i.flags,2),l=new v4(i,r);Ai(i.styles.display,2048)&&n.push(l);var u=Ai(i.flags,8)?[]:n;if(s||a){var d=s||i.styles.isPositioned()?t:e,p=new w4(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var w=i.styles.zIndex.order;if(w<0){var B=0;d.negativeZIndex.some(function(U,Q){return w>U.element.container.styles.zIndex.order?(B=Q,!1):B>0}),d.negativeZIndex.splice(B,0,p)}else if(w>0){var y=0;d.positiveZIndex.some(function(U,Q){return w>=U.element.container.styles.zIndex.order?(y=Q+1,!1):y>0}),d.positiveZIndex.splice(y,0,p)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else i.styles.isFloating()?d.nonPositionedFloats.push(p):d.nonPositionedInlineLevel.push(p);Gv(l,p,s?p:t,u)}else i.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),Gv(l,e,t,u);Ai(i.flags,8)&&y4(i,u)})},y4=function(r,e){for(var t=r instanceof jv?r.start:1,n=r instanceof jv?r.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof n4&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Cf(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},oj=function(r){var e=new v4(r,null),t=new w4(e),n=[];return Gv(e,t,t,n),y4(e.container,n),t},jx=function(r,e){switch(e){case 0:return ra(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return ra(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return ra(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return ra(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},lj=function(r,e){switch(e){case 0:return ra(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return ra(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return ra(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return ra(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},uj=function(r,e){switch(e){case 0:return ra(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return ra(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return ra(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return ra(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},cj=function(r,e){switch(e){case 0:return ig(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return ig(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return ig(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return ig(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},ig=function(r,e){var t=[];return ZA(r)?t.push(r.subdivide(.5,!1)):t.push(r),ZA(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},ra=function(r,e,t,n){var i=[];return ZA(r)?i.push(r.subdivide(.5,!1)):i.push(r),ZA(t)?i.push(t.subdivide(.5,!0)):i.push(t),ZA(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),ZA(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},B4=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},um=function(r){var e=r.styles,t=r.bounds,n=Xr(e.paddingLeft,t.width),i=Xr(e.paddingRight,t.width),s=Xr(e.paddingTop,t.width),a=Xr(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},hj=function(r,e){return r===0?e.bounds:r===2?um(e):B4(e)},dj=function(r,e){return r===0?e.bounds:r===2?um(e):B4(e)},Tw=function(r,e,t){var n=hj(Bh(r.styles.backgroundOrigin,e),r),i=dj(Bh(r.styles.backgroundClip,e),r),s=fj(Bh(r.styles.backgroundSize,e),t,n),a=s[0],l=s[1],u=Md(Bh(r.styles.backgroundPosition,e),n.width-a,n.height-l),d=pj(Bh(r.styles.backgroundRepeat,e),u,s,n,i),p=Math.round(n.left+u[0]),w=Math.round(n.top+u[1]);return[d,p,w,a,l]},dh=function(r){return jr(r)&&r.value===Ph.AUTO},sg=function(r){return typeof r=="number"},fj=function(r,e,t){var n=e[0],i=e[1],s=e[2],a=r[0],l=r[1];if(!a)return[0,0];if(Gn(a)&&l&&Gn(l))return[Xr(a,t.width),Xr(l,t.height)];var u=sg(s);if(jr(a)&&(a.value===Ph.CONTAIN||a.value===Ph.COVER)){if(sg(s)){var d=t.width/t.height;return d<s!=(a.value===Ph.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var p=sg(n),w=sg(i),B=p||w;if(dh(a)&&(!l||dh(l))){if(p&&w)return[n,i];if(!u&&!B)return[t.width,t.height];if(B&&u){var y=p?n:i*s,U=w?i:n/s;return[y,U]}var Q=p?n:t.width,k=w?i:t.height;return[Q,k]}if(u){var M=0,D=0;return Gn(a)?M=Xr(a,t.width):Gn(l)&&(D=Xr(l,t.height)),dh(a)?M=D*s:(!l||dh(l))&&(D=M/s),[M,D]}var q=null,ee=null;if(Gn(a)?q=Xr(a,t.width):l&&Gn(l)&&(ee=Xr(l,t.height)),q!==null&&(!l||dh(l))&&(ee=p&&w?q/n*i:t.height),ee!==null&&dh(a)&&(q=p&&w?ee/i*n:t.width),q!==null&&ee!==null)return[q,ee];throw new Error("Unable to calculate background-size for element")},Bh=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},pj=function(r,e,t,n,i){var s=e[0],a=e[1],l=t[0],u=t[1];switch(r){case 2:return[new ft(Math.round(n.left),Math.round(n.top+a)),new ft(Math.round(n.left+n.width),Math.round(n.top+a)),new ft(Math.round(n.left+n.width),Math.round(u+n.top+a)),new ft(Math.round(n.left),Math.round(u+n.top+a))];case 3:return[new ft(Math.round(n.left+s),Math.round(n.top)),new ft(Math.round(n.left+s+l),Math.round(n.top)),new ft(Math.round(n.left+s+l),Math.round(n.height+n.top)),new ft(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ft(Math.round(n.left+s),Math.round(n.top+a)),new ft(Math.round(n.left+s+l),Math.round(n.top+a)),new ft(Math.round(n.left+s+l),Math.round(n.top+a+u)),new ft(Math.round(n.left+s),Math.round(n.top+a+u))];default:return[new ft(Math.round(i.left),Math.round(i.top)),new ft(Math.round(i.left+i.width),Math.round(i.top)),new ft(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ft(Math.round(i.left),Math.round(i.height+i.top))]}},gj="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Hx="Hidden Text",mj=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=gj,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Hx)),n.appendChild(s),n.appendChild(i);var l=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(Hx)),n.style.lineHeight="normal",i.style.verticalAlign="super";var u=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:l,middle:u}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),x4=function(){function r(e,t){this.context=e,this.options=t}return r}(),wj=1e4,vj=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new mj(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),Aj(t)&&(this.ctx.globalAlpha=t.opacity),sj(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),m4(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Ns(this,void 0,void 0,function(){var n;return as(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Ns(this,void 0,void 0,function(){return as(this,function(n){switch(n.label){case 0:if(Ai(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=uy(t.text);a.reduce(function(l,u){return s.ctx.fillText(u,l,t.bounds.top+i),l+s.ctx.measureText(u).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=_j(t.fontFamily).join(", "),s=jf(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,n){return Ns(this,void 0,void 0,function(){var i,s,a,l,u,d,p,w,B=this;return as(this,function(y){return i=this.createFontStyle(n),s=i[0],a=i[1],l=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(a,l),d=u.baseline,p=u.middle,w=n.paintOrder,t.textBounds.forEach(function(U){w.forEach(function(Q){switch(Q){case 0:B.ctx.fillStyle=Bi(n.color),B.renderTextWithLetterSpacing(U,n.letterSpacing,d);var k=n.textShadow;k.length&&U.text.trim().length&&(k.slice(0).reverse().forEach(function(M){B.ctx.shadowColor=Bi(M.color),B.ctx.shadowOffsetX=M.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=M.offsetY.number*B.options.scale,B.ctx.shadowBlur=M.blur.number,B.renderTextWithLetterSpacing(U,n.letterSpacing,d)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),n.textDecorationLine.length&&(B.ctx.fillStyle=Bi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(M){switch(M){case 1:B.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top+d),U.bounds.width,1);break;case 2:B.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top),U.bounds.width,1);break;case 3:B.ctx.fillRect(U.bounds.left,Math.ceil(U.bounds.top+p),U.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&U.text.trim().length&&(B.ctx.strokeStyle=Bi(n.webkitTextStrokeColor),B.ctx.lineWidth=n.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(U.text,U.bounds.left,U.bounds.top+d)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=um(t),a=lm(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Ns(this,void 0,void 0,function(){var n,i,s,a,l,u,D,D,d,p,w,B,ee,y,U,K,Q,k,M,D,q,ee,K;return as(this,function(J){switch(J.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,s=n.styles,a=0,l=n.textNodes,J.label=1;case 1:return a<l.length?(u=l[a],[4,this.renderTextNode(u,s)]):[3,4];case 2:J.sent(),J.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof e4))return[3,8];J.label=5;case 5:return J.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return D=J.sent(),this.renderReplacedElement(n,i,D),[3,8];case 7:return J.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof t4&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof r4))return[3,12];J.label=9;case 9:return J.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return D=J.sent(),this.renderReplacedElement(n,i,D),[3,12];case 11:return J.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof A4&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:p=J.sent(),n.width&&n.height&&this.ctx.drawImage(p,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),J.label=14;case 14:if(n instanceof cy&&(w=Math.min(n.bounds.width,n.bounds.height),n.type===im?n.checked&&(this.ctx.save(),this.path([new ft(n.bounds.left+w*.39363,n.bounds.top+w*.79),new ft(n.bounds.left+w*.16,n.bounds.top+w*.5549),new ft(n.bounds.left+w*.27347,n.bounds.top+w*.44071),new ft(n.bounds.left+w*.39694,n.bounds.top+w*.5649),new ft(n.bounds.left+w*.72983,n.bounds.top+w*.23),new ft(n.bounds.left+w*.84,n.bounds.top+w*.34085),new ft(n.bounds.left+w*.39363,n.bounds.top+w*.79)]),this.ctx.fillStyle=Bi(Fx),this.ctx.fill(),this.ctx.restore()):n.type===sm&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+w/2,n.bounds.top+w/2,w/4,0,Math.PI*2,!0),this.ctx.fillStyle=Bi(Fx),this.ctx.fill(),this.ctx.restore())),yj(n)&&n.value.length){switch(B=this.createFontStyle(s),ee=B[0],y=B[1],U=this.fontMetrics.getMetrics(ee,y).baseline,this.ctx.font=ee,this.ctx.fillStyle=Bi(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=xj(n.styles.textAlign),K=um(n),Q=0,n.styles.textAlign){case 1:Q+=K.width/2;break;case 2:Q+=K.width;break}k=K.add(Q,0,0,-K.height/2+1),this.ctx.save(),this.path([new ft(K.left,K.top),new ft(K.left+K.width,K.top),new ft(K.left+K.width,K.top+K.height),new ft(K.left,K.top+K.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tf(n.value,k),s.letterSpacing,U),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ai(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(M=n.styles.listStyleImage,M.type!==0)return[3,18];D=void 0,q=M.url,J.label=15;case 15:return J.trys.push([15,17,,18]),[4,this.context.cache.match(q)];case 16:return D=J.sent(),this.ctx.drawImage(D,n.bounds.left-(D.width+10),n.bounds.top),[3,18];case 17:return J.sent(),this.context.logger.error("Error loading list-style-image "+q),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(ee=this.createFontStyle(s)[0],this.ctx.font=ee,this.ctx.fillStyle=Bi(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",K=new hl(n.bounds.left,n.bounds.top+Xr(n.styles.paddingTop,n.bounds.width),n.bounds.width,hx(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tf(t.listValue,K),s.letterSpacing,hx(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),J.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Ns(this,void 0,void 0,function(){var n,i,M,s,a,M,l,u,M,d,p,M,w,B,M,y,U,M,Q,k,M;return as(this,function(D){switch(D.label){case 0:if(Ai(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:D.sent(),n=0,i=t.negativeZIndex,D.label=2;case 2:return n<i.length?(M=i[n],[4,this.renderStack(M)]):[3,5];case 3:D.sent(),D.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:D.sent(),s=0,a=t.nonInlineLevel,D.label=7;case 7:return s<a.length?(M=a[s],[4,this.renderNode(M)]):[3,10];case 8:D.sent(),D.label=9;case 9:return s++,[3,7];case 10:l=0,u=t.nonPositionedFloats,D.label=11;case 11:return l<u.length?(M=u[l],[4,this.renderStack(M)]):[3,14];case 12:D.sent(),D.label=13;case 13:return l++,[3,11];case 14:d=0,p=t.nonPositionedInlineLevel,D.label=15;case 15:return d<p.length?(M=p[d],[4,this.renderStack(M)]):[3,18];case 16:D.sent(),D.label=17;case 17:return d++,[3,15];case 18:w=0,B=t.inlineLevel,D.label=19;case 19:return w<B.length?(M=B[w],[4,this.renderNode(M)]):[3,22];case 20:D.sent(),D.label=21;case 21:return w++,[3,19];case 22:y=0,U=t.zeroOrAutoZIndexOrTransformedOrOpacity,D.label=23;case 23:return y<U.length?(M=U[y],[4,this.renderStack(M)]):[3,26];case 24:D.sent(),D.label=25;case 25:return y++,[3,23];case 26:Q=0,k=t.positiveZIndex,D.label=27;case 27:return Q<k.length?(M=k[Q],[4,this.renderStack(M)]):[3,30];case 28:D.sent(),D.label=29;case 29:return Q++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,s){var a=ZA(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),ZA(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,n,i){var s;if(t.width===n&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=a.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,i);var u=l.getContext("2d");return u.drawImage(t,0,0,t.width,t.height,0,0,n,i),l},e.prototype.renderBackgroundImage=function(t){return Ns(this,void 0,void 0,function(){var n,i,s,a,l,u;return as(this,function(d){switch(d.label){case 0:n=t.styles.backgroundImage.length-1,i=function(p){var w,B,y,j,ae,ue,S,te,C,U,j,ae,ue,S,te,Q,k,M,D,q,ee,K,J,O,C,I,j,N,T,S,te,Be,ae,ue,se,ce,fe,ie,R,z,re,oe;return as(this,function(de){switch(de.label){case 0:if(p.type!==0)return[3,5];w=void 0,B=p.url,de.label=1;case 1:return de.trys.push([1,3,,4]),[4,s.context.cache.match(B)];case 2:return w=de.sent(),[3,4];case 3:return de.sent(),s.context.logger.error("Error loading background-image "+B),[3,4];case 4:return w&&(y=Tw(t,n,[w.width,w.height,w.width/w.height]),j=y[0],ae=y[1],ue=y[2],S=y[3],te=y[4],C=s.ctx.createPattern(s.resizeImage(w,S,te),"repeat"),s.renderRepeat(j,C,ae,ue)),[3,6];case 5:sO(p)?(U=Tw(t,n,[null,null,null]),j=U[0],ae=U[1],ue=U[2],S=U[3],te=U[4],Q=eO(p.angle,S,te),k=Q[0],M=Q[1],D=Q[2],q=Q[3],ee=Q[4],K=document.createElement("canvas"),K.width=S,K.height=te,J=K.getContext("2d"),O=J.createLinearGradient(M,q,D,ee),ux(p.stops,k).forEach(function(xe){return O.addColorStop(xe.stop,Bi(xe.color))}),J.fillStyle=O,J.fillRect(0,0,S,te),S>0&&te>0&&(C=s.ctx.createPattern(K,"repeat"),s.renderRepeat(j,C,ae,ue))):AO(p)&&(I=Tw(t,n,[null,null,null]),j=I[0],N=I[1],T=I[2],S=I[3],te=I[4],Be=p.position.length===0?[ay]:p.position,ae=Xr(Be[0],S),ue=Xr(Be[Be.length-1],te),se=tO(p,ae,ue,S,te),ce=se[0],fe=se[1],ce>0&&fe>0&&(ie=s.ctx.createRadialGradient(N+ae,T+ue,0,N+ae,T+ue,ce),ux(p.stops,ce*2).forEach(function(xe){return ie.addColorStop(xe.stop,Bi(xe.color))}),s.path(j),s.ctx.fillStyle=ie,ce!==fe?(R=t.bounds.left+.5*t.bounds.width,z=t.bounds.top+.5*t.bounds.height,re=fe/ce,oe=1/re,s.ctx.save(),s.ctx.translate(R,z),s.ctx.transform(1,0,0,re,0,0),s.ctx.translate(-R,-z),s.ctx.fillRect(N,oe*(T-z)+z,S,te*oe),s.ctx.restore()):s.ctx.fill())),de.label=6;case 6:return n--,[2]}})},s=this,a=0,l=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return a<l.length?(u=l[a],[5,i(u)]):[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return Ns(this,void 0,void 0,function(){return as(this,function(s){return this.path(jx(i,n)),this.ctx.fillStyle=Bi(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,s){return Ns(this,void 0,void 0,function(){var a,l;return as(this,function(u){switch(u.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return u.sent(),[2];case 2:return a=lj(s,i),this.path(a),this.ctx.fillStyle=Bi(t),this.ctx.fill(),l=uj(s,i),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Ns(this,void 0,void 0,function(){var n,i,s,a,l,u,d,p,w=this;return as(this,function(B){switch(B.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!_u(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Bj(Bh(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),_u(n.backgroundColor)||(this.ctx.fillStyle=Bi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(y){w.ctx.save();var U=om(t.curves),Q=y.inset?0:wj,k=aj(U,-Q+(y.inset?1:-1)*y.spread.number,(y.inset?1:-1)*y.spread.number,y.spread.number*(y.inset?-2:2),y.spread.number*(y.inset?-2:2));y.inset?(w.path(U),w.ctx.clip(),w.mask(k)):(w.mask(U),w.ctx.clip(),w.path(k)),w.ctx.shadowOffsetX=y.offsetX.number+Q,w.ctx.shadowOffsetY=y.offsetY.number,w.ctx.shadowColor=Bi(y.color),w.ctx.shadowBlur=y.blur.number,w.ctx.fillStyle=y.inset?Bi(y.color):"rgba(0,0,0,1)",w.ctx.fill(),w.ctx.restore()}),B.label=2;case 2:l=0,u=0,d=s,B.label=3;case 3:return u<d.length?(p=d[u],p.style!==0&&!_u(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,l,t.curves,3)];case 6:return B.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,l,t.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,l,t.curves)];case 10:B.sent(),B.label=11;case 11:l++,B.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,s,a){return Ns(this,void 0,void 0,function(){var l,u,d,p,w,B,y,U,Q,k,M,D,q,ee,K,J,K,J;return as(this,function(O){return this.ctx.save(),l=cj(s,i),u=jx(s,i),a===2&&(this.path(u),this.ctx.clip()),ZA(u[0])?(d=u[0].start.x,p=u[0].start.y):(d=u[0].x,p=u[0].y),ZA(u[1])?(w=u[1].end.x,B=u[1].end.y):(w=u[1].x,B=u[1].y),i===0||i===2?y=Math.abs(d-w):y=Math.abs(p-B),this.ctx.beginPath(),a===3?this.formatPath(l):this.formatPath(u.slice(0,2)),U=n<3?n*3:n*2,Q=n<3?n*2:n,a===3&&(U=n,Q=n),k=!0,y<=U*2?k=!1:y<=U*2+Q?(M=y/(2*U+Q),U*=M,Q*=M):(D=Math.floor((y+Q)/(U+Q)),q=(y-D*U)/(D-1),ee=(y-(D+1)*U)/D,Q=ee<=0||Math.abs(Q-q)<Math.abs(Q-ee)?q:ee),k&&(a===3?this.ctx.setLineDash([0,U+Q]):this.ctx.setLineDash([U,Q])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Bi(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(ZA(u[0])&&(K=u[3],J=u[0],this.ctx.beginPath(),this.formatPath([new ft(K.end.x,K.end.y),new ft(J.start.x,J.start.y)]),this.ctx.stroke()),ZA(u[1])&&(K=u[1],J=u[2],this.ctx.beginPath(),this.formatPath([new ft(K.end.x,K.end.y),new ft(J.start.x,J.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Ns(this,void 0,void 0,function(){var n;return as(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Bi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=oj(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(x4),yj=function(r){return r instanceof s4||r instanceof i4?!0:r instanceof cy&&r.type!==sm&&r.type!==im},Bj=function(r,e){switch(r){case 0:return om(e);case 2:return rj(e);case 1:default:return lm(e)}},xj=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Cj=["-apple-system","system-ui"],_j=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return Cj.indexOf(e)===-1}):r},bj=function(r){ja(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return Ns(this,void 0,void 0,function(){var n,i;return as(this,function(s){switch(s.label){case 0:return n=Mv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Ej(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Bi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(x4),Ej=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Ij=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Rp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Rp([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Rp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Rp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),Sj=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new Ij({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new WM(this,e)}return r.instanceCount=1,r}(),C4=function(r,e){return e===void 0&&(e={}),Fj(r,e)};typeof window<"u"&&g4.setContext(window);var Fj=function(r,e){return Ns(void 0,void 0,void 0,function(){var t,n,i,s,a,l,u,d,p,w,B,y,U,Q,k,M,D,q,ee,K,O,J,O,C,I,j,N,T,S,te,Be,ae,ue,se,ce,fe,ie,R,z,re;return as(this,function(oe){switch(oe.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(C=e.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(I=e.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:e.proxy,useCORS:(j=e.useCORS)!==null&&j!==void 0?j:!1},s=bv({logging:(N=e.logging)!==null&&N!==void 0?N:!0,cache:e.cache},i),a={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:(S=e.windowHeight)!==null&&S!==void 0?S:n.innerHeight,scrollX:(te=e.scrollX)!==null&&te!==void 0?te:n.pageXOffset,scrollY:(Be=e.scrollY)!==null&&Be!==void 0?Be:n.pageYOffset},l=new hl(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),u=new Sj(s,l),d=(ae=e.foreignObjectRendering)!==null&&ae!==void 0?ae:!1,p={allowTaint:(ue=e.allowTaint)!==null&&ue!==void 0?ue:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},u.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),w=new Dx(u,r,p),B=w.clonedReferenceElement,B?[4,w.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=oe.sent(),U=hy(B)||UM(B)?aR(B.ownerDocument):Hm(u,B),Q=U.width,k=U.height,M=U.left,D=U.top,q=Nj(u,B,e.backgroundColor),ee={canvas:e.canvas,backgroundColor:q,scale:(ce=(se=e.scale)!==null&&se!==void 0?se:n.devicePixelRatio)!==null&&ce!==void 0?ce:1,x:((fe=e.x)!==null&&fe!==void 0?fe:0)+M,y:((ie=e.y)!==null&&ie!==void 0?ie:0)+D,width:(R=e.width)!==null&&R!==void 0?R:Math.ceil(Q),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(k)},d?(u.logger.debug("Document cloned, using foreign object rendering"),O=new bj(u,ee),[4,O.render(B)]):[3,3];case 2:return K=oe.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+M+","+D+" with size "+Q+"x"+k+" using computed rendering"),u.logger.debug("Starting DOM parsing"),J=o4(u,B),q===J.styles.backgroundColor&&(J.styles.backgroundColor=al.TRANSPARENT),u.logger.debug("Starting renderer for element at "+ee.x+","+ee.y+" with size "+ee.width+"x"+ee.height),O=new vj(u,ee),[4,O.render(J)];case 4:K=oe.sent(),oe.label=5;case 5:return(!((re=e.removeContainer)!==null&&re!==void 0)||re)&&(Dx.destroy(y)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,K]}})})},Nj=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?Zd(r,getComputedStyle(n.documentElement).backgroundColor):al.TRANSPARENT,s=n.body?Zd(r,getComputedStyle(n.body).backgroundColor):al.TRANSPARENT,a=typeof t=="string"?Zd(r,t):t===null?al.TRANSPARENT:4294967295;return e===n.documentElement?_u(i)?_u(s)?a:s:i:a};const Uj=Object.freeze(Object.defineProperty({__proto__:null,default:C4},Symbol.toStringTag,{value:"Module"})),Tj=async(r,e)=>{const t=document.createElement("div");t.style.position="absolute",t.style.left="-9999px",t.style.width="210mm",t.style.padding="15mm 18mm",t.style.backgroundColor="white",t.style.fontFamily="Arial, Helvetica, sans-serif",t.style.boxSizing="border-box",t.style.fontSize="10pt";const n="#0e2625",i="#212121",s="#616161",a="#E0E0E0",l="#EEEEEE",u="#F5F5F5",d="#FAFAFA";t.innerHTML=`
    <div style="max-width: 800px; margin: 0 auto; padding: 0; font-family: inherit; color: ${i};">
      
      <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 30px; padding-bottom: 15px; border-bottom: 2px solid ${n};">
        <div>
          <h1 style="color: ${n}; font-size: 38px; margin: 0; font-weight: bold; letter-spacing: 1.5px;">INVOICE</h1>
          <p style="color: ${s}; margin: 8px 0 0 0; font-size: 15px;">Invoice #${r.invoiceNumber}</p>
        </div>
        <div style="text-align: right; line-height: 1.6;">
          <h2 style="color: ${n}; margin: 0 0 5px 0; font-size: 26px; font-weight: bold;">${e.name}</h2>
          <div style="color: ${s}; font-size: 13px;">
            <div>${e.address}</div>
            <div>Phone: ${e.phone}</div>
            <div>Email: ${e.email}</div>
            ${e.website?`<div>Website: ${e.website}</div>`:""}
            <div>GST: ${e.gst}</div>
            <div>PAN: ${e.pan}</div>
          </div>
        </div>
      </div>

      <div style="display: flex; justify-content: space-between; margin-bottom: 30px;">
        <div>
          <h3 style="color: ${i}; margin: 0 0 12px 0; font-size: 18px; font-weight: bold;">Bill To:</h3>
          <div style="color: ${i}; font-size: 14px; line-height: 1.8;">
            <div style="font-weight: bold; font-size: 16px; margin-bottom: 5px;">${r.customer.name}</div>
            <div>${r.customer.address}</div>
            <div>Phone: ${r.customer.phone}</div>
            <div>Email: ${r.customer.email}</div>
            ${r.customer.gst?`<div>GST: ${r.customer.gst}</div>`:""}
          </div>
        </div>
        <div style="text-align: right; line-height: 1.8;">
          <div style="color: ${i}; font-size: 14px;">
            <div><strong>Invoice Date:</strong> ${Qu(new Date(r.date),"MMM dd,yyyy")}</div>
            <div><strong>Due Date:</strong> ${Qu(new Date(r.dueDate),"MMM dd,yyyy")}</div>
          </div>
        </div>
      </div>

      <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px;">
        <thead>
          <tr style="background-color: ${u};">
            <th style="padding: 12px 10px; text-align: left; border: 1px solid ${a}; font-weight: bold; color: ${i}; font-size: 14px;">Description</th>
            <th style="padding: 12px 10px; text-align: center; border: 1px solid ${a}; font-weight: bold; color: ${i}; font-size: 14px;">Qty</th>
            <th style="padding: 12px 10px; text-align: right; border: 1px solid ${a}; font-weight: bold; color: ${i}; font-size: 14px;">Rate</th>
            <th style="padding: 12px 10px; text-align: center; border: 1px solid ${a}; font-weight: bold; color: ${i}; font-size: 14px;">GST%</th>
            <th style="padding: 12px 10px; text-align: right; border: 1px solid ${a}; font-weight: bold; color: ${i}; font-size: 14px;">GST Amount</th>
            <th style="padding: 12px 10px; text-align: right; border: 1px solid ${a}; font-weight: bold; color: ${i}; font-size: 14px;">Amount</th>
          </tr>
        </thead>
        <tbody>
          ${r.items.map(p=>`
            <tr>
              <td style="padding: 10px; border: 1px solid ${a}; color: ${i}; font-size: 13px;">${p.description}</td>
              <td style="padding: 10px; text-align: center; border: 1px solid ${a}; color: ${i}; font-size: 13px;">${p.quantity}</td>
              <td style="padding: 10px; text-align: right; border: 1px solid ${a}; color: ${i}; font-size: 13px;">₹${p.rate.toFixed(2)}</td>
              <td style="padding: 10px; text-align: center; border: 1px solid ${a}; color: ${i}; font-size: 13px;">${p.gstRate}%</td>
              <td style="padding: 10px; text-align: right; border: 1px solid ${a}; color: ${i}; font-size: 13px;">₹${p.gstAmount.toFixed(2)}</td>
              <td style="padding: 10px; text-align: right; border: 1px solid ${a}; color: ${i}; font-weight: bold; font-size: 13px;">₹${p.amount.toFixed(2)}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>

      <div style="display: flex; justify-content: flex-end; margin-bottom: 30px;">
        <div style="width: 280px; padding: 10px 15px; border: 1px solid ${a}; border-top: 2px solid ${n};">
          <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1.5px solid ${l};"> <span style="color: ${s}; font-size: 14px;">Subtotal:</span>
            <span style="color: ${i}; font-weight: bold; font-size: 14px;">₹${r.subtotal.toFixed(2)}</span>
          </div>
          <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1.5px solid ${l};"> <span style="color: ${s}; font-size: 14px;">Total GST:</span>
            <span style="color: ${i}; font-weight: bold; font-size: 14px;">₹${r.totalGst.toFixed(2)}</span>
          </div>
          <div style="display: flex; justify-content: space-between; padding: 12px 0;">
            <span style="color: ${i}; font-size: 18px; font-weight: bold;">Total:</span>
            <span style="color: ${n}; font-size: 18px; font-weight: bold;">₹${r.total.toFixed(2)}</span>
          </div>
        </div>
      </div>

      ${r.notes?`
        <div style="margin-bottom: 25px;">
          <h3 style="color: ${i}; margin: 0 0 10px 0; font-size: 16px; font-weight: bold;">Notes:</h3>
          <p style="color: ${s}; font-size: 13px; line-height: 1.6; margin: 0; padding: 12px; background-color: ${d}; border-left: 4px solid ${n}; border-radius: 4px;">${r.notes}</p>
        </div>
      `:""}

      ${e.bankName||e.accountNumber||e.ifscCode||e.branchName?`
        <div style="margin-top: 30px; margin-bottom: 25px; padding-top: 20px; border-top: 1px dashed ${l};">
          <h3 style="color: ${i}; margin: 0 0 10px 0; font-size: 16px; font-weight: bold;">Bank Details:</h3>
          <div style="color: ${i}; font-size: 13px; line-height: 1.6;">
            ${e.bankName?`<div><strong>Bank Name:</strong> ${e.bankName}</div>`:""}
            ${e.accountNumber?`<div><strong>Account Number:</strong> ${e.accountNumber}</div>`:""}
            ${e.ifscCode?`<div><strong>IFSC Code:</strong> ${e.ifscCode}</div>`:""}
            ${e.branchName?`<div><strong>Branch Name:</strong> ${e.branchName}</div>`:""}
          </div>
        </div>
      `:""}

      <div style="text-align: center; padding-top: 30px; border-top: 1px solid ${l}; color: ${s}; font-size: 12px; line-height: 1.5; margin-top: auto;"> 
        <p style="margin: 0;">Thank you for your business!</p>
        <p style="margin: 5px 0 0 0;">This is a computer-generated invoice and does not require a signature.</p>
      </div>
    </div>
  `,document.body.appendChild(t);try{const p=await C4(t,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff"}),w=p.toDataURL("image/png"),B=new Rt("p","mm","a4"),y=210,U=297,Q=p.height*y/p.width;let k=Q,M=0;for(B.addImage(w,"PNG",0,M,y,Q),k-=U;k>=0;)M=k-Q,B.addPage(),B.addImage(w,"PNG",0,M,y,Q),k-=U;B.save(`Invoice-${r.invoiceNumber}.pdf`)}finally{document.body.removeChild(t)}},Vx=({invoice:r,onSave:e,onCancel:t})=>{const{currentUser:n}=ds(),[i,s]=Se.useState(!1),[a,l]=Se.useState([]),[u,d]=Se.useState(null),[p,w]=Se.useState({invoiceNumber:"",date:Qu(new Date,"yyyy-MM-dd"),dueDate:Qu(new Date(Date.now()+30*24*60*60*1e3),"yyyy-MM-dd"),customerId:"",customer:{name:"",address:"",phone:"",email:"",gst:""},items:[{id:"1",description:"",quantity:1,rate:0,amount:0,gstRate:18,gstAmount:0}],subtotal:0,totalGst:0,total:0,notes:"",status:"draft"});Se.useEffect(()=>{y(),U()},[]),Se.useEffect(()=>{r?w(r):u&&n?.uid&&B()},[r,u,n]);const B=async()=>{if(!n?.uid||!u?.invoicePrefix){console.warn("Cannot generate invoice number for display: Company settings or user not loaded yet."),w(K=>({...K,invoiceNumber:`${u?.invoicePrefix||"INV"}INV${new Date().getFullYear()}${Math.floor(Math.random()*9999).toString().padStart(4,"0")}`}));return}try{const K=new Date().getFullYear(),J=zr(Et,`users/${n.uid}/invoice_counters`,String(K)),O=await gg(J);let C=0;O.exists()&&(C=O.data()?.currentCount||0);const I=C+1,j=String(I).padStart(4,"0"),N=`${u.invoicePrefix}INV${K}${j}`;w(T=>({...T,invoiceNumber:N}))}catch(K){console.error("Error generating invoice number for display:",K),w(J=>({...J,invoiceNumber:`${u.invoicePrefix||"INV"}INV${new Date().getFullYear()}${Math.floor(Math.random()*9999).toString().padStart(4,"0")}`}))}},y=async()=>{try{const K=hr(Et,`users/${n?.uid}/customers`),O=(await dn(K)).docs.map(C=>({id:C.id,...C.data()}));l(O),console.log("Fetched customers:",O)}catch(K){console.error("Error fetching customers:",K)}},U=async()=>{try{const K=hr(Et,`users/${n?.uid}/settings`),J=await dn(K);if(J.empty)d({invoicePrefix:"INV",name:"",address:"",phone:"",email:"",website:"",gst:"",pan:"",logoUrl:"",bankName:"",accountNumber:"",ifscCode:"",branchName:""});else{const O=J.docs[0].data();d(O),console.log("Fetched company settings:",O)}}catch(K){console.error("Error fetching company settings:",K),d({invoicePrefix:"INV",name:"",address:"",phone:"",email:"",website:"",gst:"",pan:"",logoUrl:"",bankName:"",accountNumber:"",ifscCode:"",branchName:""})}},Q=K=>{const J=a.find(O=>O.id===K);J&&w(O=>({...O,customerId:K,customer:J}))},k=(K,J,O)=>{const C=[...p.items||[]];if(C[K]={...C[K],[J]:O},J==="quantity"||J==="rate"||J==="gstRate"){const T=Number(C[K].quantity),S=Number(C[K].rate),te=Number(C[K].gstRate),Be=T*S,ae=Be*te/100;C[K].amount=Be,C[K].gstAmount=ae}const I=C.reduce((T,S)=>T+S.amount,0),j=C.reduce((T,S)=>T+S.gstAmount,0),N=I+j;w(T=>({...T,items:C,subtotal:I,totalGst:j,total:N}))},M=()=>{const K={id:Date.now().toString(),description:"",quantity:1,rate:0,amount:0,gstRate:18,gstAmount:0};w(J=>({...J,items:[...J.items||[],K]}))},D=K=>{const J=[...p.items||[]];J.splice(K,1);const O=J.reduce((j,N)=>j+N.amount,0),C=J.reduce((j,N)=>j+N.gstAmount,0),I=O+C;w(j=>({...j,items:J,subtotal:O,totalGst:C,total:I}))},q=async()=>{s(!0);try{let K={...p,updatedAt:new Date().toISOString(),createdAt:p.createdAt||new Date().toISOString()};if(r?.id)await Da(zr(Et,`users/${n?.uid}/invoices`,r.id),K);else{if(!n?.uid||!u?.invoicePrefix)throw new Error("User or company settings not loaded for new invoice creation.");const J=new Date().getFullYear(),O=zr(Et,`users/${n.uid}/invoice_counters`,String(J));let C="";await CQ(Et,async I=>{const j=await I.get(O);let N;j.exists()?(N=(j.data()?.currentCount||0)+1,I.update(O,{currentCount:N})):(N=1,I.set(O,{currentCount:N}));const T=String(N).padStart(4,"0");C=`${u.invoicePrefix}INV${J}${T}`}),K={...K,invoiceNumber:C},await Al(hr(Et,`users/${n?.uid}/invoices`),K)}e?.(K)}catch(K){console.error("Error saving invoice:",K),alert(`Error saving invoice: ${K.message||"Please try again."}`)}finally{s(!1)}},ee=async()=>{if(!u){alert("Please configure company settings first");return}console.log("Company Settings before PDF generation (handleDownloadPDF):",u);try{await Tj(p,u)}catch(K){console.error("Error generating PDF:",K),alert("Error generating PDF. Please try again.")}};return g.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden",children:[g.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Invoice":"New Invoice"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs("button",{onClick:ee,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[g.jsx(W6,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),g.jsxs("button",{onClick:q,disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:[g.jsx(ty,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Invoice"]}),t&&g.jsx("button",{onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:"Cancel"})]})]})}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Number"}),g.jsx("input",{type:"text",value:p.invoiceNumber,onChange:K=>w(J=>({...J,invoiceNumber:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),g.jsx("input",{type:"date",value:p.date,onChange:K=>w(J=>({...J,date:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),g.jsx("input",{type:"date",value:p.dueDate,onChange:K=>w(J=>({...J,dueDate:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer"}),g.jsxs("select",{value:p.customerId,onChange:K=>Q(K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[g.jsx("option",{value:"",children:"Select a customer"}),a.map(K=>g.jsx("option",{value:K.id,children:K.name},K.id))]})]})]}),p.customer&&g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Details"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",value:p.customer.name,onChange:K=>w(J=>({...J,customer:{...J.customer,name:K.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),g.jsx("input",{type:"email",value:p.customer.email,onChange:K=>w(J=>({...J,customer:{...J.customer,email:K.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),g.jsx("input",{type:"text",value:p.customer.phone,onChange:K=>w(J=>({...J,customer:{...J.customer,phone:K.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number"}),g.jsx("input",{type:"text",value:p.customer.gst||"",onChange:K=>w(J=>({...J,customer:{...J.customer,gst:K.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),g.jsx("textarea",{value:p.customer.address,onChange:K=>w(J=>({...J,customer:{...J.customer,address:K.target.value}})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invoice Items"}),g.jsxs("button",{onClick:M,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GST %"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.items?.map((K,J)=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("input",{type:"text",value:K.description,onChange:O=>k(J,"description",O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Item description"})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("input",{type:"number",value:K.quantity,onChange:O=>k(J,"quantity",Number(O.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1"})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("input",{type:"number",value:K.rate,onChange:O=>k(J,"rate",Number(O.target.value)),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",step:"0.01"})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("input",{type:"number",value:K.gstRate,onChange:O=>k(J,"gstRate",Number(O.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",max:"100"})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",K.amount.toFixed(2)]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.items&&p.items.length>1&&g.jsx("button",{onClick:()=>D(J),className:"text-red-600 hover:text-red-900 transition-colors",children:g.jsx(Lu,{className:"w-4 h-4"})})})]},K.id))})]})})]}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"w-72 space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),g.jsxs("span",{className:"font-medium",children:["₹",p.subtotal?.toFixed(2)||"0.00"]})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600",children:"Total GST:"}),g.jsxs("span",{className:"font-medium",children:["₹",p.totalGst?.toFixed(2)||"0.00"]})]}),g.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[g.jsx("span",{children:"Total:"}),g.jsxs("span",{children:["₹",p.total?.toFixed(2)||"0.00"]})]})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),g.jsx("textarea",{value:p.notes||"",onChange:K=>w(J=>({...J,notes:K.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Additional notes or terms..."})]})]})]})},Lj=()=>{const[r,e]=Se.useState("list"),[t,n]=Se.useState(),i=()=>{n(void 0),e("form")},s=d=>{n(d),e("form")},a=d=>{n(d),e("view")},l=()=>{e("list"),n(void 0)},u=()=>{e("list"),n(void 0)};return r==="form"?g.jsx(Vx,{invoice:t,onSave:l,onCancel:u}):r==="view"?g.jsx(Vx,{invoice:t,onSave:l,onCancel:u}):g.jsx(aP,{onNew:i,onEdit:s,onView:a})},Qj=()=>{const{currentUser:r}=ds(),[e,t]=Se.useState([]),[n,i]=Se.useState(!0),[s,a]=Se.useState(!1),[l,u]=Se.useState(null),[d,p]=Se.useState({name:"",address:"",phone:"",email:"",gst:""});Se.useEffect(()=>{w()},[]);const w=async()=>{try{const k=hr(Et,`users/${r?.uid}/customers`),D=(await dn(k)).docs.map(q=>({id:q.id,...q.data()}));t(D)}catch(k){console.error("Error fetching customers:",k)}finally{i(!1)}},B=async k=>{k.preventDefault();try{l?await Da(zr(Et,`users/${r?.uid}/customers`,l.id),d):await Al(hr(Et,`users/${r?.uid}/customers`),d),await w(),a(!1),u(null),p({name:"",address:"",phone:"",email:"",gst:""})}catch(M){console.error("Error saving customer:",M)}},y=k=>{u(k),p(k),a(!0)},U=async k=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await Sc(zr(Et,`users/${r?.uid}/customers`,k)),t(e.filter(M=>M.id!==k))}catch(M){console.error("Error deleting customer:",M)}},Q=()=>{a(!1),u(null),p({name:"",address:"",phone:"",email:"",gst:""})};return n?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),g.jsx("p",{className:"text-gray-600",children:"Manage your customer database"})]}),g.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),s&&g.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:l?"Edit Customer":"Add New Customer"}),g.jsxs("form",{onSubmit:B,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),g.jsx("input",{type:"text",required:!0,value:d.name,onChange:k=>p({...d,name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),g.jsx("input",{type:"email",required:!0,value:d.email,onChange:k=>p({...d,email:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),g.jsx("input",{type:"text",required:!0,value:d.phone,onChange:k=>p({...d,phone:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number"}),g.jsx("input",{type:"text",value:d.gst,onChange:k=>p({...d,gst:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),g.jsx("textarea",{required:!0,rows:3,value:d.address,onChange:k=>p({...d,address:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:Q,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Cancel"}),g.jsxs("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[l?"Update":"Add"," Customer"]})]})]})]}),e.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Pc,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No customers"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first customer."}),g.jsx("div",{className:"mt-6",children:g.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-2"}),"Add Customer"]})})]}):g.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:g.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(k=>g.jsx("li",{children:g.jsx("div",{className:"px-4 py-4 sm:px-6",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:g.jsx("span",{className:"text-white font-medium",children:k.name.charAt(0).toUpperCase()})})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("div",{className:"flex items-center",children:g.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name})}),g.jsxs("div",{className:"mt-1",children:[g.jsx("p",{className:"text-sm text-gray-500",children:k.email}),g.jsx("p",{className:"text-sm text-gray-500",children:k.phone})]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:()=>y(k),className:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:g.jsx(Pm,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>U(k.id),className:"inline-flex items-center p-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:g.jsx(Lu,{className:"w-4 h-4"})})]})]})})},k.id))})})]})},kj=()=>{const{currentUser:r}=ds(),[e,t]=Se.useState(!1),[n,i]=Se.useState(null),[s,a]=Se.useState(null),[l,u]=Se.useState({name:"",address:"",phone:"",email:"",website:"",gst:"",pan:"",logoUrl:"",logoBase64:"",invoicePrefix:"",bankName:"",accountNumber:"",ifscCode:"",branchName:""}),[d,p]=Se.useState([]),[w,B]=Se.useState(""),[y,U]=Se.useState([]),[Q,k]=Se.useState(""),[M,D]=Se.useState("#000000"),[q,ee]=Se.useState("leads");Se.useEffect(()=>{K(),r?.uid&&(j(),S())},[r]);const K=async()=>{try{const ae=hr(Et,`users/${r?.uid}/settings`),ue=await dn(ae);if(!ue.empty){const se=ue.docs[0].data();u(se),i(ue.docs[0].id)}}catch(ae){console.error("Error fetching settings:",ae)}},J=ae=>new Promise((ue,se)=>{const ce=new FileReader;ce.readAsDataURL(ae),ce.onload=()=>ue(ce.result),ce.onerror=fe=>se(fe)}),O=async ae=>{const ue=P6(H6,`logos/${r?.uid}/${ae.name}`);await Q6(ue,ae);const se=await k6(ue),ce=await J(ae);return{url:se,base64:ce}},C=async ae=>{ae.preventDefault(),t(!0);try{let ue=l.logoUrl,se=l.logoBase64;if(s){const fe=await O(s);ue=fe.url,se=fe.base64}const ce={...l,logoUrl:ue,logoBase64:se};if(!r?.uid){console.error("Error saving settings: User not logged in (UID is null)."),alert("Error saving settings: You must be logged in."),t(!1);return}if(n)await Da(zr(Et,`users/${r.uid}/settings`,n),ce);else{const fe=await Al(hr(Et,`users/${r.uid}/settings`),ce);i(fe.id)}u({...ce}),a(null),alert("Invoice Settings saved successfully!")}catch(ue){console.error("Detailed Error saving settings:",ue),alert(`Error saving settings: ${ue.message||"Please try again."}`)}finally{t(!1)}},I=ae=>{ae.target.files&&ae.target.files[0]&&a(ae.target.files[0])},j=async()=>{if(r?.uid)try{const ae=hr(Et,`users/${r.uid}/service_options`),ue=ka(ae,ea("createdAt","asc")),ce=(await dn(ue)).docs.map(fe=>({id:fe.id,...fe.data()}));p(ce)}catch(ae){console.error("Error fetching service options:",ae)}},N=async()=>{if(!(!r?.uid||!w.trim())){t(!0);try{await Al(hr(Et,`users/${r.uid}/service_options`),{name:w.trim(),createdAt:new Date().toISOString()}),B(""),j()}catch(ae){console.error("Error adding service:",ae),alert("Failed to add service.")}finally{t(!1)}}},T=async ae=>{if(!(!r?.uid||!window.confirm("Are you sure you want to delete this service? This cannot be undone."))){t(!0);try{await Sc(zr(Et,`users/${r.uid}/service_options`,ae)),j()}catch(ue){console.error("Error deleting service:",ue),alert("Failed to delete service.")}finally{t(!1)}}},S=async()=>{if(r?.uid)try{const ae=hr(Et,`users/${r.uid}/status_options`),ue=ka(ae,ea("order","asc"),ea("createdAt","asc")),ce=(await dn(ue)).docs.map(fe=>({id:fe.id,...fe.data()}));U(ce)}catch(ae){console.error("Error fetching status options:",ae),U([{id:"default_created",name:kd.CREATED,order:1,isDefault:!0,color:"#2563EB"},{id:"default_followup",name:kd.FOLLOWUP,order:2,color:"#FBBF24"},{id:"default_client",name:kd.CLIENT,order:3,color:"#10B981"},{id:"default_rejected",name:kd.REJECTED,order:4,color:"#EF4444"}])}},te=async()=>{if(!(!r?.uid||!Q.trim())){t(!0);try{const ae=y.reduce((ue,se)=>Math.max(ue,se.order||0),0);await Al(hr(Et,`users/${r.uid}/status_options`),{name:Q.trim(),order:ae+1,color:M,createdAt:new Date().toISOString()}),k(""),D("#000000"),S()}catch(ae){console.error("Error adding status:",ae),alert("Failed to add status.")}finally{t(!1)}}},Be=async ae=>{if(!(!r?.uid||!window.confirm("Are you sure you want to delete this status?"))){t(!0);try{await Sc(zr(Et,`users/${r.uid}/status_options`,ae)),S()}catch(ue){console.error("Error deleting status:",ue),alert("Failed to delete status.")}finally{t(!1)}}};return g.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row",children:[" ",g.jsxs("div",{className:"w-full md:w-56 bg-white shadow-lg rounded-lg p-4 mb-6 md:mb-0 md:mr-6",children:[" ",g.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Settings"}),g.jsxs("ul",{children:[g.jsx("li",{className:"mb-2",children:g.jsxs("button",{type:"button",onClick:()=>ee("leads"),className:`flex items-center w-full px-3 py-2 rounded-md text-left font-medium transition-colors ${q==="leads"?"bg-secondary text-primary":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:[g.jsx(uv,{className:"w-5 h-5 mr-3"}),"Lead Settings"]})}),g.jsx("li",{children:g.jsxs("button",{type:"button",onClick:()=>ee("invoice"),className:`flex items-center w-full px-3 py-2 rounded-md text-left font-medium transition-colors ${q==="invoice"?"bg-secondary text-primary":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:[g.jsx(vf,{className:"w-5 h-5 mr-3"}),"Invoice Settings"]})})]})]}),g.jsxs("div",{className:"flex-1 bg-white shadow-lg rounded-lg overflow-hidden",children:[q==="leads"&&g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[g.jsx(uv,{className:"w-6 h-6 mr-2"}),"Lead Settings"]}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Configure options for your leads management"}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[g.jsx(Co,{className:"w-5 h-5 mr-2 text-primary"})," Manage Services "]}),g.jsxs("div",{className:"flex space-x-2 mb-4",children:[g.jsx("input",{type:"text",placeholder:"New service name",value:w,onChange:ae=>B(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-accent focus:border-accent"}),g.jsxs("button",{type:"button",onClick:N,disabled:e||!w.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-gray-800 disabled:opacity-50",children:[" ","Add"]})]}),g.jsxs("ul",{className:"divide-y divide-gray-200",children:[d.map(ae=>g.jsxs("li",{className:"flex items-center justify-between py-2 text-sm text-gray-800",children:[g.jsx("span",{children:ae.name}),g.jsx("button",{type:"button",onClick:()=>T(ae.id),disabled:e,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:g.jsx(Lu,{className:"w-4 h-4"})})]},ae.id)),d.length===0&&g.jsx("li",{className:"py-2 text-sm text-gray-500",children:"No custom services."})]})]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[g.jsx(Co,{className:"w-5 h-5 mr-2 text-primary"})," Manage Lead Statuses "]}),g.jsxs("div",{className:"flex space-x-2 mb-4",children:[g.jsx("input",{type:"text",placeholder:"New status name",value:Q,onChange:ae=>k(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-accent focus:border-accent"}),g.jsx("input",{type:"color",value:M,onChange:ae=>D(ae.target.value),className:"w-10 h-9 border border-gray-300 rounded-md shadow-sm cursor-pointer",title:"Choose status color"}),g.jsxs("button",{type:"button",onClick:te,disabled:e||!Q.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-gray-800 disabled:opacity-50",children:[" ","Add"]})]}),g.jsxs("ul",{className:"divide-y divide-gray-200",children:[y.map(ae=>g.jsxs("li",{className:"flex items-center justify-between py-2 text-sm text-gray-800",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:ae.color||"#9E9E9E"}}),g.jsxs("span",{children:[ae.name," (Order: ",ae.order,")"]})]}),g.jsx("button",{type:"button",onClick:()=>Be(ae.id),disabled:e,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:g.jsx(Lu,{className:"w-4 h-4"})})]},ae.id)),y.length===0&&g.jsx("li",{className:"py-2 text-sm text-gray-500",children:"No custom statuses."})]})]})]}),q==="invoice"&&g.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[g.jsx(vf,{className:"w-6 h-6 mr-2"}),"Invoice Settings"]}),g.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your company information for invoices"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Logo"}),g.jsxs("div",{className:"flex items-center space-x-4",children:[(l.logoUrl||l.logoBase64)&&g.jsx("img",{src:l.logoUrl||l.logoBase64,alt:"Company Logo",className:"h-16 w-16 object-contain border border-gray-200 rounded"}),g.jsxs("div",{children:[g.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden",id:"logo-upload"}),g.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer transition-colors",children:[g.jsx(ry,{className:"w-4 h-4 mr-2"})," Upload Logo"]}),s&&g.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Selected: ",s.name]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),g.jsx("input",{type:"text",required:!0,value:l.name,onChange:ae=>u({...l,name:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),g.jsx("input",{type:"email",required:!0,value:l.email,onChange:ae=>u({...l,email:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),g.jsx("input",{type:"text",required:!0,value:l.phone,onChange:ae=>u({...l,phone:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),g.jsx("input",{type:"url",value:l.website,onChange:ae=>u({...l,website:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number *"}),g.jsx("input",{type:"text",required:!0,value:l.gst,onChange:ae=>u({...l,gst:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN Number *"}),g.jsx("input",{type:"text",required:!0,value:l.pan,onChange:ae=>u({...l,pan:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Prefix (e.g., VRI)"}),g.jsx("input",{type:"text",value:l.invoicePrefix||"",onChange:ae=>u({...l,invoicePrefix:ae.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent",maxLength:5})," "]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),g.jsx("textarea",{required:!0,rows:3,value:l.address,onChange:ae=>u({...l,address:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bank Account Details"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),g.jsx("input",{type:"text",value:l.bankName||"",onChange:ae=>u(ue=>({...ue,bankName:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),g.jsx("input",{type:"text",value:l.accountNumber||"",onChange:ae=>u(ue=>({...ue,accountNumber:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IFSC Code"}),g.jsx("input",{type:"text",value:l.ifscCode||"",onChange:ae=>u(ue=>({...ue,ifscCode:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Name"}),g.jsx("input",{type:"text",value:l.branchName||"",onChange:ae=>u(ue=>({...ue,branchName:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-accent focus:border-accent"})," "]})]})]}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("button",{type:"submit",disabled:e,className:"inline-flex items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-gray-800 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:[" ",g.jsx(ty,{className:"w-4 h-4 mr-2"})," ",e?"Saving...":"Save Invoice Settings"]})})]})]})]})},Pj=()=>{const{currentUser:r}=ds(),e=zh(),[t,n]=Se.useState([]),[i,s]=Se.useState(!0),[a,l]=Se.useState(0),[u,d]=Se.useState(0),[p,w]=Se.useState(0),[B,y]=Se.useState(0);Se.useEffect(()=>{r?.uid&&U()},[r]);const U=async()=>{s(!0);try{const q=hr(Et,`users/${r?.uid}/invoices`),K=(await dn(q)).docs.map(J=>({id:J.id,...J.data()}));K.sort((J,O)=>new Date(O.createdAt).getTime()-new Date(J.createdAt).getTime()),n(K),Q(K)}catch(q){console.error("Error fetching dashboard data:",q)}finally{s(!1)}},Q=q=>{let ee=0,K=0,J=0,O=0;q.forEach(C=>{(C.status==="sent"||C.status==="paid")&&ee++,K+=C.total,C.status==="paid"?J+=C.total:O+=C.total}),l(ee),d(K),w(J),y(O)},k=async(q,ee)=>{if(r?.uid)try{await Da(zr(Et,`users/${r.uid}/invoices`,q),{status:ee,updatedAt:new Date().toISOString()}),U(),alert(`Invoice status updated to: ${ee.toUpperCase()}`)}catch(K){console.error("Error updating invoice status:",K),alert("Failed to update status. Please try again.")}},M=q=>{e(`/invoices?view=${q}`)};if(i)return g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const D=q=>{switch(q){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"paid":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),g.jsx("p",{className:"text-gray-600",children:"Overview of your invoices"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Invoices Sent"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:a})]}),g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Invoice Amount"}),g.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["₹",u.toFixed(2)]})]}),g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Received"}),g.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:["₹",p.toFixed(2)]})]}),g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Pending"}),g.jsxs("p",{className:"text-2xl font-bold text-red-600 mt-1",children:["₹",B.toFixed(2)]})]})]}),g.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[g.jsx("div",{className:"px-4 py-4 sm:px-6 border-b border-gray-200",children:g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Invoices"})}),t.length===0?g.jsx("div",{className:"text-center py-8 text-gray-500",children:"No invoices found."}):g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S.No"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice Number"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client Name"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mobile Number"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice Amount"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((q,ee)=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ee+1}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:q.invoiceNumber}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.customer.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.customer.phone}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",q.total.toFixed(2)]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:g.jsxs("select",{value:q.status,onChange:K=>k(q.id,K.target.value),className:`px-2 py-1 text-xs font-medium rounded-full ${D(q.status)}`,children:[g.jsx("option",{value:"draft",children:"Draft"}),g.jsx("option",{value:"sent",children:"Sent"}),g.jsx("option",{value:"paid",children:"Paid"})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:g.jsx("div",{className:"flex space-x-2",children:g.jsx("button",{onClick:()=>M(q.id),className:"text-indigo-600 hover:text-indigo-900",children:g.jsx(wf,{className:"w-4 h-4"})})})})]},q.id))})]})})]})]})},Rj=({onEdit:r,onNew:e})=>{const{currentUser:t}=ds(),[n,i]=Se.useState([]),[s,a]=Se.useState(!0),[l,u]=Se.useState(""),[d,p]=Se.useState(""),[w,B]=Se.useState(""),[y,U]=Se.useState(""),[Q,k]=Se.useState(""),[M,D]=Se.useState([]),[q,ee]=Se.useState([]);Se.useEffect(()=>{t?.uid&&(K(),J(),O())},[t]);const K=async()=>{a(!0);try{const S=hr(Et,`users/${t?.uid}/leads`),te=ka(S,ea("createdAt","desc")),ae=(await dn(te)).docs.map(ue=>({id:ue.id,...ue.data(),services:Array.isArray(ue.data().services)?ue.data().services:[],notes:ue.data().notes||"",lastFollowUpDate:ue.data().lastFollowUpDate||""}));i(ae)}catch(S){console.error("Error fetching leads:",S)}finally{a(!1)}},J=async()=>{if(t?.uid)try{const S=hr(Et,`users/${t.uid}/status_options`),te=ka(S,ea("order","asc"),ea("createdAt","asc")),ae=(await dn(te)).docs.map(ue=>({id:ue.id,...ue.data()}));D(ae)}catch(S){console.error("Error fetching available statuses:",S),D([{id:"default_created",name:"Created",order:1,isDefault:!0,color:"#2563EB"},{id:"default_followup",name:"Followup",order:2,color:"#FBBF24"},{id:"default_client",name:"Client",order:3,color:"#10B981"},{id:"default_rejected",name:"Rejected",order:4,color:"#EF4444"}])}},O=async()=>{if(t?.uid)try{const S=hr(Et,`users/${t.uid}/service_options`),te=ka(S,ea("createdAt","asc")),ae=(await dn(te)).docs.map(ue=>({id:ue.id,name:ue.data().name}));ee(ae)}catch(S){console.error("Error fetching available services for filter:",S),ee([{id:"seo",name:"SEO"},{id:"ppc",name:"PPC"},{id:"smm",name:"Social Media Marketing"},{id:"other",name:"Other"}])}},C=async S=>{if(window.confirm("Are you sure you want to delete this lead?")&&t?.uid)try{await Sc(zr(Et,`users/${t.uid}/leads`,S)),i(te=>te.filter(Be=>Be.id!==S))}catch(te){console.error("Error deleting lead:",te)}},I=async(S,te)=>{if(t?.uid)try{await Da(zr(Et,`users/${t.uid}/leads`,S),{leadStatus:te,updatedAt:Ir.now()}),i(Be=>Be.map(ae=>ae.id===S?{...ae,leadStatus:te}:ae))}catch(Be){console.error("Error updating lead status:",Be)}},j=async(S,te)=>{if(!(!t?.uid||!te))try{const Be=zr(Et,`users/${t.uid}/leads`,S);await Da(Be,{lastFollowUpDate:te,updatedAt:Ir.now()}),i(ae=>ae.map(ue=>ue.id===S?{...ue,lastFollowUpDate:te}:ue))}catch(Be){console.error("Error updating follow-up date:",Be)}},N=S=>{const te=M.find(Be=>Be.name===S);return te?`bg-[${te.color}] text-white`:"bg-gray-200 text-gray-800"},T=n.filter(S=>{const te=l.toLowerCase(),Be=l===""||S.name.toLowerCase().includes(te)||S.emailAddress.toLowerCase().includes(te)||S.mobileNumber.includes(l)||S.notes&&S.notes.toLowerCase().includes(te),ae=d===""||S.leadDate===d,ue=w===""||S.leadStatus===w,se=y===""||S.services.includes(y),ce=Q===""||S.lastFollowUpDate===Q;return Be&&ae&&ue&&se&&ce});return s?g.jsx("div",{className:"text-center py-8",children:"Loading leads..."}):g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Leads List"}),g.jsxs("button",{onClick:e,className:"flex items-center px-4 py-2 bg-primary text-white rounded-md shadow-sm hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent",children:[g.jsx(Y6,{className:"mr-2 h-5 w-5"}),"Create New Lead"]})]}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"searchLeads",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Leads"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",id:"searchLeads",placeholder:"Search by name, email, mobile, notes...",value:l,onChange:S=>u(S.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md"}),g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(zb,{className:"h-5 w-5 text-gray-400"})})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Lead Date"}),g.jsx("input",{type:"date",id:"filterDate",value:d,onChange:S=>p(S.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"filterStatus",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Status"}),g.jsxs("select",{id:"filterStatus",value:w,onChange:S=>B(S.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",children:[g.jsx("option",{value:"",children:"All Statuses"}),M.map(S=>g.jsx("option",{value:S.name,children:S.name},S.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"filterService",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Service"}),g.jsxs("select",{id:"filterService",value:y,onChange:S=>U(S.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",children:[g.jsx("option",{value:"",children:"All Services"}),q.map(S=>g.jsx("option",{value:S.name,children:S.name},S.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"filterFollowupDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Followup Date"}),g.jsx("input",{type:"date",id:"filterFollowupDate",value:Q,onChange:S=>k(S.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sr.No"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Date"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mobile Number"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email Address"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Services"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[150px]",children:"Lead Status"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recent Followup Date"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:10,className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-500",children:"No leads found."})}):T.map((S,te)=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te+1}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.leadDate?Qu(new Date(S.leadDate),"MMM dd, yyyy"):""}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.mobileNumber}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.emailAddress}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.services.join(", ")}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm min-w-[150px]",children:g.jsx("select",{value:S.leadStatus,onChange:Be=>I(S.id,Be.target.value),className:`block py-1 px-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-accent focus:border-accent sm:text-sm ${N(S.leadStatus)}`,style:{backgroundColor:M.find(Be=>Be.name===S.leadStatus)?.color||"transparent"},children:M.map(Be=>g.jsx("option",{value:Be.name,style:{backgroundColor:"#ffffff",color:"#000000"},children:Be.name},Be.id))})}),g.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",title:S.notes,children:S.notes||"N/A"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsx("input",{type:"date",value:S.lastFollowUpDate||"",onChange:Be=>j(S.id,Be.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 focus:outline-none focus:ring-accent focus:border-accent sm:text-sm"})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[g.jsx("button",{onClick:()=>r(S),className:"text-accent hover:text-blue-900 mr-3",title:"Edit Lead",children:g.jsx(Pm,{className:"h-5 w-5"})}),g.jsx("button",{onClick:()=>C(S.id),className:"text-red-600 hover:text-red-900",title:"Delete Lead",children:g.jsx(Lu,{className:"h-5 w-5"})})]})]},S.id))})]})})]})},Dj=({currentLead:r,onSave:e,onCancel:t})=>{const{currentUser:n}=ds(),[i,s]=Se.useState({}),[a,l]=Se.useState(!1),[u,d]=Se.useState(null),[p,w]=Se.useState([]),[B,y]=Se.useState([]);Se.useEffect(()=>{s(r||{leadDate:new Date().toISOString().split("T")[0],name:"",mobileNumber:"",emailAddress:"",services:[],leadStatus:"",notes:"",lastFollowUpDate:""})},[r]),Se.useEffect(()=>{n?.uid&&(U(),Q())},[n]);const U=async()=>{if(n?.uid)try{const ee=hr(Et,`users/${n.uid}/service_options`),K=ka(ee,ea("createdAt","asc")),O=(await dn(K)).docs.map(C=>({id:C.id,name:C.data().name}));w(O)}catch(ee){console.error("Error fetching available services:",ee),d("Failed to load services.")}},Q=async()=>{if(n?.uid)try{const ee=hr(Et,`users/${n.uid}/status_options`),K=ka(ee,ea("order","asc"),ea("createdAt","asc")),O=(await dn(K)).docs.map(C=>({id:C.id,...C.data()}));if(y(O),!r&&O.length>0){const C=O.find(I=>I.isDefault)||O[0];s(I=>({...I,leadStatus:C.name}))}}catch(ee){console.error("Error fetching available statuses:",ee),d("Failed to load statuses.")}},k=ee=>{const{name:K,value:J}=ee.target;s(O=>({...O,[K]:J}))},M=ee=>{const{value:K,checked:J}=ee.target,O=i.services||[],C=J?[...O,K]:O.filter(I=>I!==K);s(I=>({...I,services:C}))},D=()=>!i.name||!i.mobileNumber||!i.emailAddress||!i.services||i.services.length===0||!i.leadStatus?(d("Please fill in all required fields."),!1):(d(null),!0),q=async ee=>{if(ee.preventDefault(),!n?.uid||!D())return;l(!0);const K={...i,userId:n.uid,updatedAt:Ir.now()};try{r?.id?await Da(zr(Et,`users/${n.uid}/leads`,r.id),K):await Al(hr(Et,`users/${n.uid}/leads`),{...K,createdAt:Ir.now()}),e()}catch(J){console.error("Failed to save lead:",J),d("Failed to save lead.")}finally{l(!1)}};return g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:r?"Edit Lead":"Create New Lead"}),u&&g.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:u}),g.jsxs("form",{onSubmit:q,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"leadDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Date"}),g.jsx("input",{type:"date",id:"leadDate",name:"leadDate",value:i.leadDate||"",onChange:k,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",id:"name",name:"name",value:i.name||"",onChange:k,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"mobileNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),g.jsx("input",{type:"tel",id:"mobileNumber",name:"mobileNumber",value:i.mobileNumber||"",onChange:k,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"emailAddress",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),g.jsx("input",{type:"email",id:"emailAddress",name:"emailAddress",value:i.emailAddress||"",onChange:k,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"leadStatus",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Status"}),g.jsxs("select",{id:"leadStatus",name:"leadStatus",value:i.leadStatus||"",onChange:k,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",children:[g.jsx("option",{value:"",children:"Select Status"}),B.map(ee=>g.jsx("option",{value:ee.name,children:ee.name},ee.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"lastFollowUpDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Recent Follow-up"}),g.jsx("input",{type:"date",id:"lastFollowUpDate",name:"lastFollowUpDate",value:i.lastFollowUpDate||"",onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]})]}),g.jsxs("div",{children:[g.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Services"}),g.jsx("div",{className:"mt-1 grid grid-cols-2 sm:grid-cols-3 gap-2",children:p.map(ee=>g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:`service-${ee.id}`,value:ee.name,checked:i.services?.includes(ee.name)||!1,onChange:M,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),g.jsx("label",{htmlFor:`service-${ee.id}`,className:"ml-2 text-sm text-gray-700",children:ee.name})]},ee.id))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),g.jsx("textarea",{id:"notes",name:"notes",value:i.notes||"",onChange:k,rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsxs("button",{type:"button",onClick:t,disabled:a,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[g.jsx(Rm,{className:"mr-2 h-5 w-5"})," Cancel"]}),g.jsxs("button",{type:"submit",disabled:a,className:"flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[g.jsx(ty,{className:"mr-2 h-5 w-5"})," ",a?"Saving...":r?"Update Lead":"Create Lead"]})]})]})]})};var bg={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Oj=bg.exports,Kx;function Mj(){return Kx||(Kx=1,function(r,e){((t,n)=>{r.exports=n()})(Oj,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,l={},u=0,d={};function p(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(I){var j=K(I);j.chunkSize=parseInt(j.chunkSize),I.step||I.chunk||(j.chunkSize=null),this._handle=new Q(j),(this._handle.streamer=this)._config=j}).call(this,C),this.parseChunk=function(I,j){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let S=this._config.newline;S||(T=this._config.quoteChar||'"',S=this._handle.guessLineEndings(I,T)),I=[...I.split(S).slice(N)].join(S)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(I))!==void 0&&(I=T),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+I,T=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(I=T.meta.cursor,N=(this._finished||(this._partialLine=N.substring(I-this._baseIndex),this._baseIndex=I),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:T,workerId:d.WORKER_ID,finished:N});else if(O(this._config.chunk)&&!j){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!N||!O(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(I){O(this._config.error)?this._config.error(I):a&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:I,finished:!1})}}function w(C){var I;(C=C||{}).chunkSize||(C.chunkSize=d.RemoteChunkSize),p.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(I=new XMLHttpRequest,this._config.withCredentials&&(I.withCredentials=this._config.withCredentials),s||(I.onload=J(this._chunkLoaded,this),I.onerror=J(this._chunkError,this)),I.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var j,N=this._config.downloadRequestHeaders;for(j in N)I.setRequestHeader(j,N[j])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,I.setRequestHeader("Range","bytes="+this._start+"-"+T));try{I.send(this._config.downloadRequestBody)}catch(S){this._chunkError(S.message)}s&&I.status===0&&this._chunkError()}},this._chunkLoaded=function(){I.readyState===4&&(I.status<200||400<=I.status?this._chunkError():(this._start+=this._config.chunkSize||I.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(I),this.parseChunk(I.responseText)))},this._chunkError=function(j){j=I.statusText||j,this._sendError(new Error(j))}}function B(C){(C=C||{}).chunkSize||(C.chunkSize=d.LocalChunkSize),p.call(this,C);var I,j,N=typeof FileReader<"u";this.stream=function(T){this._input=T,j=T.slice||T.webkitSlice||T.mozSlice,N?((I=new FileReader).onload=J(this._chunkLoaded,this),I.onerror=J(this._chunkError,this)):I=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,S=(this._config.chunkSize&&(S=Math.min(this._start+this._config.chunkSize,this._input.size),T=j.call(T,this._start,S)),I.readAsText(T,this._config.encoding));N||this._chunkLoaded({target:{result:S}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(I.error)}}function y(C){var I;p.call(this,C=C||{}),this.stream=function(j){return I=j,this._nextChunk()},this._nextChunk=function(){var j,N;if(!this._finished)return j=this._config.chunkSize,I=j?(N=I.substring(0,j),I.substring(j)):(N=I,""),this._finished=!I,this.parseChunk(N)}}function U(C){p.call(this,C=C||{});var I=[],j=!0,N=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&I.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),I.length?this.parseChunk(I.shift()):j=!0},this._streamData=J(function(T){try{I.push(typeof T=="string"?T:T.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(I.shift()))}catch(S){this._streamError(S)}},this),this._streamError=J(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=J(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Q(C){var I,j,N,T,S=Math.pow(2,53),te=-S,Be=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ue=this,se=0,ce=0,fe=!1,ie=!1,R=[],z={data:[],errors:[],meta:{}};function re(ge){return C.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function oe(){if(z&&N&&(xe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),N=!1),C.skipEmptyLines&&(z.data=z.data.filter(function(ke){return!re(ke)})),de()){let ke=function(Xe,$e){O(C.transformHeader)&&(Xe=C.transformHeader(Xe,$e)),R.push(Xe)};if(z)if(Array.isArray(z.data[0])){for(var ge=0;de()&&ge<z.data.length;ge++)z.data[ge].forEach(ke);z.data.splice(0,1)}else z.data.forEach(ke)}function Ce(ke,Xe){for(var $e=C.header?{}:[],At=0;At<ke.length;At++){var Te=At,Ae=ke[At],Ae=((bt,ze)=>(Ve=>(C.dynamicTypingFunction&&C.dynamicTyping[Ve]===void 0&&(C.dynamicTyping[Ve]=C.dynamicTypingFunction(Ve)),(C.dynamicTyping[Ve]||C.dynamicTyping)===!0))(bt)?ze==="true"||ze==="TRUE"||ze!=="false"&&ze!=="FALSE"&&((Ve=>{if(Be.test(Ve)&&(Ve=parseFloat(Ve),te<Ve&&Ve<S))return 1})(ze)?parseFloat(ze):ae.test(ze)?new Date(ze):ze===""?null:ze):ze)(Te=C.header?At>=R.length?"__parsed_extra":R[At]:Te,Ae=C.transform?C.transform(Ae,Te):Ae);Te==="__parsed_extra"?($e[Te]=$e[Te]||[],$e[Te].push(Ae)):$e[Te]=Ae}return C.header&&(At>R.length?xe("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+At,ce+Xe):At<R.length&&xe("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+At,ce+Xe)),$e}var je;z&&(C.header||C.dynamicTyping||C.transform)&&(je=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(Ce),je=z.data.length):z.data=Ce(z.data,0),C.header&&z.meta&&(z.meta.fields=R),ce+=je)}function de(){return C.header&&R.length===0}function xe(ge,Ce,je,ke){ge={type:ge,code:Ce,message:je},ke!==void 0&&(ge.row=ke),z.errors.push(ge)}O(C.step)&&(T=C.step,C.step=function(ge){z=ge,de()?oe():(oe(),z.data.length!==0&&(se+=ge.data.length,C.preview&&se>C.preview?j.abort():(z.data=z.data[0],T(z,ue))))}),this.parse=function(ge,Ce,je){var ke=C.quoteChar||'"',ke=(C.newline||(C.newline=this.guessLineEndings(ge,ke)),N=!1,C.delimiter?O(C.delimiter)&&(C.delimiter=C.delimiter(ge),z.meta.delimiter=C.delimiter):((ke=((Xe,$e,At,Te,Ae)=>{var bt,ze,Ve,et;Ae=Ae||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var nt=0;nt<Ae.length;nt++){for(var rt,wt=Ae[nt],vt=0,St=0,ct=0,yt=(Ve=void 0,new M({comments:Te,delimiter:wt,newline:$e,preview:10}).parse(Xe)),Ht=0;Ht<yt.data.length;Ht++)At&&re(yt.data[Ht])?ct++:(rt=yt.data[Ht].length,St+=rt,Ve===void 0?Ve=rt:0<rt&&(vt+=Math.abs(rt-Ve),Ve=rt));0<yt.data.length&&(St/=yt.data.length-ct),(ze===void 0||vt<=ze)&&(et===void 0||et<St)&&1.99<St&&(ze=vt,bt=wt,et=St)}return{successful:!!(C.delimiter=bt),bestDelimiter:bt}})(ge,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=ke.bestDelimiter:(N=!0,C.delimiter=d.DefaultDelimiter),z.meta.delimiter=C.delimiter),K(C));return C.preview&&C.header&&ke.preview++,I=ge,j=new M(ke),z=j.parse(I,Ce,je),oe(),fe?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return fe},this.pause=function(){fe=!0,j.abort(),I=O(C.chunk)?"":I.substring(j.getCharIndex())},this.resume=function(){ue.streamer._halted?(fe=!1,ue.streamer.parseChunk(I,!0)):setTimeout(ue.resume,3)},this.aborted=function(){return ie},this.abort=function(){ie=!0,j.abort(),z.meta.aborted=!0,O(C.complete)&&C.complete(z),I=""},this.guessLineEndings=function(Xe,ke){Xe=Xe.substring(0,1048576);var ke=new RegExp(k(ke)+"([^]*?)"+k(ke),"gm"),je=(Xe=Xe.replace(ke,"")).split("\r"),ke=Xe.split(`
`),Xe=1<ke.length&&ke[0].length<je[0].length;if(je.length===1||Xe)return`
`;for(var $e=0,At=0;At<je.length;At++)je[At][0]===`
`&&$e++;return $e>=je.length/2?`\r
`:"\r"}}function k(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(C){var I=(C=C||{}).delimiter,j=C.newline,N=C.comments,T=C.step,S=C.preview,te=C.fastMode,Be=null,ae=!1,ue=C.quoteChar==null?'"':C.quoteChar,se=ue;if(C.escapeChar!==void 0&&(se=C.escapeChar),(typeof I!="string"||-1<d.BAD_DELIMITERS.indexOf(I))&&(I=","),N===I)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<d.BAD_DELIMITERS.indexOf(N))&&(N=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var ce=0,fe=!1;this.parse=function(ie,R,z){if(typeof ie!="string")throw new Error("Input must be a string");var re=ie.length,oe=I.length,de=j.length,xe=N.length,ge=O(T),Ce=[],je=[],ke=[],Xe=ce=0;if(!ie)return vt();if(te||te!==!1&&ie.indexOf(ue)===-1){for(var $e=ie.split(j),At=0;At<$e.length;At++){if(ke=$e[At],ce+=ke.length,At!==$e.length-1)ce+=j.length;else if(z)return vt();if(!N||ke.substring(0,xe)!==N){if(ge){if(Ce=[],et(ke.split(I)),St(),fe)return vt()}else et(ke.split(I));if(S&&S<=At)return Ce=Ce.slice(0,S),vt(!0)}}return vt()}for(var Te=ie.indexOf(I,ce),Ae=ie.indexOf(j,ce),bt=new RegExp(k(se)+k(ue),"g"),ze=ie.indexOf(ue,ce);;)if(ie[ce]===ue)for(ze=ce,ce++;;){if((ze=ie.indexOf(ue,ze+1))===-1)return z||je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ce.length,index:ce}),rt();if(ze===re-1)return rt(ie.substring(ce,ze).replace(bt,ue));if(ue===se&&ie[ze+1]===se)ze++;else if(ue===se||ze===0||ie[ze-1]!==se){Te!==-1&&Te<ze+1&&(Te=ie.indexOf(I,ze+1));var Ve=nt((Ae=Ae!==-1&&Ae<ze+1?ie.indexOf(j,ze+1):Ae)===-1?Te:Math.min(Te,Ae));if(ie.substr(ze+1+Ve,oe)===I){ke.push(ie.substring(ce,ze).replace(bt,ue)),ie[ce=ze+1+Ve+oe]!==ue&&(ze=ie.indexOf(ue,ce)),Te=ie.indexOf(I,ce),Ae=ie.indexOf(j,ce);break}if(Ve=nt(Ae),ie.substring(ze+1+Ve,ze+1+Ve+de)===j){if(ke.push(ie.substring(ce,ze).replace(bt,ue)),wt(ze+1+Ve+de),Te=ie.indexOf(I,ce),ze=ie.indexOf(ue,ce),ge&&(St(),fe))return vt();if(S&&Ce.length>=S)return vt(!0);break}je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ce.length,index:ce}),ze++}}else if(N&&ke.length===0&&ie.substring(ce,ce+xe)===N){if(Ae===-1)return vt();ce=Ae+de,Ae=ie.indexOf(j,ce),Te=ie.indexOf(I,ce)}else if(Te!==-1&&(Te<Ae||Ae===-1))ke.push(ie.substring(ce,Te)),ce=Te+oe,Te=ie.indexOf(I,ce);else{if(Ae===-1)break;if(ke.push(ie.substring(ce,Ae)),wt(Ae+de),ge&&(St(),fe))return vt();if(S&&Ce.length>=S)return vt(!0)}return rt();function et(ct){Ce.push(ct),Xe=ce}function nt(ct){var yt=0;return yt=ct!==-1&&(ct=ie.substring(ze+1,ct))&&ct.trim()===""?ct.length:yt}function rt(ct){return z||(ct===void 0&&(ct=ie.substring(ce)),ke.push(ct),ce=re,et(ke),ge&&St()),vt()}function wt(ct){ce=ct,et(ke),ke=[],Ae=ie.indexOf(j,ce)}function vt(ct){if(C.header&&!R&&Ce.length&&!ae){var yt=Ce[0],Ht=Object.create(null),Ft=new Set(yt);let Dt=!1;for(let st=0;st<yt.length;st++){let ar=yt[st];if(Ht[ar=O(C.transformHeader)?C.transformHeader(ar,st):ar]){let Wt,jn=Ht[ar];for(;Wt=ar+"_"+jn,jn++,Ft.has(Wt););Ft.add(Wt),yt[st]=Wt,Ht[ar]++,Dt=!0,(Be=Be===null?{}:Be)[Wt]=ar}else Ht[ar]=1,yt[st]=ar;Ft.add(ar)}Dt&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:Ce,errors:je,meta:{delimiter:I,linebreak:j,aborted:fe,truncated:!!ct,cursor:Xe+(R||0),renamedHeaders:Be}}}function St(){T(vt()),Ce=[],je=[]}},this.abort=function(){fe=!0},this.getCharIndex=function(){return ce}}function D(C){var I=C.data,j=l[I.workerId],N=!1;if(I.error)j.userError(I.error,I.file);else if(I.results&&I.results.data){var T={abort:function(){N=!0,q(I.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ee,resume:ee};if(O(j.userStep)){for(var S=0;S<I.results.data.length&&(j.userStep({data:I.results.data[S],errors:I.results.errors,meta:I.results.meta},T),!N);S++);delete I.results}else O(j.userChunk)&&(j.userChunk(I.results,T,I.file),delete I.results)}I.finished&&!N&&q(I.workerId,I.results)}function q(C,I){var j=l[C];O(j.userComplete)&&j.userComplete(I),j.terminate(),delete l[C]}function ee(){throw new Error("Not implemented.")}function K(C){if(typeof C!="object"||C===null)return C;var I,j=Array.isArray(C)?[]:{};for(I in C)j[I]=K(C[I]);return j}function J(C,I){return function(){C.apply(I,arguments)}}function O(C){return typeof C=="function"}return d.parse=function(C,I){var j=(I=I||{}).dynamicTyping||!1;if(O(j)&&(I.dynamicTypingFunction=j,j={}),I.dynamicTyping=j,I.transform=!!O(I.transform)&&I.transform,!I.worker||!d.WORKERS_SUPPORTED)return j=null,d.NODE_STREAM_INPUT,typeof C=="string"?(C=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(C),j=new(I.download?w:y)(I)):C.readable===!0&&O(C.read)&&O(C.on)?j=new U(I):(n.File&&C instanceof File||C instanceof Object)&&(j=new B(I)),j.stream(C);(j=(()=>{var N;return!!d.WORKERS_SUPPORTED&&(N=(()=>{var T=n.URL||n.webkitURL||null,S=t.toString();return d.BLOB_URL||(d.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",S,")();"],{type:"text/javascript"})))})(),(N=new n.Worker(N)).onmessage=D,N.id=u++,l[N.id]=N)})()).userStep=I.step,j.userChunk=I.chunk,j.userComplete=I.complete,j.userError=I.error,I.step=O(I.step),I.chunk=O(I.chunk),I.complete=O(I.complete),I.error=O(I.error),delete I.worker,j.postMessage({input:C,config:I,workerId:j.id})},d.unparse=function(C,I){var j=!1,N=!0,T=",",S=`\r
`,te='"',Be=te+te,ae=!1,ue=null,se=!1,ce=((()=>{if(typeof I=="object"){if(typeof I.delimiter!="string"||d.BAD_DELIMITERS.filter(function(R){return I.delimiter.indexOf(R)!==-1}).length||(T=I.delimiter),typeof I.quotes!="boolean"&&typeof I.quotes!="function"&&!Array.isArray(I.quotes)||(j=I.quotes),typeof I.skipEmptyLines!="boolean"&&typeof I.skipEmptyLines!="string"||(ae=I.skipEmptyLines),typeof I.newline=="string"&&(S=I.newline),typeof I.quoteChar=="string"&&(te=I.quoteChar),typeof I.header=="boolean"&&(N=I.header),Array.isArray(I.columns)){if(I.columns.length===0)throw new Error("Option columns is empty");ue=I.columns}I.escapeChar!==void 0&&(Be=I.escapeChar+te),I.escapeFormulae instanceof RegExp?se=I.escapeFormulae:typeof I.escapeFormulae=="boolean"&&I.escapeFormulae&&(se=/^[=+\-@\t\r].*$/)}})(),new RegExp(k(te),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return fe(null,C,ae);if(typeof C[0]=="object")return fe(ue||Object.keys(C[0]),C,ae)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||ue),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),fe(C.fields||[],C.data||[],ae);throw new Error("Unable to serialize unrecognized input");function fe(R,z,re){var oe="",de=(typeof R=="string"&&(R=JSON.parse(R)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(R)&&0<R.length),xe=!Array.isArray(z[0]);if(de&&N){for(var ge=0;ge<R.length;ge++)0<ge&&(oe+=T),oe+=ie(R[ge],ge);0<z.length&&(oe+=S)}for(var Ce=0;Ce<z.length;Ce++){var je=(de?R:z[Ce]).length,ke=!1,Xe=de?Object.keys(z[Ce]).length===0:z[Ce].length===0;if(re&&!de&&(ke=re==="greedy"?z[Ce].join("").trim()==="":z[Ce].length===1&&z[Ce][0].length===0),re==="greedy"&&de){for(var $e=[],At=0;At<je;At++){var Te=xe?R[At]:At;$e.push(z[Ce][Te])}ke=$e.join("").trim()===""}if(!ke){for(var Ae=0;Ae<je;Ae++){0<Ae&&!Xe&&(oe+=T);var bt=de&&xe?R[Ae]:Ae;oe+=ie(z[Ce][bt],Ae)}Ce<z.length-1&&(!re||0<je&&!Xe)&&(oe+=S)}}return oe}function ie(R,z){var re,oe;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(oe=!1,se&&typeof R=="string"&&se.test(R)&&(R="'"+R,oe=!0),re=R.toString().replace(ce,Be),(oe=oe||j===!0||typeof j=="function"&&j(R,z)||Array.isArray(j)&&j[z]||((de,xe)=>{for(var ge=0;ge<xe.length;ge++)if(-1<de.indexOf(xe[ge]))return!0;return!1})(re,d.BAD_DELIMITERS)||-1<re.indexOf(T)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?te+re+te:re)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=M,d.ParserHandle=Q,d.NetworkStreamer=w,d.FileStreamer=B,d.StringStreamer=y,d.ReadableStreamStreamer=U,n.jQuery&&((i=n.jQuery).fn.parse=function(C){var I=C.config||{},j=[];return this.each(function(S){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var te=0;te<this.files.length;te++)j.push({file:this.files[te],inputElem:this,instanceConfig:i.extend({},I)})}),N(),this;function N(){if(j.length===0)O(C.complete)&&C.complete();else{var S,te,Be,ae,ue=j[0];if(O(C.before)){var se=C.before(ue.file,ue.inputElem);if(typeof se=="object"){if(se.action==="abort")return S="AbortError",te=ue.file,Be=ue.inputElem,ae=se.reason,void(O(C.error)&&C.error({name:S},te,Be,ae));if(se.action==="skip")return void T();typeof se.config=="object"&&(ue.instanceConfig=i.extend(ue.instanceConfig,se.config))}else if(se==="skip")return void T()}var ce=ue.instanceConfig.complete;ue.instanceConfig.complete=function(fe){O(ce)&&ce(fe,ue.file,ue.inputElem),T()},d.parse(ue.file,ue.instanceConfig)}}function T(){j.splice(0,1),N()}}),a&&(n.onmessage=function(C){C=C.data,d.WORKER_ID===void 0&&C&&(d.WORKER_ID=C.workerId),typeof C.input=="string"?n.postMessage({workerId:d.WORKER_ID,results:d.parse(C.input,C.config),finished:!0}):(n.File&&C.input instanceof File||C.input instanceof Object)&&(C=d.parse(C.input,C.config))&&n.postMessage({workerId:d.WORKER_ID,results:C,finished:!0})}),(w.prototype=Object.create(p.prototype)).constructor=w,(B.prototype=Object.create(p.prototype)).constructor=B,(y.prototype=Object.create(y.prototype)).constructor=y,(U.prototype=Object.create(p.prototype)).constructor=U,d})}(bg)),bg.exports}var jj=Mj();const Hj=qx(jj),Vj=({onClose:r,onUploadComplete:e})=>{const{currentUser:t}=ds(),[n,i]=Se.useState(null),[s,a]=Se.useState(!1),[l,u]=Se.useState(null),[d,p]=Se.useState(0),w=y=>{y.target.files&&y.target.files.length>0&&(i(y.target.files[0]),u(null),p(0))},B=async()=>{if(!n||!t){u("Please select a file and ensure you are logged in.");return}a(!0),u(null),p(0),Hj.parse(n,{header:!0,skipEmptyLines:!0,complete:async y=>{const U=y.data;if(U.length===0){u("CSV file is empty or does not contain valid data."),a(!1);return}const Q=500,k=Math.ceil(U.length/Q),M=hr(Et,`users/${t.uid}/leads`);try{for(let D=0;D<k;D++){const q=_Q(Et);U.slice(D*Q,(D+1)*Q).forEach(K=>{if(!K.name||!K.mobileNumber||!K.emailAddress){console.warn("Skipping row due to missing data:",K);return}const J={name:K.name,mobileNumber:K.mobileNumber,emailAddress:K.emailAddress,leadDate:K.leadDate||new Date().toISOString().split("T")[0],services:K.services?K.services.split(";").map(C=>C.trim()):[],leadStatus:K.leadStatus||"Created",notes:K.notes||"",lastFollowUpDate:K.lastFollowUpDate||"",createdAt:Ir.now(),updatedAt:Ir.now(),userId:t.uid},O=zr(M);q.set(O,J)}),await q.commit(),p((D+1)/k*100)}e()}catch(D){console.error("Error uploading leads in batches:",D),u("An error occurred during the upload. Some leads may not have been saved.")}finally{a(!1)}},error:y=>{u(`CSV parsing error: ${y.message}`),a(!1)}})};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Upload Leads from CSV"}),g.jsx("button",{onClick:r,disabled:s,className:"text-gray-500 hover:text-gray-800 disabled:opacity-50",children:g.jsx(Rm,{size:24})})]}),l&&g.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4 text-sm",children:l}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV File"}),g.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:w,disabled:s,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"})]}),g.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Required headers: `name, mobileNumber, emailAddress, leadDate, services, leadStatus, notes, lastFollowUpDate`."}),s&&g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:g.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${d}%`}})}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:r,disabled:s,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 disabled:opacity-50",children:"Cancel"}),g.jsx("button",{onClick:B,disabled:!n||s,className:"flex items-center justify-center w-28 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:s?"Uploading...":g.jsxs(g.Fragment,{children:[g.jsx(ry,{className:"mr-2",size:18})," Upload"]})})]})]})})},Kj=()=>{const[r,e]=Se.useState(!1),[t,n]=Se.useState(!1),[i,s]=Se.useState(null),[a,l]=Se.useState(0),u=()=>{s(null),e(!0)},d=U=>{s(U),e(!0)},p=()=>{e(!1),s(null)},w=()=>{l(U=>U+1)},B=()=>{e(!1),s(null),w()},y=()=>{n(!1),w()};return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Manage Leads"}),g.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 focus:outline-none",children:[g.jsx(ry,{className:"mr-2 h-5 w-5"}),"Upload CSV"]})]}),r&&g.jsx(Dj,{currentLead:i,onSave:B,onCancel:p}),t&&g.jsx(Vj,{onClose:()=>n(!1),onUploadComplete:y}),g.jsx("div",{className:r?"hidden":"",children:g.jsx(Rj,{onEdit:d,onNew:u},a)})]})},qj=()=>{const{hasPermission:r}=ds(),[e,t]=Se.useState(!0),[n,i]=Se.useState({totalTenants:0,activeTenants:0,trialTenants:0,expiredTenants:0,totalUsers:0,totalRevenue:0,monthlyRevenue:0,recentRegistrations:0}),[s,a]=Se.useState([]),[l,u]=Se.useState([]);Se.useEffect(()=>{r(rn.VIEW_ALL_ANALYTICS)&&d()},[r]);const d=async()=>{t(!0);try{const B=(await dn(hr(Et,"tenants"))).docs.map(S=>({id:S.id,...S.data()})),U=(await dn(hr(Et,"users"))).docs.map(S=>({id:S.id,...S.data()})),k=(await dn(hr(Et,"subscriptions"))).docs.map(S=>({id:S.id,...S.data()})),M=B.filter(S=>S.isActive).length,D=k.filter(S=>S.plan===_h.TRIAL).length,q=k.filter(S=>S.status===ls.EXPIRED).length,ee=k.filter(S=>S.status===ls.ACTIVE).reduce((S,te)=>S+te.amount,0),K=new Date().getMonth(),J=k.filter(S=>S.status===ls.ACTIVE&&S.startDate.toDate().getMonth()===K).reduce((S,te)=>S+te.amount,0),O=new Date;O.setDate(O.getDate()-7);const C=B.filter(S=>S.createdAt.toDate()>O).length;i({totalTenants:B.length,activeTenants:M,trialTenants:D,expiredTenants:q,totalUsers:U.length,totalRevenue:ee,monthlyRevenue:J,recentRegistrations:C});const I=ka(hr(Et,"tenants"),ea("createdAt","desc"),s5(5)),j=await dn(I);a(j.docs.map(S=>({id:S.id,...S.data()})));const N=ka(hr(Et,"subscriptions"),ea("createdAt","desc"),s5(5)),T=await dn(N);u(T.docs.map(S=>({id:S.id,...S.data()})))}catch(w){console.error("Error fetching analytics:",w)}finally{t(!1)}},p=w=>{switch(w){case ls.ACTIVE:return"bg-green-100 text-green-800";case ls.TRIAL:return"bg-blue-100 text-blue-800";case ls.EXPIRED:return"bg-red-100 text-red-800";case ls.SUSPENDED:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r(rn.VIEW_ALL_ANALYTICS)?e?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Super Admin Dashboard"}),g.jsx("p",{className:"text-gray-600",children:"Overview of all tenants and system analytics"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:g.jsx(xo,{className:"h-6 w-6 text-blue-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Tenants"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.totalTenants})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:g.jsx(Pc,{className:"h-6 w-6 text-green-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Tenants"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.activeTenants})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:g.jsx(p5,{className:"h-6 w-6 text-yellow-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Trial Tenants"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.trialTenants})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:g.jsx(z6,{className:"h-6 w-6 text-purple-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),g.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₹",n.totalRevenue.toLocaleString()]})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:g.jsx(Wb,{className:"h-6 w-6 text-indigo-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Monthly Revenue"}),g.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₹",n.monthlyRevenue.toLocaleString()]})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:g.jsx(mf,{className:"h-6 w-6 text-red-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Expired Tenants"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.expiredTenants})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:g.jsx($b,{className:"h-6 w-6 text-gray-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.totalUsers})]})]})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:g.jsx(p5,{className:"h-6 w-6 text-orange-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New This Week"}),g.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.recentRegistrations})]})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[g.jsx("div",{className:"p-6 border-b border-gray-200",children:g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Tenants"})}),g.jsx("div",{className:"p-6",children:g.jsx("div",{className:"space-y-4",children:s.map(w=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"h-10 w-10 bg-primary rounded-lg flex items-center justify-center",children:g.jsx(xo,{className:"h-5 w-5 text-white"})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.name}),g.jsx("p",{className:"text-xs text-gray-500",children:Qu(w.createdAt.toDate(),"MMM dd, yyyy")})]})]}),g.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"Active":"Inactive"})]},w.id))})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[g.jsx("div",{className:"p-6 border-b border-gray-200",children:g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Subscriptions"})}),g.jsx("div",{className:"p-6",children:g.jsx("div",{className:"space-y-4",children:l.map(w=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:g.jsx(Xg,{className:"h-5 w-5 text-green-600"})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900",children:ao[w.plan].name}),g.jsxs("p",{className:"text-xs text-gray-500",children:["₹",w.amount.toLocaleString()," • ",Qu(w.createdAt.toDate(),"MMM dd")]})]})]}),g.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${p(w.status)}`,children:w.status.toUpperCase()})]},w.id))})})]})]})]}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(mf,{className:"mx-auto h-12 w-12 text-red-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Access Denied"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to view analytics."})]})},Gj=()=>{const{userProfile:r,hasPermission:e}=ds(),[t,n]=Se.useState([]),[i,s]=Se.useState(!0),[a,l]=Se.useState(!1),[u,d]=Se.useState(null),[p,w]=Se.useState({name:"",domain:"",isActive:!0,allowedModules:["leads","invoices"],maxUsers:10});Se.useEffect(()=>{e(rn.MANAGE_TENANTS)&&B()},[e]);const B=async()=>{try{const D=hr(Et,"tenants"),ee=(await dn(D)).docs.map(K=>({id:K.id,...K.data()}));n(ee)}catch(D){console.error("Error fetching tenants:",D)}finally{s(!1)}},y=async D=>{D.preventDefault();try{const q={...p,settings:{allowedModules:p.allowedModules,maxUsers:p.maxUsers},createdBy:r?.uid,updatedAt:new Date};u?await Da(zr(Et,"tenants",u.id),q):await Al(hr(Et,"tenants"),{...q,createdAt:new Date}),await B(),k()}catch(q){console.error("Error saving tenant:",q)}},U=D=>{d(D),w({name:D.name,domain:D.domain||"",isActive:D.isActive,allowedModules:D.settings?.allowedModules||["leads","invoices"],maxUsers:D.settings?.maxUsers||10}),l(!0)},Q=async D=>{if(window.confirm("Are you sure you want to delete this tenant? This will affect all associated users and data."))try{await Sc(zr(Et,"tenants",D)),n(t.filter(q=>q.id!==D))}catch(q){console.error("Error deleting tenant:",q)}},k=()=>{l(!1),d(null),w({name:"",domain:"",isActive:!0,allowedModules:["leads","invoices"],maxUsers:10})},M=(D,q)=>{w(ee=>({...ee,allowedModules:q?[...ee.allowedModules,D]:ee.allowedModules.filter(K=>K!==D)}))};return e(rn.MANAGE_TENANTS)?i?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenant Management"}),g.jsx("p",{className:"text-gray-600",children:"Manage client tenants and their configurations"})]}),g.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-2"}),"Add Tenant"]})]}),a&&g.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:u?"Edit Tenant":"Add New Tenant"}),g.jsxs("form",{onSubmit:y,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant Name *"}),g.jsx("input",{type:"text",required:!0,value:p.name,onChange:D=>w({...p,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent",placeholder:"e.g., BigC, LOT"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain (Optional)"}),g.jsx("input",{type:"text",value:p.domain,onChange:D=>w({...p,domain:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent",placeholder:"e.g., bigc.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Users"}),g.jsx("input",{type:"number",min:"1",value:p.maxUsers,onChange:D=>w({...p,maxUsers:parseInt(D.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:D=>w({...p,isActive:D.target.checked}),className:"h-4 w-4 text-accent focus:ring-accent border-gray-300 rounded"}),g.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Modules"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"leads",checked:p.allowedModules.includes("leads"),onChange:D=>M("leads",D.target.checked),className:"h-4 w-4 text-accent focus:ring-accent border-gray-300 rounded"}),g.jsx("label",{htmlFor:"leads",className:"ml-2 block text-sm text-gray-900",children:"Leads Management"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"invoices",checked:p.allowedModules.includes("invoices"),onChange:D=>M("invoices",D.target.checked),className:"h-4 w-4 text-accent focus:ring-accent border-gray-300 rounded"}),g.jsx("label",{htmlFor:"invoices",className:"ml-2 block text-sm text-gray-900",children:"Invoice Management"})]})]})]}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-colors",children:"Cancel"}),g.jsxs("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-colors",children:[u?"Update":"Create"," Tenant"]})]})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(D=>g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"bg-primary p-2 rounded-lg",children:g.jsx(xo,{className:"h-6 w-6 text-white"})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:D.name}),D.domain&&g.jsx("p",{className:"text-sm text-gray-500",children:D.domain})]})]}),g.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${D.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.isActive?"Active":"Inactive"})]}),g.jsxs("div",{className:"space-y-2 mb-4",children:[g.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[g.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Max Users: ",D.settings?.maxUsers||"Unlimited"]}),g.jsxs("div",{className:"text-sm text-gray-600",children:[g.jsx("strong",{children:"Modules:"})," ",D.settings?.allowedModules?.join(", ")||"All"]})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx("button",{onClick:()=>U(D),className:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-colors",children:g.jsx(Pm,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>Q(D.id),className:"inline-flex items-center p-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:g.jsx(Lu,{className:"w-4 h-4"})})]})]},D.id))}),t.length===0&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(xo,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tenants"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first client tenant."}),g.jsx("div",{className:"mt-6",children:g.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-2"}),"Add Tenant"]})})]})]}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Vh,{className:"mx-auto h-12 w-12 text-red-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Access Denied"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to manage tenants."})]})},zj=()=>{const{userProfile:r,hasPermission:e}=ds(),[t,n]=Se.useState([]),[i,s]=Se.useState([]),[a,l]=Se.useState(!0),[u,d]=Se.useState(""),[p,w]=Se.useState(""),[B,y]=Se.useState("");Se.useEffect(()=>{e(rn.MANAGE_USERS)&&(U(),Q())},[e]);const U=async()=>{try{const K=hr(Et,"users"),O=(await dn(K)).docs.map(C=>({id:C.id,...C.data()}));n(O)}catch(K){console.error("Error fetching users:",K)}finally{l(!1)}},Q=async()=>{try{const K=hr(Et,"tenants"),O=(await dn(K)).docs.map(C=>({id:C.id,...C.data()}));s(O)}catch(K){console.error("Error fetching tenants:",K)}},k=async(K,J)=>{try{await Da(zr(Et,"users",K),{isActive:!J,updatedAt:new Date}),n(t.map(O=>O.id===K?{...O,isActive:!J}:O))}catch(O){console.error("Error updating user status:",O)}},M=async K=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await Sc(zr(Et,"users",K)),n(t.filter(J=>J.id!==K))}catch(J){console.error("Error deleting user:",J)}},D=K=>K?i.find(O=>O.id===K)?.name||"Unknown Tenant":"Agency (No Tenant)",q=K=>{switch(K){case $r.SUPER_ADMIN:return"bg-purple-100 text-purple-800";case $r.ADMIN:return"bg-blue-100 text-blue-800";case $r.EMPLOYEE:return"bg-green-100 text-green-800";case $r.CLIENT:return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},ee=t.filter(K=>{const J=u===""||K.name.toLowerCase().includes(u.toLowerCase())||K.email.toLowerCase().includes(u.toLowerCase()),O=p===""||K.role===p,C=B===""||K.tenantId===B;return J&&O&&C});return e(rn.MANAGE_USERS)?a?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),g.jsx("p",{className:"text-gray-600",children:"Manage users and their access permissions"})]}),g.jsxs(Af,{to:"/register",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent transition-colors",children:[g.jsx(Co,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Users"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",id:"search",placeholder:"Search by name or email...",value:u,onChange:K=>d(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent"}),g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(zb,{className:"h-5 w-5 text-gray-400"})})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"filterRole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Role"}),g.jsxs("select",{id:"filterRole",value:p,onChange:K=>w(K.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent",children:[g.jsx("option",{value:"",children:"All Roles"}),g.jsx("option",{value:$r.SUPER_ADMIN,children:"Super Admin"}),g.jsx("option",{value:$r.ADMIN,children:"Admin"}),g.jsx("option",{value:$r.EMPLOYEE,children:"Employee"}),g.jsx("option",{value:$r.CLIENT,children:"Client"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"filterTenant",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Tenant"}),g.jsxs("select",{id:"filterTenant",value:B,onChange:K=>y(K.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent",children:[g.jsx("option",{value:"",children:"All Tenants"}),g.jsx("option",{value:"no-tenant",children:"No Tenant (Agency)"}),i.map(K=>g.jsx("option",{value:K.id,children:K.name},K.id))]})]})]})}),g.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),g.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(K=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"h-10 w-10 rounded-full bg-primary flex items-center justify-center",children:g.jsx("span",{className:"text-white font-medium",children:K.name.charAt(0).toUpperCase()})}),g.jsxs("div",{className:"ml-4",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),g.jsx("div",{className:"text-sm text-gray-500",children:K.email})]})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${q(K.role)}`,children:K.role.replace("_"," ").toUpperCase()})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(xo,{className:"h-4 w-4 text-gray-400 mr-2"}),D(K.tenantId)]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("button",{onClick:()=>k(K.id,K.isActive),className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${K.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"} transition-colors`,children:K.isActive?"Active":"Inactive"})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastLogin?new Date(K.lastLogin.toDate()).toLocaleDateString():"Never"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:g.jsx("div",{className:"flex items-center justify-end space-x-2",children:g.jsx("button",{onClick:()=>M(K.id),disabled:K.role===$r.SUPER_ADMIN,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:K.role===$r.SUPER_ADMIN?"Cannot delete super admin":"Delete user",children:g.jsx(Lu,{className:"w-4 h-4"})})})})]},K.id))})]})}),ee.length===0&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Pc,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u||p||B?"Try adjusting your search filters.":"Get started by adding your first user."})]})]})]}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Vh,{className:"mx-auto h-12 w-12 text-red-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Access Denied"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to manage users."})]})};var Wj={};const $j=()=>{const{userProfile:r,currentTenant:e,hasPermission:t}=ds(),[n,i]=Se.useState(!1),[s,a]=Se.useState(null),[l,u]=Se.useState(null);Se.useEffect(()=>{p(),d()},[e]);const d=()=>{const U=document.createElement("script");U.src="https://checkout.razorpay.com/v1/checkout.js",U.async=!0,document.body.appendChild(U)},p=async()=>{if(e?.subscriptionId)try{const Q=(await dn(hr(Et,"subscriptions"))).docs.map(k=>({id:k.id,...k.data()})).find(k=>k.tenantId===e.id);u(Q)}catch(U){console.error("Error fetching subscription:",U)}},w=async U=>{const Q=ao[U];try{return{id:`order_${Date.now()}`,amount:Q.price*100,currency:Q.currency}}catch(k){throw console.error("Error creating Razorpay order:",k),k}},B=async U=>{if(!(!e||!r)){i(!0);try{const Q=ao[U];if(U===_h.TRIAL)await y(U,0,null,null);else{const k=await w(U),M={key:Wj.VITE_RAZORPAY_KEY_ID,amount:k.amount,currency:k.currency,name:"Agency Pro",description:`${Q.name} Subscription`,order_id:k.id,handler:async q=>{await y(U,Q.price,q.razorpay_payment_id,q.razorpay_order_id)},prefill:{name:r.name,email:r.email,contact:e.contactInfo.phone},theme:{color:"#0e2625"}};new window.Razorpay(M).open()}}catch(Q){console.error("Error processing subscription:",Q),alert("Error processing subscription. Please try again.")}finally{i(!1)}}},y=async(U,Q,k,M)=>{if(e)try{const D=new Date,q=new Date;U===_h.TRIAL?q.setDate(D.getDate()+ao[U].trialDays):q.setMonth(D.getMonth()+1);const ee={tenantId:e.id,plan:U,status:U===_h.TRIAL?ls.TRIAL:ls.ACTIVE,startDate:D,endDate:q,trialEndDate:U===_h.TRIAL?q:void 0,amount:Q,currency:"INR",autoRenew:!0,createdAt:D,updatedAt:D};k&&M&&(ee.razorpaySubscriptionId=k);const K=await Al(hr(Et,"subscriptions"),ee);await Da(zr(Et,"tenants",e.id),{subscriptionId:K.id,updatedAt:D}),k&&M&&await Al(hr(Et,"payments"),{tenantId:e.id,subscriptionId:K.id,razorpayPaymentId:k,razorpayOrderId:M,amount:Q,currency:"INR",status:"completed",paymentDate:D,createdAt:D}),alert("Subscription activated successfully!"),await p()}catch(D){throw console.error("Error creating subscription:",D),D}};return t(rn.MANAGE_TENANT_SETTINGS)?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Subscription Management"}),g.jsx("p",{className:"text-gray-600",children:"Choose the perfect plan for your agency"})]}),l&&g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Subscription"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-900",children:ao[l.plan].name}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",l.status.toUpperCase()]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Expires: ",l.endDate.toDate().toLocaleDateString()]})]}),g.jsx("div",{className:"text-right",children:g.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₹",l.amount.toLocaleString(),"/month"]})})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Object.values(ao).map(U=>g.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 p-6 ${l?.plan===U.id?"border-primary":"border-gray-200 hover:border-gray-300"} transition-colors`,children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:U.name}),g.jsxs("div",{className:"mt-4",children:[g.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["₹",U.price.toLocaleString()]}),U.price>0&&g.jsx("span",{className:"text-gray-500",children:"/month"})]}),U.trialDays>0&&g.jsxs("p",{className:"text-sm text-green-600 mt-2",children:[U.trialDays," days free trial"]})]}),g.jsx("ul",{className:"mt-6 space-y-3",children:U.features.map((Q,k)=>g.jsxs("li",{className:"flex items-center",children:[g.jsx(G6,{className:"h-4 w-4 text-green-500 mr-2"}),g.jsx("span",{className:"text-sm text-gray-600",children:Q})]},k))}),g.jsx("div",{className:"mt-6",children:l?.plan===U.id?g.jsx("button",{disabled:!0,className:"w-full py-2 px-4 border border-gray-300 rounded-md text-sm font-medium text-gray-500 bg-gray-100 cursor-not-allowed",children:"Current Plan"}):g.jsx("button",{onClick:()=>B(U.id),disabled:n,className:"w-full py-2 px-4 border border-transparent rounded-md text-sm font-medium text-white bg-primary hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Processing...":U.price===0?"Start Trial":"Subscribe"})})]},U.id))}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Plan Comparison"}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Feature"}),Object.values(ao).map(U=>g.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:U.name},U.id))]})}),g.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Max Users"}),Object.values(ao).map(U=>g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:U.maxUsers===-1?"Unlimited":U.maxUsers},U.id))]}),g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Max Leads"}),Object.values(ao).map(U=>g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:U.maxLeads===-1?"Unlimited":U.maxLeads.toLocaleString()},U.id))]}),g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Max Invoices"}),Object.values(ao).map(U=>g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:U.maxInvoices===-1?"Unlimited":U.maxInvoices.toLocaleString()},U.id))]})]})]})})]})]}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Rm,{className:"mx-auto h-12 w-12 text-red-400"}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Access Denied"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to manage subscriptions."})]})};function Xj(){return g.jsx(V6,{children:g.jsx(lS,{children:g.jsx("div",{className:"min-h-screen bg-gray-50",children:g.jsxs(tS,{children:[g.jsx(YA,{path:"/login",element:g.jsx(Z6,{})}),g.jsx(YA,{path:"/register",element:g.jsx(Zo,{requiredPermission:rn.MANAGE_TENANT_USERS,children:g.jsx(ek,{})})}),g.jsx(YA,{path:"/",element:g.jsx(kw,{to:"/dashboard",replace:!0})}),g.jsx(YA,{path:"/dashboard",element:g.jsx(Zo,{requiredPermission:rn.VIEW_DASHBOARD,children:g.jsx(Jl,{children:g.jsx(Yj,{})})})}),g.jsx(YA,{path:"/leads",element:g.jsx(Zo,{requiredPermission:rn.VIEW_LEADS,requiredModule:"leads",children:g.jsx(Jl,{children:g.jsx(Kj,{})})})}),g.jsx(YA,{path:"/invoices",element:g.jsx(Zo,{requiredPermission:rn.VIEW_INVOICES,requiredModule:"invoices",children:g.jsx(Jl,{children:g.jsx(Lj,{})})})}),g.jsx(YA,{path:"/customers",element:g.jsx(Zo,{requiredPermission:rn.VIEW_CUSTOMERS,requiredModule:"invoices",children:g.jsx(Jl,{children:g.jsx(Qj,{})})})}),g.jsx(YA,{path:"/settings",element:g.jsx(Zo,{children:g.jsx(Jl,{children:g.jsx(kj,{})})})}),g.jsx(YA,{path:"/subscription",element:g.jsx(Zo,{requiredPermission:rn.MANAGE_TENANT_SETTINGS,children:g.jsx(Jl,{children:g.jsx($j,{})})})}),g.jsx(YA,{path:"/admin/tenants",element:g.jsx(Zo,{requiredPermission:rn.MANAGE_ALL_TENANTS,children:g.jsx(Jl,{children:g.jsx(Gj,{})})})}),g.jsx(YA,{path:"/admin/users",element:g.jsx(Zo,{requiredPermission:rn.MANAGE_TENANT_USERS,children:g.jsx(Jl,{children:g.jsx(zj,{})})})})]})})})})}const Yj=()=>{const{userProfile:r}=useAuth();return r?.role===$r.SUPER_ADMIN?g.jsx(qj,{}):g.jsx(Pj,{})};hI.createRoot(document.getElementById("root")).render(g.jsx(Se.StrictMode,{children:g.jsx(Xj,{})}));export{Sr as _,Jj as c,qx as g};
